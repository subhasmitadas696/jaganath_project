(self.webpackChunksjrtproj=self.webpackChunksjrtproj||[]).push([[499],{2499:(xt,rt,Y)=>{"use strict";Y.r(rt),Y.d(rt,{HttpLoaderFactory:()=>be,SetworkflowModule:()=>se});var G=Y(529),B=Y(433),_e=Y(4333),l=Y(989),_=Y(2489),C=Y(7375),D=Y(1744),m=Y(1739),T=Y(2340),x=Y(6895),H=Y(1595),N=Y(5226),v=Y.n(N),L=Y(60),A=Y.n(L),k=Y(7206),M=Y(3172),w=Y(8259),d=Y(4650),re=Y(6852),De=Y(1837),Re=Y(41),he=Y(836);class r{constructor(p,y){this.router=p,this.http=y}getFormDetails(p){let y=btoa(JSON.stringify(p));k.HmacSHA256(y,T.N.apiHashingKey).toString();p={REQUEST_DATA:y};let q=T.N.serviceURL+"getFormDetails";return this.http.get(q,p)}schemeDynCtrl(p){let y=btoa(JSON.stringify(p));p={REQUEST_DATA:y,REQUEST_TOKEN:k.HmacSHA256(y,T.N.apiHashingKey).toString()};let q=T.N.serviceURL+"getSchemeApplyDetails";return this.http.post(q,p)}schemeApply(p){let y=T.N.serviceURL+"schemeApply";return this.http.post(y,p)}loadDynamicBindDetails(p){let y=btoa(JSON.stringify(p));p={REQUEST_DATA:y,REQUEST_TOKEN:k.HmacSHA256(y,T.N.apiHashingKey).toString()};let q=T.N.serviceURL+"tableColumnFetch";return this.http.post(q,p)}previewDynamicForm(p){let y=btoa(JSON.stringify(p));p={REQUEST_DATA:y,REQUEST_TOKEN:k.HmacSHA256(y,T.N.apiHashingKey).toString()};let q=T.N.serviceURL+"previewDynamicForm";return this.http.post(q,p)}applyForProcess(p){let y=btoa(JSON.stringify(p));p={REQUEST_DATA:y,REQUEST_TOKEN:k.HmacSHA256(y,T.N.apiHashingKey).toString()};let q=T.N.serviceURL+"applyForProcess";return this.http.post(q,p)}saveFileToTemp(p){let y=T.N.serviceURL+"saveFileToTemp";return this.http.post(y,p)}getLogo(p){let y=btoa(JSON.stringify(p));p={REQUEST_DATA:y,REQUEST_TOKEN:k.HmacSHA256(y,T.N.apiHashingKey).toString()};let q=T.N.serviceURL+"websitPreviewLogo";return this.http.post(q,p)}getQueryDetails(p){let y=btoa(JSON.stringify(p));p={REQUEST_DATA:y,REQUEST_TOKEN:k.HmacSHA256(y,T.N.apiHashingKey).toString()};let q=T.N.serviceURL+"getQueryDetails";return this.http.post(q,p)}queryReplyInsert(p){let y=T.N.serviceURL+"queryReplyInsert";return this.http.post(y,p)}getApplicationList(p){let y=btoa(JSON.stringify(p));p={REQUEST_DATA:y,REQUEST_TOKEN:k.HmacSHA256(y,T.N.apiHashingKey).toString()};let q=T.N.serviceURL+"getApplicationList";return this.http.post(q,p)}noResubmitHistory(p){let y=btoa(JSON.stringify(p));p={REQUEST_DATA:y,REQUEST_TOKEN:k.HmacSHA256(y,T.N.apiHashingKey).toString()};let q=T.N.serviceURL+"noResubmitHistory";return this.http.post(q,p)}previewDynamicFormOfHistory(p){let y=btoa(JSON.stringify(p));p={REQUEST_DATA:y,REQUEST_TOKEN:k.HmacSHA256(y,T.N.apiHashingKey).toString()};let q=T.N.serviceURL+"previewDynamicFormOfHistory";return this.http.post(q,p)}}function ze(Z,p){if(1&Z&&(d.TgZ(0,"option",60),d._uU(1),d.qZA()),2&Z){const y=p.$implicit;d.Q6J("value",y.ctrlCCStaticValue),d.xp6(1),d.hij(" ",y.ctrlCCStaticName,"")}}function le(Z,p){if(1&Z){const y=d.EpF();d.ynx(0),d.TgZ(1,"select",57),d.NdJ("change",function(q){d.CHM(y);const U=d.oxw(2);return d.KtG(U.workFlowConfig(q))}),d.TgZ(2,"option",58),d._uU(3,"--Select--"),d.qZA(),d.YNc(4,ze,2,2,"option",59),d.qZA(),d.BQk()}if(2&Z){const y=d.oxw(2);d.xp6(4),d.Q6J("ngForOf",y.workflowarrDetails)}}function Ge(Z,p){if(1&Z&&(d.TgZ(0,"option",60),d._uU(1),d.qZA()),2&Z){const y=p.$implicit,F=d.oxw(3);d.Q6J("value",y[F.dynbindvalclmn]),d.xp6(1),d.hij(" ",y[F.dynbindtxtclmname],"")}}function Pe(Z,p){if(1&Z){const y=d.EpF();d.ynx(0),d.TgZ(1,"select",57),d.NdJ("change",function(q){d.CHM(y);const U=d.oxw(2);return d.KtG(U.workFlowConfig(q))}),d.TgZ(2,"option",58),d._uU(3,"--Select--"),d.qZA(),d.YNc(4,Ge,2,2,"option",59),d.qZA(),d.BQk()}if(2&Z){const y=d.oxw(2);d.xp6(4),d.Q6J("ngForOf",y.workflowarrDetails)}}function je(Z,p){if(1&Z&&(d.ynx(0),d.TgZ(1,"div",6)(2,"label",7),d._uU(3),d.qZA(),d.TgZ(4,"div",9)(5,"div",10),d.YNc(6,le,5,1,"ng-container",17),d.YNc(7,Pe,5,1,"ng-container",17),d.qZA()()(),d.BQk()),2&Z){const y=d.oxw();d.xp6(3),d.hij("* ",y.workFlowFormConfg.ctrlLabel,""),d.xp6(3),d.Q6J("ngIf","static"==y.bindType),d.xp6(1),d.Q6J("ngIf","dynamic"==y.bindType)}}function $(Z,p){if(1&Z){const y=d.EpF();d.TgZ(0,"div",19),d.NdJ("dragstart",function(q){d.CHM(y);const U=d.oxw();return d.KtG(U.drag(q))}),d.TgZ(1,"span",20),d._UZ(2,"i",21),d.qZA(),d._uU(3),d.qZA()}if(2&Z){const y=p.$implicit;d.uIk("data-node",y.intRoleId),d.xp6(3),d.hij(" ",y.vchRoleName," ")}}function we(Z,p){if(1&Z&&(d.TgZ(0,"li",61)(1,"div"),d._UZ(2,"input",62),d.TgZ(3,"label",63),d._uU(4),d.qZA()()()),2&Z){const y=p.$implicit;d.xp6(2),d.MGl("id","chk_",y.tinApprovalActionId,""),d.s9C("value",y.tinApprovalActionId),d.xp6(1),d.MGl("for","chk_",y.tinApprovalActionId,""),d.xp6(1),d.Oqu(y.vchActionName)}}function ye(Z,p){if(1&Z&&(d.TgZ(0,"li",61)(1,"div"),d._UZ(2,"input",64),d.TgZ(3,"label",63),d._uU(4),d.qZA()()()),2&Z){const y=p.$implicit;d.xp6(2),d.MGl("id","chkdocs_",y.docId,""),d.s9C("value",y.docId),d.xp6(1),d.MGl("for","chkdocs_",y.docId,""),d.xp6(1),d.Oqu(y.docName)}}function pe(Z,p){1&Z&&(d.TgZ(0,"div",65),d._UZ(1,"div",66),d.TgZ(2,"p"),d._uU(3,'"Loading...'),d.qZA()())}r.\u0275fac=function(p){return new(p||r)(d.LFG(H.F0),d.LFG(G.eN))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"});class X{constructor(p,y,F,q,U,ee,Ne,qe,Ce,Ae){this.fb=p,this.route=y,this.httpClient=F,this.router=q,this.commonService=U,this.vldChkLst=ee,this.translate=Ne,this.encDec=qe,this.workFlowServices=Ce,this.WebCommonService=Ae,this.btnSaveEventTxt="Save",this.loading=!1,this.title="Work Flow",this.jsonurl="assets/js/_configs/addWorkflow.config.json",this.arralldynVal=[],this.saveStatus=0,this.txtModuleId=null,this.txtFormId=null,this.nodeSelected=null,this.formNames=null,this.docNames=[],this.txtFormName=null,this.txtModuleName=null,this.roleArr=[],this.selForms=0,this.applicantRole="CITIZEN",this.docUploads=[],this.approvalDocuments="",this.approvalDocRow=[1],this.approvalDocEvents=[],this.appDocumentArr=[],this.selectedNodeRoleIdAndRoleName=[],this.selectNodeArr=[],this.allAssignedVerifyDocs=[],this.curAssignedVerifyDocs=[],this.langKey="en",this.disabled=!1,this.ShowFilter=!1,this.limitSelection=!1,this.cities=[],this.selectedItems=[],this.dropdownSettings={},this.arrAllFormDetails={},this.arrAllLabelParms=[],this.showConditionStatus=2,this.workFlowFormConfg="",this.workflowarrDetails=[],this.dynFilterDetails="",this.dynFilterCtrlId="",this.arrAllLetterDetails="",this.checkedLtrDocs="",this.ltrIndx=0,this.checkedMailSms="",this.authCheckedMailSms=[],this.msgclickedEvent="",this.mailConigDetails="",this.smsConfigDetails="",this.whatsappConfigDetails="",this.bindType="",this.dynbindtxtclmname="",this.dynbindvalclmn="";let st=this.router.snapshot.paramMap.get("id");if(""!=st){let He=this.encDec.decText(st).split(":");this.txtModuleId=He[0],this.txtFormId=He[1],this.getsectionId=He[2]}this.sessiontoken=sessionStorage.getItem("ADMIN_SESSION"),this.dynamicForm=this.fb.group({itemId:[this.txtFormId],sectionId:[this.getsectionId],formDetails:this.fb.array([]),status:0,otherStatus:"",updatedBy:[this.userId],createdBy:[this.userId],selForms:this.selForms})}ngOnInit(){this.id=document.querySelector("#drawflow"),this.editor=new(A())(this.id),this.registerEvents(this.editor),this.editor.reroute=!0,this.editor.reroute_fix_curvature=!0,this.editor.force_first_input=!1,this.editor.curvature=0,this.editor.line_path=2,this.editor.start();const p=document.getElementsByClassName("drag-drawflow");for(let y=0;y<p.length;y++)p[y].addEventListener("touchend",this.drop,!1),p[y].addEventListener("touchmove",this.positionMobile,!1),p[y].addEventListener("touchstart",this.drag,!1);this.getForms(),this.getDocuments(),this.loadEvents(),this.getRoles(),this.dropdownSettings={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:this.ShowFilter},this.commonService.setBreadcumData("Set Workflow")}changeFunction(p){this.txtFormId=p.target.value,this.fillCanvasWorkflow(),this.loadEvents(),this.getDocuments(),w(".eventSection").find("#txtTimeLine").val("")}getWorkFlowDetailsFormConfig(){this.commonService.setLoader(!0);let p={processId:this.txtFormId};this.workFlowServices.getWorkFlowDetailsFormConfig(p).subscribe(y=>{this.commonService.setLoader(!1);let F=y.RESPONSE_DATA;if(y.RESPONSE_TOKEN==k.HmacSHA256(F,T.N.apiHashingKey).toString()){let ee=M.lW.from(F,"base64");if(ee=JSON.parse(ee.toString()),200==ee.status)if(ee.flowDetails.length>0){let Ne=JSON.parse(ee.flowDetails);this.workFlowFormConfg=Ne.formDetails,this.bindType=this.workFlowFormConfg.cascadingCtrlDetails[0].ctrlCCbindDatatype;let qe=this.workFlowFormConfg.cascadingCtrlDetails[0].ctrlCCbindDatatype;if("dynamic"==qe){let Ce=this.workFlowFormConfg.cascadingCtrlDetails[0].ctrlCCDTableName;this.dynbindtxtclmname=this.workFlowFormConfg.cascadingCtrlDetails[0].ctrlCCDTextColumnName,this.dynbindvalclmn=this.workFlowFormConfg.cascadingCtrlDetails[0].ctrlCCDValueColumnName;let Ae=this.workFlowFormConfg.cascadingCtrlDetails[0].ctrlCCDConditions,st={tableName:this.encDec.escapeHtml(Ce),columnName:this.encDec.escapeHtml(this.dynbindtxtclmname+","+this.dynbindvalclmn),condition:this.encDec.escapeHtml(Ae)};this.dynmaicValApi(st)}else"static"==qe&&(this.workflowarrDetails=this.workFlowFormConfg.cascadingCtrlDetails[0].ctrlStaticOptions)}else this.fillCanvasWorkflow();else 417==ee.status&&v().fire({icon:"error",text:"Invalid Request"})}else v().fire({icon:"error",text:"Invalid Request"})})}dynmaicValApi(p){this.commonService.setLoader(!0),this.WebCommonService.loadDynamicBindDetails(p).subscribe(y=>{this.commonService.setLoader(!1);let F=y.RESPONSE_DATA;if(y.RESPONSE_TOKEN==k.HmacSHA256(F,T.N.apiHashingKey).toString()){let ee=M.lW.from(F,"base64");ee=JSON.parse(ee.toString()),200==ee.status?""!=ee.result&&(this.workflowarrDetails=ee.result):417==ee.status&&v().fire({icon:"error",text:"Invalid Request"})}else v().fire({icon:"error",text:"Invalid Request"})})}loadDynamicCtrls(p){this.commonService.setLoader(!0),this.WebCommonService.schemeDynCtrl(p).subscribe(y=>{this.commonService.setLoader(!1);let F=y.RESPONSE_DATA;if(y.RESPONSE_TOKEN==k.HmacSHA256(F,T.N.apiHashingKey).toString()){let ee=M.lW.from(F,"base64");if(ee=JSON.parse(ee.toString()),200==ee.status){let Ne=Object.keys(ee.result);for(let qe of Ne)for(let Ce of ee.result[qe].formDetails)T.N.workflowconfiguredtypeid.includes(Ce.ctrlTypeId)&&(this.arrAllFormDetails[Ce.ctrlId]=[Ce],this.arrAllLabelParms.push({ctrlId:Ce.ctrlId,ctrlLabel:Ce.ctrlLabel}))}else 417==ee.status?v().fire({icon:"error",text:"Invalid Request"}):v().fire({icon:"error",text:"error while getting data in dynamic form"})}else v().fire({icon:"error",text:"Invalid Request"})})}showDependCtrls(p){"1"==p?(document.getElementById("showYesDiv")?.setAttribute("style","display: block;"),document.getElementById("showYesDiv")?.classList.remove("d-none")):(document.getElementById("showYesDiv")?.setAttribute("style","display: none;"),document.getElementById("showYesDiv")?.classList.add("d-none"))}onItemSelect(p){}onSelectAll(p){}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}handleLimitSelection(){this.limitSelection?this.dropdownSettings=Object.assign({},this.dropdownSettings,{limitSelection:2}):this.dropdownSettings=Object.assign({},this.dropdownSettings,{limitSelection:null})}loadconfig(){this.httpClient.get(this.jsonurl).subscribe(p=>{this.tablist=p[0].tabList,this.utillist=p[0].utils,this.messaageslist=p[0].messages,this.title=p[0].pagetitle,this.allConditions=p[0].condtions})}positionMobile(p){this.mobile_last_move=p}allowDrop(p){p.preventDefault()}drag(p){"touchstart"===p.type?this.mobile_item_selec=p.target.closest(".drag-drawflow").getAttribute("data-node"):p.dataTransfer.setData("node",p.target.getAttribute("data-node"))}drop(p){if("touchend"!==p.type){let y=p.dataTransfer.getData("node");this.addNodeToDrawFlow(y,p.clientX,p.clientY)}}addNodeToDrawFlow(p,y,F){if("fixed"===this.editor.editor_mode)return!1;y=y*(this.editor.precanvas.clientWidth/(this.editor.precanvas.clientWidth*this.editor.zoom))-this.editor.precanvas.getBoundingClientRect().x*(this.editor.precanvas.clientWidth/(this.editor.precanvas.clientWidth*this.editor.zoom)),F=F*(this.editor.precanvas.clientHeight/(this.editor.precanvas.clientHeight*this.editor.zoom))-this.editor.precanvas.getBoundingClientRect().y*(this.editor.precanvas.clientHeight/(this.editor.precanvas.clientHeight*this.editor.zoom));for(let q of this.roleArr)if(q.intRoleId==p){let U='\n                <div>\n                <div class="box">\n                    '+q.vchRoleName+"\n                </div>\n                </div>\n                ";this.editor.addNode(q.vchRoleName,1,1,y,F,"AUTH",{userType:2,desgId:q.vchRoleName,roleId:q.intRoleId},U)}if("CITIZEN"===p){let q='\n                      <div>\n                      <div class="box">\n                      CITIZEN\n                      </div>\n                      </div>\n                      ';this.editor.addNode("CITIZEN",0,1,y,F,"CITIZEN",{userType:1},q)}return!0}getRoleId(p){return p.roleId}registerEvents(p){p.on("nodeCreated",y=>{}),p.on("nodeRemoved",y=>{}),p.on("nodeSelected",y=>{w("#btnConfirmOk").off("click"),this.updateEvents(p,y)}),p.on("nodeUnselected",y=>{this.nodeSelected=null,w("#btnSaveEvent").hide(),w(".eventSection").find(".chk_actions").prop("checked",!1),w(".eventSection").find(".chk_docs").prop("checked",!1),w(".eventSection").find("#txtTimeLine").val("")}),p.on("moduleCreated",y=>{}),p.on("moduleChanged",y=>{}),p.on("connectionCreated",y=>{let F=y.input_id,q=this.getLavelCtr(p,F,0),ee=p.getNodeFromId(F).data;ee.lavel=Number(q),p.updateNodeDataFromId(F,ee)}),p.on("connectionRemoved",y=>{}),p.on("mouseMove",y=>{}),p.on("nodeMoved",y=>{}),p.on("zoom",y=>{}),p.on("translate",y=>{}),p.on("addReroute",y=>{}),p.on("removeReroute",y=>{})}drawflow(){return{drawflow:{}}}loadEvents(){this.workFlowServices.getEvents([]).subscribe(y=>{let F=y.RESPONSE_DATA,U=(y.RESPONSE_TOKEN,M.lW.from(F,"base64"));U=JSON.parse(U.toString()),200==U.status&&(this.approvalActions=U.result)})}getRoles(){this.workFlowServices.getAdminRoles([]).subscribe(y=>{let F=y.RESPONSE_DATA,U=(y.RESPONSE_TOKEN,M.lW.from(F,"base64"));U=JSON.parse(U.toString()),200==U.status&&(this.roleArr=U.result)})}validator(){if(""!=this.workFlowFormConfg&&""==this.dynFilterDetails)return v().fire({icon:"error",text:"Select "+this.workFlowFormConfg.ctrlLabel}),!1;let p=this.editor.drawflow.drawflow.Home.data,y=Object.keys(p),F=[],U=[],ee=!0,qe=this,Ce="";if(w(y).each(function(He){let Se=y[He],Oe=Object.keys(p[Se].inputs),Ze=Object.keys(p[Se].outputs),et=[],lt=[];if(Ze.length>0?lt=p[Se].outputs.output_1.connections:p[Se].outputs={},Oe.length<=0)p[Se].inputs={};else if(p[Se].inputs.input_1.connections.length>0)for(let Fe=0;Fe<p[Se].inputs.input_1.connections.length;Fe++)et.push(p[Se].inputs.input_1.connections[Fe].node);let ae=p[Se].data;if(lt.length>1&&w(lt).each(function(Fe){let Ye=lt[Fe].node;F.push(Ye)}),1==ae.userType&&(Ce=ae.allMailSms),2==ae.userType){let Fe=ae.lavel>0?ae.lavel:0,Ye=ae.desgId>0?ae.desgId:0,J=ae.roleId>0?ae.roleId:0,Le=ae.events,yt=ae.documents,Rt=ae.timeline,Ct=ae.approvalDocs,Lt=ae.approvalLetters,Tt=ae.demandPaymentStaus,ct=ae.approvalDocuments,Ue=ae.calcStatus,Je=ae.calcDetails,Ke="",Xe="",ut=ae.allMailSms,Ot=ae.documentVerify;if(0==p[Se].inputs.input_1.connections.length)return v().fire({icon:"error",text:"Connect the authorities that were inside the workflow area"}),ee=!1,!1;if(!Le)return v().fire({icon:"error",text:"Choose action events for selected authority"}),ee=!1,!1;if(Ke=Le.join(),!yt)return v().fire({icon:"error",text:"Choose document checklist for selected authority"}),ee=!1,!1;if(Xe=yt.join(),""==Rt||Rt<=0)return v().fire({icon:"error",text:"Enter timeline in days!"}),ee=!1,!1;if(1==ae.userType){let Et={output:lt,data:ae,currentId:Se,stageNo:1};return U.push(Et),!1}let Mt=0;Mt=F.includes(Se)?1:2;let wt={tinStageNo:Fe,desgId:Ye,roleId:J,authActions:Ke,authDocss:Xe,parallel:Mt,selProject:0,selProcess:qe.txtFormId,timeline:Rt,authDocs:Ct,authLetters:Lt,demandNoteStatus:Tt,approvalDocuments:ct,calcStatus:Ue,calcDetails:Je,vchParentNodes:et.join(),tinCurrentNode:Se,authMailSmsDetails:""!=ut&&null!=ut?JSON.stringify(ut):"",documentVerify:Ot};U.push(wt)}return He}),!ee)return!1;if(0==U.length)return v().fire({icon:"error",text:"please configure the workflow"}),!1;let Ae=qe.editor.drawflow;Ae=JSON.stringify(Ae);let st={projectId:0,serviceId:this.dynamicForm.value.selForms,paymentType:1,stageData:U,drawData:this.encDec.escapeHtml(Ae),controlName:"",sectionName:"",projectCategory:0,dynFilterDetails:this.dynFilterDetails,dynFilterCtrlId:this.dynFilterDetails.length>0?this.workFlowFormConfg.ctrlId:"",applicantMailSmsDetails:""!=Ce&&null!=Ce?JSON.stringify(Ce):""},Te=0;return 0==this.saveStatus&&(Te=1,v().fire({icon:"error",text:"Please click the save button  to proceed further "})),0==Te&&(this.commonService.setLoader(!0),this.workFlowServices.saveCanvasData(st).subscribe(He=>{let Se=He.RESPONSE_DATA,Ze=(He.RESPONSE_TOKEN,M.lW.from(Se,"base64"));Ze=JSON.parse(Ze.toString()),0==Ze?(this.commonService.setLoader(!1),v().fire({icon:"success",text:"Workflow configured successfully!"}).then(et=>{})):v().fire({icon:"error",text:"error In Database!"})})),!0}getForms(){let p={moduleId:this.txtModuleId,processId:this.txtFormId};this.commonService.getFormName(p).subscribe(y=>{let F=y.RESPONSE_DATA,U=(y.RESPONSE_TOKEN,M.lW.from(F,"base64"));U=JSON.parse(U.toString()),200==U.status?(this.formNames=U.result,this.formNames.length>0&&(this.txtFormName=this.formNames[0].vchProcessName)):417==U.status&&v().fire({icon:"error",text:"Invalid Request"})})}getDocuments(){this.commonService.getDocuments({}).subscribe(y=>{let F=y.RESPONSE_DATA,U=(y.RESPONSE_TOKEN,M.lW.from(F,"base64"));U=JSON.parse(U.toString()),200==U.status?this.docNames=U.result:417==U.status&&v().fire({icon:"error",text:"Invalid Request"})})}updateEvents(p,y){this.checkedMailSms="",this.checkedLtrDocs="",this.selAppDocuments=null,this.selDraftLetter=null,this.appDocumentArr=[],w("#btnSaveEvent").off("click"),w("#btnAlertOk").off("click"),w("#btnSaveEvent").show(),w(".eventSection").find(".chk_actions").prop("checked",!1),w(".eventSection").find(".chk_docs").prop("checked",!1),w(".eventSection").find("#txtTimeLine").val(""),w(".eventSection").find("#hdnApprovalDocs").val(""),w(".eventSection").find("#hdnApprovalLetters").val(""),w(".eventSection").find("#hdnAllApprovalDocuments").val(""),w(".eventSection").find("#lnkAuthType").hide(),w(".eventSection").find("#lnkLetterType").hide(),w(".eventSection").find("#approveDocType").hide(),w(".dm21").hide();let F=p.getNodeFromId(y);if(this.selectedNodeRoleIdAndRoleName={roleId:F.data.roleId,roleName:F.data.desgId,nodeId:F.id},F){var q=F.data;let He=F.data.userType;if(1==He)document.getElementById("eventsUl")?.classList.add("d-none"),document.getElementById("ConditionDiv")?.classList.add("d-none"),document.getElementById("timelineDiv")?.classList.add("d-none"),document.getElementById("eventsU2")?.classList.remove("d-none"),this.checkedMailSms=null==F.data.allMailSms?"":F.data.allMailSms;else if(2==He){document.getElementById("eventsU2")?.classList.add("d-none"),document.getElementById("eventsUl")?.classList.remove("d-none"),document.getElementById("ConditionDiv")?.classList.remove("d-none"),document.getElementById("timelineDiv")?.classList.remove("d-none"),this.checkedMailSms=null==F.data.allMailSms?"":F.data.allMailSms,w("#btnSaveEvent").show(),this.nodeSelected=y;var U=F.data.events,ee=F.data.documents,Ne=F.data.timeline,qe=F.data.approvalDocs;this.checkedLtrDocs=null!=F.data.approvalLetters?F.data.approvalLetters:"";var Ce=F.data.demandPaymentStaus,Ae=F.data.approvalDocuments;this.appDocumentArr=F.data.documentVerify,Ae&&(this.selAppDocuments=Ae,this.approvalDocRow=Ae),null!=this.checkedLtrDocs&&this.checkedLtrDocs.length>0&&(this.selDraftLetter=F.data.approvalLetters);let Se=F.data.calcDetails,Oe=F.data.calcStatus;1==Number(Oe)?(w("#calcStatus1").prop("checked",!0),w("#selFieldName").val(Se[0].calcfield),w("#selCalc").val(Se[0].selCalc),w("#txtValue").val(Se[0].txtValue),document.getElementById("showYesDiv")?.setAttribute("style","display: block;"),document.getElementById("showYesDiv")?.classList.remove("d-none")):(w("#calcStatus2").prop("checked",!0),w("#selFieldName").val("0"),w("#selCalc").val("0"),w("#txtValue").val(" "),document.getElementById("showYesDiv")?.setAttribute("style","display: none;"),document.getElementById("showYesDiv")?.classList.add("d-none")),w(U).each(function(Ze){let et=U[Ze];w('.chk_actions[value="'+et+'"]').prop("checked",!0)}),w(ee).each(function(Ze){let et=ee[Ze];w('.chk_docs[value="'+et+'"]').prop("checked",!0)}),w("#txtTimeLine").val(Ne),""!=qe&&typeof qe<"u"&&w("#lnkAuthType").show(),""!=this.checkedLtrDocs&&typeof this.checkedLtrDocs<"u"&&w("#lnkLetterType").show(),""!=Ae&&typeof Ae<"u"&&w("#approveDocType").show(),""!=Ce&&typeof Ce<"u"?(2==Number(Ce)&&w("#dn").prop("checked",!0),w(".dem21").show()):w(".dem21").hide(),w("#hdnApprovalDocs").val(qe),w("#hdnApprovalLetters").val(this.checkedLtrDocs),w("#hdnAllApprovalDocuments").val(Ae)}else w("#btnSaveEvent").hide()}let Te=this;w("#btnSaveEvent").on("click",function(){let He=p.getNodeFromId(y).data.userType;Te.selDraftLetter=null;let Se=[],Oe=[],Ze=0,et=0,lt=0;w(".chk_actions").each(function(){if(w(this).is(":checked")){let Xe=w(this).val();12==Number(Xe)&&(Ze=1),13==Number(Xe)&&(et=1),32==Number(Xe)&&(lt=1),Se.push(Xe)}}),w(".chk_docs").each(function(){if(w(this).is(":checked")){let Xe=w(this).val();Oe.push(Xe)}});let ae=0;w("#chk_21").is(":checked")&&(ae=1,w("#dn").is(":checked")&&(ae=2));let Fe=w("#txtTimeLine").val(),Ye=w("#hdnAllDocs").val(),J=1==Ze?w("#hdnApprovalDocs").val():"",Le=w("#hdnAllLetters").val(),yt=1==et?w("#hdnApprovalLetters").val():"";1==lt&&w("#hdnAllApprovalDocuments").val();""!=J&&(Ye=Ye+","+J),""!=yt&&(Le=Le+","+yt);let Ct=w("#selFieldName").find(":selected").val(),Lt=w("#selFieldName").find(":selected").attr("data-val"),Tt=w("#selCalc").find(":selected").val(),ct=w("#txtValue").val(),Ue=w('input[name="calStatus"]:checked').val(),Je=[],Ke=!0;if(1==Number(Ue)&&(Te.vldChkLst.selectDropdown(Ct," Select Field Name")||(Ke=!1),Te.vldChkLst.selectDropdown(Tt," Select Condition")||(Ke=!1),Te.vldChkLst.blankCheck("txtValue",ct,'Value <span class="">cannot be left blank</span>')||(Ke=!1),Je.push({calcfield:Ct,selCalc:Tt,txtValue:ct.trim(),dynTableName:Lt.trim(),dyncolName:Te.arrAllFormDetails[Ct][0].tablecolDetails[0].ctrlTblColName})),q.events=Se,q.documents=Oe,q.timeline=Fe,q.approvalLetters=Te.checkedLtrDocs,q.demandPaymentStaus=ae,q.approvalDocuments=Te.approvalDocuments,q.verifyDocs=Te.allAssignedVerifyDocs,q.calcStatus=Ue,q.calcDetails=Je,q.allMailSms=Te.checkedMailSms,q.documentVerify=Te.appDocumentArr,Ke){if(w("#hdnAllDocs").val(Ye),w("#hdnAllLetters").val(Le),w("#hdnAllApprovalDocuments").val(Te.approvalDocuments),w("#hdnCalcDetails").val(Je),w("#hdnAllSmsMail").val(Te.checkedMailSms),w("#hdndocumentVerify").val(Te.appDocumentArr),2==He){if(Se.length<=0)return v().fire({icon:"error",text:"Choose action events for selected authority"}),!1;if(Oe.length<=0)return v().fire({icon:"error",text:"Choose document checklist for selected authority"}),!1;if(""==Fe||Fe<=0)return v().fire({icon:"error",text:"Enter timeline in days!"}),!1}return q.events=Se,q.documents=Oe,q.timeline=Fe,q.approvalLetters=yt,q.demandPaymentStaus=ae,q.approvalDocuments=Te.approvalDocuments,q.verifyDocs=Te.allAssignedVerifyDocs,q.calcStatus=Ue,q.calcDetails=Je,p.updateNodeDataFromId(y,q),Te.btnSaveEventTxt="Save",v().fire({icon:"success",text:"Event configured successfully. Click submit button for final submission."}).then(Xe=>{if(Xe.isConfirmed){w("#lnkAuthType").hide(),w("#lnkLetterType").hide(),w("#approveDocType").hide(),w("#hdnApprovalDocs").val(""),w("#hdnApprovalLetters").val(""),w("#hdnAllApprovalDocuments").val(""),w("#hdnAllSmsMail").val(""),w("#hdndocumentVerify").val(""),w(".dem21").hide(),document.getElementById("showYesDiv")?.setAttribute("style","display: none;"),document.getElementById("showYesDiv")?.classList.add("d-none"),w(".calcStatus").prop("checked",!1),w("#calcStatus2").prop("checked",!0),Te.checkedMailSms="",Te.approvalDocuments="",Te.approvalDocRow=[1],Te.checkedLtrDocs="";let ut=document.getElementsByClassName("mailSmsChkBx");for(let Ot of ut)Ot.checked=!1}}),!0}return!1})}getLavelCtr(p,y,F){let q=p.getNodeFromId(y);if(Object.keys(q.inputs).length>0){let ee=q.inputs.input_1.connections;if(ee.length>0){F++;let Ne=ee[0].node;F=this.getLavelCtr(p,Ne,F)}}return F}fillCanvasWorkflow(){this.editor.clearModuleSelected();let p={projectId:0,serviceId:this.txtFormId,paymentType:1,labelId:0,ctrlName:"",projectCategory:0,dynFilterDetails:this.dynFilterDetails};this.workFlowServices.fillWorkflowData(p).subscribe(y=>{if(0==y.errorFlag&&y.result){let F=y.result;F=JSON.parse(F),this.editor.import(F);let q=F.drawflow.Home.data,U=Object.keys(q),ee="";w(U).each(function(Ne){let qe=U[Ne],Ae=q[parseInt(qe)].data.approvalDocs;typeof Ae<"u"&&""!=Ae&&(ee=ee+Ae+",")}),ee=ee.slice(0,-1),w("#hdnAllDocs").val(ee)}})}workFlowConfig(p){let y=document.getElementsByClassName("chk_actions");for(let q of y)q.checked=!1;let F=document.getElementsByClassName("chk_docs");for(let q of F)q.checked=!1;document.getElementById("txtTimeLine").value="",document.getElementById("calcStatus2").checked=!0,document.getElementById("showYesDiv").classList.add("d-none"),this.dynFilterDetails=p.target.value,this.fillCanvasWorkflow()}OnSave(p){null==this.nodeSelected&&v().fire({icon:"error",text:"Please select authority to Proceed."}),this.saveStatus=p}OnRefresh(){this.dynamicForm.patchValue({selForms:0}),this.txtFormId=0,this.fillCanvasWorkflow(),this.loadEvents(),this.getDocuments(),w(".eventSection").find("#txtTimeLine").val("")}}X.\u0275fac=function(p){return new(p||X)(d.Y36(B.qu),d.Y36(H.F0),d.Y36(G.eN),d.Y36(H.gz),d.Y36(re.R),d.Y36(De._),d.Y36(m.sK),d.Y36(Re.q),d.Y36(he.z),d.Y36(r))},X.\u0275cmp=d.Xpm({type:X,selectors:[["app-addsetworkflow"]],decls:82,vars:8,consts:[["_ngcontent-ukv-c141","",1,"container-fluid","px-4"],["id","page-content",1,"page-controls-section"],[3,"formGroup"],[1,"card"],[1,"card-body"],[1,"controls-section"],[1,"row"],[1,"col-md-4","col-lg-2","mt-2"],[1,"text-danger"],[1,"col-md-8","col-lg-3"],[1,"form-group"],[1,"control-item"],["formControlName","selForms","id","selForms",1,"form-select",3,"change"],["selForms",""],["value","0","selected",""],["value","1"],["value","2"],[4,"ngIf"],[1,"col-xxl-3","col-xl-3","col-lg-3","col-md-12","col-sm-12"],["draggable","true",1,"drag-drawflow","border","mt-1",3,"dragstart"],[1,"h5","p-1"],["aria-hidden","true",1,"fa","fa-user"],["class","drag-drawflow border mt-1","draggable","true",3,"dragstart",4,"ngFor","ngForOf"],[1,"col-xxl-6","col-xl-6","col-lg-6","col-md-12","col-sm-12"],["id","drawflow",3,"drop","dragover"],[1,"col-xxl-5","col-xl-5","col-lg-5","col-md-12","col-sm-12"],[1,"mt-3"],["type","button","value","Submit",1,"btn","btn-success","me-1",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"eventSection"],[1,"accordion"],[1,"accordion-item","mb-3"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#event_section","aria-expanded","true","aria-controls","event_section",1,"accordion-button"],["id","event_section",1,"show","collapse","in"],[1,"accordion-body",2,"height","200px","overflow","auto"],["id","eventsUl"],["class","py-2 pl-2 d-flex align-items-center justify-content-between",4,"ngFor","ngForOf"],["id","eventsU2",1,"d-none"],["type","hidden","id","hdnApprovalDocs"],["type","hidden","id","hdnAllDocs"],["type","hidden","id","hdnApprovalLetters"],["type","hidden","id","hdnAllLetters"],["type","hidden","id","hdnAllApprovalDocuments","value","test"],["type","hidden","id","hdnCalcDetails"],["type","hidden","id","hdnAllSmsMail"],["type","hidden","id","hdndocumentVerify"],["id","timelineDiv",1,"accordion-item","mb-3"],["type","button","data-bs-toggle","collapse","data-bs-target","#time_section","aria-expanded","true","aria-controls","event_section",1,"accordion-button"],["id","time_section",1,"show","collapse","in"],[1,"accordion-body"],[1,"input-group","input-focus"],["type","number","name","txtTimeLine","id","txtTimeLine","autocomplete","off","min","0","oninput","this.value=this.value.slice(0,this.maxLength)","maxlength","3",1,"form-control"],[1,"input-group-text"],[1,"text-center"],["id","btnSaveEvent",1,"btn","btn-success",3,"innerHTML","click"],["class","loader",4,"ngIf"],["name","dynWrkFlwImplementation","id","dynWrkFlwImplementation",1,"form-select",3,"change"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"py-2","pl-2","d-flex","align-items-center","justify-content-between"],["type","checkbox","name","chkActions[]",1,"chk_actions",3,"id","value"],[3,"for"],["type","checkbox","name","chkDocuments[]",1,"chk_docs",3,"id","value"],[1,"loader"],[1,"loader-item"]],template:function(p,y){1&p&&(d.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),d._uU(8," Form Name "),d.TgZ(9,"span",8),d._uU(10,"*"),d.qZA()(),d.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"select",12,13),d.NdJ("change",function(q){return y.changeFunction(q)}),d.TgZ(16,"option",14),d._uU(17,"--Select--"),d.qZA(),d.TgZ(18,"option",15),d._uU(19,"Land Application"),d.qZA(),d.TgZ(20,"option",16),d._uU(21,"NOC Application"),d.qZA()()()()()(),d.YNc(22,je,8,3,"ng-container",17),d.TgZ(23,"div",6)(24,"div",18)(25,"div",19),d.NdJ("dragstart",function(q){return y.drag(q)}),d.TgZ(26,"span",20),d._UZ(27,"i",21),d.qZA(),d._uU(28," CITIZEN "),d.qZA(),d.YNc(29,$,4,2,"div",22),d.qZA(),d.TgZ(30,"div",23)(31,"div",24),d.NdJ("drop",function(q){return y.drop(q)})("dragover",function(q){return y.allowDrop(q)}),d.qZA(),d.TgZ(32,"div",6)(33,"div",25)(34,"div",26)(35,"input",27),d.NdJ("click",function(){return y.validator()}),d.qZA(),d.TgZ(36,"a",28),d.NdJ("click",function(){return y.OnRefresh()}),d._uU(37,"Cancel"),d.qZA()()()()(),d.TgZ(38,"div",18)(39,"div",29)(40,"div",30)(41,"div",31)(42,"h2",32)(43,"a",33),d._uU(44," Events "),d.qZA()(),d.TgZ(45,"div",34)(46,"div",35)(47,"ul",36),d.YNc(48,we,5,4,"li",37),d.qZA(),d.TgZ(49,"ul",38)(50,"li")(51,"label"),d._uU(52," Mail and sms"),d.qZA()()(),d._UZ(53,"input",39)(54,"input",40)(55,"input",41)(56,"input",42)(57,"input",43)(58,"input",44)(59,"input",45)(60,"input",46),d.qZA()()(),d.TgZ(61,"div",31)(62,"h2",32)(63,"a",33),d._uU(64," Document Checklist "),d.qZA()(),d.TgZ(65,"div",34)(66,"div",35)(67,"ul",36),d.YNc(68,ye,5,4,"li",37),d.qZA()()()(),d.TgZ(69,"div",47)(70,"h2",32)(71,"a",48),d._uU(72," Timeline "),d.qZA()(),d.TgZ(73,"div",49)(74,"div",50)(75,"div",51),d._UZ(76,"input",52),d.TgZ(77,"div",53),d._uU(78,"Days"),d.qZA()()()()()(),d.TgZ(79,"div",54)(80,"a",55),d.NdJ("click",function(){return y.OnSave(1)}),d.qZA()()()()()()()()()(),d.YNc(81,pe,4,0,"div",56),d.qZA()),2&p&&(d.xp6(2),d.Q6J("formGroup",y.dynamicForm),d.xp6(20),d.Q6J("ngIf",""!=y.workFlowFormConfg),d.xp6(3),d.uIk("data-node",y.applicantRole),d.xp6(4),d.Q6J("ngForOf",y.roleArr),d.xp6(19),d.Q6J("ngForOf",y.approvalActions),d.xp6(20),d.Q6J("ngForOf",y.docNames),d.xp6(12),d.Q6J("innerHTML",y.btnSaveEventTxt,d.oJD),d.xp6(1),d.Q6J("ngIf",y.loading))},dependencies:[B._Y,B.YN,B.Kr,B.EJ,B.JJ,B.JL,B.sg,B.u,x.sg,x.O5],styles:[".accordion-button[_ngcontent-%COMP%]{padding:10px}.chk_actions[_ngcontent-%COMP%], .chk_docs[_ngcontent-%COMP%]{margin-right:5px}.modal-lg[_ngcontent-%COMP%]{--bs-modal-width:80%}.accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#202223;background-color:#80c8c16b;box-shadow:inset 0 calc(-1 * var(--bs-accordion-border-width)) 0 var(--bs-accordion-border-color)}.accordion-item[_ngcontent-%COMP%]:not(:first-of-type){border-top:1px solid #ccc}@media (max-width: 768px){.drawflow[_ngcontent-%COMP%]{margin-top:1rem}}@media (max-width: 768px){.eventSection[_ngcontent-%COMP%]{margin-top:1rem}}"]});class oe{}oe.\u0275fac=function(p){return new(p||oe)},oe.\u0275cmp=d.Xpm({type:oe,selectors:[["app-setworkflow"]],decls:1,vars:0,template:function(p,y){1&p&&d._UZ(0,"router-outlet")},dependencies:[H.lC]});const ve=[{path:"",component:oe},{path:"",component:oe,children:[{path:"addsetworkflow",component:X},{path:"addsetworkflow/:id",component:X}]}];class ge{}ge.\u0275fac=function(p){return new(p||ge)},ge.\u0275mod=d.oAB({type:ge}),ge.\u0275inj=d.cJS({imports:[H.Bz.forChild(ve),H.Bz]});const be=Z=>{let p=T.N.siteURL;return new D.w(Z,p+"assets/i18n/",".json")};class se{}se.\u0275fac=function(p){return new(p||se)},se.\u0275mod=d.oAB({type:se}),se.\u0275inj=d.cJS({imports:[G.JF,B.u5,B.UX,_e.JX,_.IJ,C.UM,l.kn.forRoot(),x.ez,m.aw.forRoot({loader:{provide:m.Zw,useFactory:be,deps:[G.eN]}}),ge,H.Bz]})},836:(xt,rt,Y)=>{"use strict";Y.d(rt,{z:()=>m});var G=Y(2340),B=Y(7206),l=Y(3172),_=Y(4650),C=Y(1595),D=Y(529);class m{constructor(x,H){this.router=x,this.http=H}getEvents(x){let H=btoa(JSON.stringify(x));x={REQUEST_DATA:H,REQUEST_TOKEN:B.HmacSHA256(H,G.N.apiHashingKey).toString()};let v=G.N.serviceURL+"getallApprovalAction";return this.http.get(v,x)}getAdminRoles(x){let H=btoa(JSON.stringify(x));x={REQUEST_DATA:H,REQUEST_TOKEN:B.HmacSHA256(H,G.N.apiHashingKey).toString()};let v=G.N.serviceURL+"getallOfficersApi";return this.http.get(v,x)}saveCanvasData(x){let H=btoa(JSON.stringify(x));x={REQUEST_DATA:H,REQUEST_TOKEN:B.HmacSHA256(H,G.N.apiHashingKey).toString()};let v=G.N.serviceURL+"setWorkflow";return this.http.post(v,x)}fillWorkflowData(x){let H=G.N.serviceURL+"fillWorkflow",N=new FormData,v=Object.keys(x);for(let A of v)N.append("arrParam["+A+"]",x[A]);return this.http.post(H,N)}getWorkFlowDetailsFormConfig(x){let H=btoa(JSON.stringify(x));x={REQUEST_DATA:H,REQUEST_TOKEN:B.HmacSHA256(H,G.N.apiHashingKey).toString()};let v=G.N.serviceURL+"getWorkFlowDetailsFormConfig";return this.http.post(v,x)}viewMessageConfigPublished(x){let H=btoa(JSON.stringify(x));x={REQUEST_DATA:H,REQUEST_TOKEN:B.HmacSHA256(H,G.N.apiHashingKey).toString()};let v=G.N.serviceURL+"viewMessageConfigPublished";return this.http.post(v,x)}getStatus(x){let H=0,N="",v="",L="";return x&&(H=x.tinStatus,N=x.intPendingAt,L=""!=x.dtmStatusDate?x.dtmStatusDate:"",8==H?(v="<div>Application Approved</div>",L&&(v+="<small>On : "+x.dtmStatusDate+"</small>")):3==H?(v="<div>Application Reverted to applicant</div>",L&&(v+="<small>On : "+x.dtmStatusDate+"</small>")):6==H?(v="<div>Query to Applicant </div>",L&&(v+="<small>On : "+x.dtmStatusDate+"</small>")):7==H?(v="<div>Application is Rejected</div>",L&&(v+="<small>On : "+x.dtmStatusDate+"</small>")):(v="<div>Pending at "+N+"</div><small>",L&&(v+="<small>From : "+x.dtmStatusDate+"</small>"))),v}getNotingList(x,H){let N=l.lW.from(JSON.stringify(x),"utf8").toString("base64"),L={REQUEST_DATA:N,REQUEST_TOKEN:B.HmacSHA256(N,G.N.apiHashingKey).toString()},A=G.N.serviceURL+H;return this.http.post(A,L)}getActionDetails(x,H){let N=l.lW.from(JSON.stringify(x),"utf8").toString("base64"),L={REQUEST_DATA:N,REQUEST_TOKEN:B.HmacSHA256(N,G.N.apiHashingKey).toString()},A=G.N.serviceURL+H;return this.http.post(A,L)}takeAction(x,H){let N=l.lW.from(JSON.stringify(x),"utf8").toString("base64"),L={REQUEST_DATA:N,REQUEST_TOKEN:B.HmacSHA256(N,G.N.apiHashingKey).toString()},A=G.N.serviceURL+H;return this.http.post(A,L)}}m.\u0275fac=function(x){return new(x||m)(_.LFG(C.F0),_.LFG(D.eN))},m.\u0275prov=_.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})},60:function(xt){typeof self<"u"&&self,xt.exports=function(rt){var Y={};function G(B){if(Y[B])return Y[B].exports;var _e=Y[B]={i:B,l:!1,exports:{}};return rt[B].call(_e.exports,_e,_e.exports,G),_e.l=!0,_e.exports}return G.m=rt,G.c=Y,G.d=function(B,_e,l){G.o(B,_e)||Object.defineProperty(B,_e,{enumerable:!0,get:l})},G.r=function(B){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(B,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(B,"__esModule",{value:!0})},G.t=function(B,_e){if(1&_e&&(B=G(B)),8&_e||4&_e&&"object"==typeof B&&B&&B.__esModule)return B;var l=Object.create(null);if(G.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:B}),2&_e&&"string"!=typeof B)for(var _ in B)G.d(l,_,function(C){return B[C]}.bind(null,_));return l},G.n=function(B){var _e=B&&B.__esModule?function(){return B.default}:function(){return B};return G.d(_e,"a",_e),_e},G.o=function(B,_e){return Object.prototype.hasOwnProperty.call(B,_e)},G.p="",G(G.s=0)}([function(rt,Y,G){"use strict";G.r(Y),G.d(Y,"default",function(){return B});class B{constructor(l,_=null,C=null){this.events={},this.container=l,this.precanvas=null,this.nodeId=1,this.ele_selected=null,this.node_selected=null,this.drag=!1,this.reroute=!1,this.reroute_fix_curvature=!1,this.curvature=.5,this.reroute_curvature_start_end=.5,this.reroute_curvature=.5,this.reroute_width=6,this.drag_point=!1,this.editor_selected=!1,this.connection=!1,this.connection_ele=null,this.connection_selected=null,this.canvas_x=0,this.canvas_y=0,this.pos_x=0,this.pos_x_start=0,this.pos_y=0,this.pos_y_start=0,this.mouse_x=0,this.mouse_y=0,this.line_path=5,this.first_click=null,this.force_first_input=!1,this.draggable_inputs=!0,this.useuuid=!1,this.parent=C,this.noderegister={},this.render=_,this.drawflow={drawflow:{Home:{data:{}}}},this.module="Home",this.editor_mode="edit",this.zoom=1,this.zoom_max=1.6,this.zoom_min=.5,this.zoom_value=.1,this.zoom_last_value=1,this.evCache=new Array,this.prevDiff=-1}start(){this.container.classList.add("parent-drawflow"),this.container.tabIndex=0,this.precanvas=document.createElement("div"),this.precanvas.classList.add("drawflow"),this.container.appendChild(this.precanvas),this.container.addEventListener("mouseup",this.dragEnd.bind(this)),this.container.addEventListener("mousemove",this.position.bind(this)),this.container.addEventListener("mousedown",this.click.bind(this)),this.container.addEventListener("touchend",this.dragEnd.bind(this)),this.container.addEventListener("touchmove",this.position.bind(this)),this.container.addEventListener("touchstart",this.click.bind(this)),this.container.addEventListener("contextmenu",this.contextmenu.bind(this)),this.container.addEventListener("keydown",this.key.bind(this)),this.container.addEventListener("wheel",this.zoom_enter.bind(this)),this.container.addEventListener("input",this.updateNodeValue.bind(this)),this.container.addEventListener("dblclick",this.dblclick.bind(this)),this.container.onpointerdown=this.pointerdown_handler.bind(this),this.container.onpointermove=this.pointermove_handler.bind(this),this.container.onpointerup=this.pointerup_handler.bind(this),this.container.onpointercancel=this.pointerup_handler.bind(this),this.container.onpointerout=this.pointerup_handler.bind(this),this.container.onpointerleave=this.pointerup_handler.bind(this),this.load()}pointerdown_handler(l){this.evCache.push(l)}pointermove_handler(l){for(var _=0;_<this.evCache.length;_++)if(l.pointerId==this.evCache[_].pointerId){this.evCache[_]=l;break}if(2==this.evCache.length){var C=Math.abs(this.evCache[0].clientX-this.evCache[1].clientX);this.prevDiff>100&&(C>this.prevDiff&&this.zoom_in(),C<this.prevDiff&&this.zoom_out()),this.prevDiff=C}}pointerup_handler(l){this.remove_event(l),this.evCache.length<2&&(this.prevDiff=-1)}remove_event(l){for(var _=0;_<this.evCache.length;_++)if(this.evCache[_].pointerId==l.pointerId){this.evCache.splice(_,1);break}}load(){for(var l in this.drawflow.drawflow[this.module].data)this.addNodeImport(this.drawflow.drawflow[this.module].data[l],this.precanvas);if(this.reroute)for(var l in this.drawflow.drawflow[this.module].data)this.addRerouteImport(this.drawflow.drawflow[this.module].data[l]);for(var l in this.drawflow.drawflow[this.module].data)this.updateConnectionNodes("node-"+l);const _=this.drawflow.drawflow;let C=1;Object.keys(_).map(function(D,m){Object.keys(_[D].data).map(function(T,x){parseInt(T)>=C&&(C=parseInt(T)+1)})}),this.nodeId=C}removeReouteConnectionSelected(){this.dispatch("connectionUnselected",!0),this.reroute_fix_curvature&&this.connection_selected.parentElement.querySelectorAll(".main-path").forEach((l,_)=>{l.classList.remove("selected")})}click(l){if(this.dispatch("click",l),"fixed"===this.editor_mode){if(l.preventDefault(),"parent-drawflow"!==l.target.classList[0]&&"drawflow"!==l.target.classList[0])return!1;this.ele_selected=l.target.closest(".parent-drawflow")}else"view"===this.editor_mode?(null!=l.target.closest(".drawflow")||l.target.matches(".parent-drawflow"))&&(this.ele_selected=l.target.closest(".parent-drawflow"),l.preventDefault()):(this.first_click=l.target,this.ele_selected=l.target,0===l.button&&this.contextmenuDel(),null!=l.target.closest(".drawflow_content_node")&&(this.ele_selected=l.target.closest(".drawflow_content_node").parentElement));switch(this.ele_selected.classList[0]){case"drawflow-node":null!=this.node_selected&&(this.node_selected.classList.remove("selected"),this.node_selected!=this.ele_selected&&this.dispatch("nodeUnselected",!0)),null!=this.connection_selected&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.node_selected!=this.ele_selected&&this.dispatch("nodeSelected",this.ele_selected.id.slice(5)),this.node_selected=this.ele_selected,this.node_selected.classList.add("selected"),this.draggable_inputs?"SELECT"!==l.target.tagName&&(this.drag=!0):"INPUT"!==l.target.tagName&&"TEXTAREA"!==l.target.tagName&&"SELECT"!==l.target.tagName&&!0!==l.target.hasAttribute("contenteditable")&&(this.drag=!0);break;case"output":this.connection=!0,null!=this.node_selected&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),null!=this.connection_selected&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.drawConnection(l.target);break;case"parent-drawflow":case"drawflow":null!=this.node_selected&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),null!=this.connection_selected&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.editor_selected=!0;break;case"main-path":null!=this.node_selected&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),null!=this.connection_selected&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.connection_selected=this.ele_selected,this.connection_selected.classList.add("selected");const _=this.connection_selected.parentElement.classList;_.length>1&&(this.dispatch("connectionSelected",{output_id:_[2].slice(14),input_id:_[1].slice(13),output_class:_[3],input_class:_[4]}),this.reroute_fix_curvature&&this.connection_selected.parentElement.querySelectorAll(".main-path").forEach((C,D)=>{C.classList.add("selected")}));break;case"point":this.drag_point=!0,this.ele_selected.classList.add("selected");break;case"drawflow-delete":this.node_selected&&this.removeNodeId(this.node_selected.id),this.connection_selected&&this.removeConnection(),null!=this.node_selected&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),null!=this.connection_selected&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null)}"touchstart"===l.type?(this.pos_x=l.touches[0].clientX,this.pos_x_start=l.touches[0].clientX,this.pos_y=l.touches[0].clientY,this.pos_y_start=l.touches[0].clientY,this.mouse_x=l.touches[0].clientX,this.mouse_y=l.touches[0].clientY):(this.pos_x=l.clientX,this.pos_x_start=l.clientX,this.pos_y=l.clientY,this.pos_y_start=l.clientY),["input","output","main-path"].includes(this.ele_selected.classList[0])&&l.preventDefault(),this.dispatch("clickEnd",l)}position(l){if("touchmove"===l.type)var _=l.touches[0].clientX,C=l.touches[0].clientY;else _=l.clientX,C=l.clientY;if(this.connection&&this.updateConnection(_,C),this.editor_selected&&(D=this.canvas_x+-(this.pos_x-_),m=this.canvas_y+-(this.pos_y-C),this.dispatch("translate",{x:D,y:m}),this.precanvas.style.transform="translate("+D+"px, "+m+"px) scale("+this.zoom+")"),this.drag){l.preventDefault();var D=(this.pos_x-_)*this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom),m=(this.pos_y-C)*this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom);this.pos_x=_,this.pos_y=C,this.ele_selected.style.top=this.ele_selected.offsetTop-m+"px",this.ele_selected.style.left=this.ele_selected.offsetLeft-D+"px",this.drawflow.drawflow[this.module].data[this.ele_selected.id.slice(5)].pos_x=this.ele_selected.offsetLeft-D,this.drawflow.drawflow[this.module].data[this.ele_selected.id.slice(5)].pos_y=this.ele_selected.offsetTop-m,this.updateConnectionNodes(this.ele_selected.id)}if(this.drag_point){D=(this.pos_x-_)*this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom),m=(this.pos_y-C)*this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom),this.pos_x=_,this.pos_y=C;var T=this.pos_x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom)),x=this.pos_y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom));this.ele_selected.setAttributeNS(null,"cx",T),this.ele_selected.setAttributeNS(null,"cy",x);const H=this.ele_selected.parentElement.classList[2].slice(9),N=this.ele_selected.parentElement.classList[1].slice(13),v=this.ele_selected.parentElement.classList[3],L=this.ele_selected.parentElement.classList[4];let A=Array.from(this.ele_selected.parentElement.children).indexOf(this.ele_selected)-1;this.reroute_fix_curvature&&(A-=this.ele_selected.parentElement.querySelectorAll(".main-path").length-1,A<0&&(A=0));const k=H.slice(5),M=this.drawflow.drawflow[this.module].data[k].outputs[v].connections.findIndex(function(d,re){return d.node===N&&d.output===L});this.drawflow.drawflow[this.module].data[k].outputs[v].connections[M].points[A]={pos_x:T,pos_y:x};const w=this.ele_selected.parentElement.classList[2].slice(9);this.updateConnectionNodes(w)}"touchmove"===l.type&&(this.mouse_x=_,this.mouse_y=C),this.dispatch("mouseMove",{x:_,y:C})}dragEnd(l){if("touchend"===l.type)var _=this.mouse_x,C=this.mouse_y,D=document.elementFromPoint(_,C);else _=l.clientX,C=l.clientY,D=l.target;if(this.drag&&(this.pos_x_start==_&&this.pos_y_start==C||this.dispatch("nodeMoved",this.ele_selected.id.slice(5))),this.drag_point&&(this.ele_selected.classList.remove("selected"),this.pos_x_start==_&&this.pos_y_start==C||this.dispatch("rerouteMoved",this.ele_selected.parentElement.classList[2].slice(14))),this.editor_selected&&(this.canvas_x=this.canvas_x+-(this.pos_x-_),this.canvas_y=this.canvas_y+-(this.pos_y-C),this.editor_selected=!1),!0===this.connection)if("input"===D.classList[0]||this.force_first_input&&(null!=D.closest(".drawflow_content_node")||"drawflow-node"===D.classList[0])){if(!this.force_first_input||null==D.closest(".drawflow_content_node")&&"drawflow-node"!==D.classList[0])m=D.parentElement.parentElement.id,T=D.classList[1];else{if(null!=D.closest(".drawflow_content_node"))var m=D.closest(".drawflow_content_node").parentElement.id;else m=D.id;if(0===Object.keys(this.getNodeFromId(m.slice(5)).inputs).length)var T=!1;else T="input_1"}var x=this.ele_selected.parentElement.parentElement.id,H=this.ele_selected.classList[1];if(x!==m&&!1!==T){if(0===this.container.querySelectorAll(".connection.node_in_"+m+".node_out_"+x+"."+H+"."+T).length){this.connection_ele.classList.add("node_in_"+m),this.connection_ele.classList.add("node_out_"+x),this.connection_ele.classList.add(H),this.connection_ele.classList.add(T);var N=m.slice(5),v=x.slice(5);this.drawflow.drawflow[this.module].data[v].outputs[H].connections.push({node:N,output:T}),this.drawflow.drawflow[this.module].data[N].inputs[T].connections.push({node:v,input:H}),this.updateConnectionNodes("node-"+v),this.updateConnectionNodes("node-"+N),this.dispatch("connectionCreated",{output_id:v,input_id:N,output_class:H,input_class:T})}else this.dispatch("connectionCancel",!0),this.connection_ele.remove();this.connection_ele=null}else this.dispatch("connectionCancel",!0),this.connection_ele.remove(),this.connection_ele=null}else this.dispatch("connectionCancel",!0),this.connection_ele.remove(),this.connection_ele=null;this.drag=!1,this.drag_point=!1,this.connection=!1,this.ele_selected=null,this.editor_selected=!1,this.dispatch("mouseUp",l)}contextmenu(l){if(this.dispatch("contextmenu",l),l.preventDefault(),"fixed"===this.editor_mode||"view"===this.editor_mode)return!1;if(this.precanvas.getElementsByClassName("drawflow-delete").length&&this.precanvas.getElementsByClassName("drawflow-delete")[0].remove(),this.node_selected||this.connection_selected){var _=document.createElement("div");_.classList.add("drawflow-delete"),_.innerHTML="x",this.node_selected&&this.node_selected.appendChild(_),this.connection_selected&&this.connection_selected.parentElement.classList.length>1&&(_.style.top=l.clientY*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))+"px",_.style.left=l.clientX*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))+"px",this.precanvas.appendChild(_))}}contextmenuDel(){this.precanvas.getElementsByClassName("drawflow-delete").length&&this.precanvas.getElementsByClassName("drawflow-delete")[0].remove()}key(l){if(this.dispatch("keydown",l),"fixed"===this.editor_mode||"view"===this.editor_mode)return!1;("Delete"===l.key||"Backspace"===l.key&&l.metaKey)&&(null!=this.node_selected&&"INPUT"!==this.first_click.tagName&&"TEXTAREA"!==this.first_click.tagName&&!0!==this.first_click.hasAttribute("contenteditable")&&this.removeNodeId(this.node_selected.id),null!=this.connection_selected&&this.removeConnection())}zoom_enter(l,_){l.ctrlKey&&(l.preventDefault(),l.deltaY>0?this.zoom_out():this.zoom_in())}zoom_refresh(){this.dispatch("zoom",this.zoom),this.canvas_x=this.canvas_x/this.zoom_last_value*this.zoom,this.canvas_y=this.canvas_y/this.zoom_last_value*this.zoom,this.zoom_last_value=this.zoom,this.precanvas.style.transform="translate("+this.canvas_x+"px, "+this.canvas_y+"px) scale("+this.zoom+")"}zoom_in(){this.zoom<this.zoom_max&&(this.zoom+=this.zoom_value,this.zoom_refresh())}zoom_out(){this.zoom>this.zoom_min&&(this.zoom-=this.zoom_value,this.zoom_refresh())}zoom_reset(){1!=this.zoom&&(this.zoom=1,this.zoom_refresh())}createCurvature(l,_,C,D,m,T){var x=l,H=_,N=C,v=D,L=m;switch(T){case"open":if(l>=C)var A=x+Math.abs(N-x)*L,k=N-Math.abs(N-x)*(-1*L);else A=x+Math.abs(N-x)*L,k=N-Math.abs(N-x)*L;return" M "+x+" "+H+" C "+A+" "+H+" "+k+" "+v+" "+N+"  "+v;case"close":return l>=C?(A=x+Math.abs(N-x)*(-1*L),k=N-Math.abs(N-x)*L):(A=x+Math.abs(N-x)*L,k=N-Math.abs(N-x)*L)," M "+x+" "+H+" C "+A+" "+H+" "+k+" "+v+" "+N+"  "+v;case"other":return l>=C?(A=x+Math.abs(N-x)*(-1*L),k=N-Math.abs(N-x)*(-1*L)):(A=x+Math.abs(N-x)*L,k=N-Math.abs(N-x)*L)," M "+x+" "+H+" C "+A+" "+H+" "+k+" "+v+" "+N+"  "+v;default:return" M "+x+" "+H+" C "+(A=x+Math.abs(N-x)*L)+" "+H+" "+(k=N-Math.abs(N-x)*L)+" "+v+" "+N+"  "+v}}drawConnection(l){var _=document.createElementNS("http://www.w3.org/2000/svg","svg");this.connection_ele=_;var C=document.createElementNS("http://www.w3.org/2000/svg","path");C.classList.add("main-path"),C.setAttributeNS(null,"d",""),_.classList.add("connection"),_.appendChild(C),this.precanvas.appendChild(_);var D=l.parentElement.parentElement.id.slice(5),m=l.classList[1];this.dispatch("connectionStart",{output_id:D,output_class:m})}updateConnection(l,_){const C=this.precanvas,D=this.zoom;let m=C.clientWidth/(C.clientWidth*D);m=m||0;let T=C.clientHeight/(C.clientHeight*D);T=T||0;var x=this.connection_ele.children[0],H=this.ele_selected.offsetWidth/2+(this.ele_selected.getBoundingClientRect().x-C.getBoundingClientRect().x)*m,N=this.ele_selected.offsetHeight/2+(this.ele_selected.getBoundingClientRect().y-C.getBoundingClientRect().y)*T,v=l*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom)),L=_*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom)),A=this.curvature,k=this.createCurvature(H,N,v,L,A,"openclose");x.setAttributeNS(null,"d",k)}addConnection(l,_,C,D){var m=this.getModuleFromNodeId(l);if(m===this.getModuleFromNodeId(_)){var T=this.getNodeFromId(l),x=!1;for(var H in T.outputs[C].connections){var N=T.outputs[C].connections[H];N.node==_&&N.output==D&&(x=!0)}if(!1===x){if(this.drawflow.drawflow[m].data[l].outputs[C].connections.push({node:_.toString(),output:D}),this.drawflow.drawflow[m].data[_].inputs[D].connections.push({node:l.toString(),input:C}),this.module===m){var v=document.createElementNS("http://www.w3.org/2000/svg","svg"),L=document.createElementNS("http://www.w3.org/2000/svg","path");L.classList.add("main-path"),L.setAttributeNS(null,"d",""),v.classList.add("connection"),v.classList.add("node_in_node-"+_),v.classList.add("node_out_node-"+l),v.classList.add(C),v.classList.add(D),v.appendChild(L),this.precanvas.appendChild(v),this.updateConnectionNodes("node-"+l),this.updateConnectionNodes("node-"+_)}this.dispatch("connectionCreated",{output_id:l,input_id:_,output_class:C,input_class:D})}}}updateConnectionNodes(l){const _="node_in_"+l,C="node_out_"+l;this.line_path;const D=this.container,m=this.precanvas,T=this.curvature,x=this.createCurvature,H=this.reroute_curvature,N=this.reroute_curvature_start_end,v=this.reroute_fix_curvature,L=this.reroute_width,A=this.zoom;let k=m.clientWidth/(m.clientWidth*A);k=k||0;let M=m.clientHeight/(m.clientHeight*A);M=M||0;const w=D.querySelectorAll("."+C);Object.keys(w).map(function(re,De){if(null===w[re].querySelector(".point")){var Re=D.querySelector("#"+l),he=w[re].classList[1].replace("node_in_",""),r=D.querySelector("#"+he).querySelectorAll("."+w[re].classList[4])[0],ze=r.offsetWidth/2+(r.getBoundingClientRect().x-m.getBoundingClientRect().x)*k,le=r.offsetHeight/2+(r.getBoundingClientRect().y-m.getBoundingClientRect().y)*M,Ge=Re.querySelectorAll("."+w[re].classList[3])[0],Pe=Ge.offsetWidth/2+(Ge.getBoundingClientRect().x-m.getBoundingClientRect().x)*k,je=Ge.offsetHeight/2+(Ge.getBoundingClientRect().y-m.getBoundingClientRect().y)*M;const $=x(Pe,je,ze,le,T,"openclose");w[re].children[0].setAttributeNS(null,"d",$)}else{const $=w[re].querySelectorAll(".point");let we="";const ye=[];$.forEach((pe,X)=>{if(0===X&&$.length-1==0){var oe=D.querySelector("#"+l),ve=((y=pe).getBoundingClientRect().x-m.getBoundingClientRect().x)*k+L,ge=(y.getBoundingClientRect().y-m.getBoundingClientRect().y)*M+L,be=(F=oe.querySelectorAll("."+pe.parentElement.classList[3])[0]).offsetWidth/2+(F.getBoundingClientRect().x-m.getBoundingClientRect().x)*k,se=F.offsetHeight/2+(F.getBoundingClientRect().y-m.getBoundingClientRect().y)*M,Z=x(be,se,ve,ge,N,"open");we+=Z,ye.push(Z),oe=pe;var p=pe.parentElement.classList[1].replace("node_in_",""),y=(q=D.querySelector("#"+p)).querySelectorAll("."+pe.parentElement.classList[4])[0];ve=(U=q.querySelectorAll("."+pe.parentElement.classList[4])[0]).offsetWidth/2+(U.getBoundingClientRect().x-m.getBoundingClientRect().x)*k,ge=U.offsetHeight/2+(U.getBoundingClientRect().y-m.getBoundingClientRect().y)*M,be=(oe.getBoundingClientRect().x-m.getBoundingClientRect().x)*k+L,se=(oe.getBoundingClientRect().y-m.getBoundingClientRect().y)*M+L,Z=x(be,se,ve,ge,N,"close"),we+=Z,ye.push(Z)}else if(0===X){var F;oe=D.querySelector("#"+l),ve=((y=pe).getBoundingClientRect().x-m.getBoundingClientRect().x)*k+L,ge=(y.getBoundingClientRect().y-m.getBoundingClientRect().y)*M+L,be=(F=oe.querySelectorAll("."+pe.parentElement.classList[3])[0]).offsetWidth/2+(F.getBoundingClientRect().x-m.getBoundingClientRect().x)*k,se=F.offsetHeight/2+(F.getBoundingClientRect().y-m.getBoundingClientRect().y)*M,Z=x(be,se,ve,ge,N,"open"),we+=Z,ye.push(Z),oe=pe,ve=((y=$[X+1]).getBoundingClientRect().x-m.getBoundingClientRect().x)*k+L,ge=(y.getBoundingClientRect().y-m.getBoundingClientRect().y)*M+L,be=(oe.getBoundingClientRect().x-m.getBoundingClientRect().x)*k+L,se=(oe.getBoundingClientRect().y-m.getBoundingClientRect().y)*M+L,Z=x(be,se,ve,ge,H,"other"),we+=Z,ye.push(Z)}else if(X===$.length-1){var q,U;oe=pe,p=pe.parentElement.classList[1].replace("node_in_",""),y=(q=D.querySelector("#"+p)).querySelectorAll("."+pe.parentElement.classList[4])[0],ve=(U=q.querySelectorAll("."+pe.parentElement.classList[4])[0]).offsetWidth/2+(U.getBoundingClientRect().x-m.getBoundingClientRect().x)*k,ge=U.offsetHeight/2+(U.getBoundingClientRect().y-m.getBoundingClientRect().y)*M,be=(oe.getBoundingClientRect().x-m.getBoundingClientRect().x)*(m.clientWidth/(m.clientWidth*A))+L,se=(oe.getBoundingClientRect().y-m.getBoundingClientRect().y)*(m.clientHeight/(m.clientHeight*A))+L,Z=x(be,se,ve,ge,N,"close"),we+=Z,ye.push(Z)}else oe=pe,ve=((y=$[X+1]).getBoundingClientRect().x-m.getBoundingClientRect().x)*(m.clientWidth/(m.clientWidth*A))+L,ge=(y.getBoundingClientRect().y-m.getBoundingClientRect().y)*(m.clientHeight/(m.clientHeight*A))+L,be=(oe.getBoundingClientRect().x-m.getBoundingClientRect().x)*(m.clientWidth/(m.clientWidth*A))+L,se=(oe.getBoundingClientRect().y-m.getBoundingClientRect().y)*(m.clientHeight/(m.clientHeight*A))+L,Z=x(be,se,ve,ge,H,"other"),we+=Z,ye.push(Z)}),v?ye.forEach((pe,X)=>{w[re].children[X].setAttributeNS(null,"d",pe)}):w[re].children[0].setAttributeNS(null,"d",we)}});const d=D.querySelectorAll("."+_);Object.keys(d).map(function(re,De){if(null===d[re].querySelector(".point")){var Re=D.querySelector("#"+l),he=d[re].classList[2].replace("node_out_",""),r=D.querySelector("#"+he).querySelectorAll("."+d[re].classList[3])[0],ze=r.offsetWidth/2+(r.getBoundingClientRect().x-m.getBoundingClientRect().x)*k,le=r.offsetHeight/2+(r.getBoundingClientRect().y-m.getBoundingClientRect().y)*M,Ge=(Re=Re.querySelectorAll("."+d[re].classList[4])[0]).offsetWidth/2+(Re.getBoundingClientRect().x-m.getBoundingClientRect().x)*k,Pe=Re.offsetHeight/2+(Re.getBoundingClientRect().y-m.getBoundingClientRect().y)*M;const je=x(ze,le,Ge,Pe,T,"openclose");d[re].children[0].setAttributeNS(null,"d",je)}else{const je=d[re].querySelectorAll(".point");let $="";const we=[];je.forEach((ye,pe)=>{if(0===pe&&je.length-1==0){var X=D.querySelector("#"+l),oe=((p=ye).getBoundingClientRect().x-m.getBoundingClientRect().x)*k+L,ve=(p.getBoundingClientRect().y-m.getBoundingClientRect().y)*M+L,ge=(q=X.querySelectorAll("."+ye.parentElement.classList[4])[0]).offsetWidth/2+(q.getBoundingClientRect().x-m.getBoundingClientRect().x)*k,be=q.offsetHeight/2+(q.getBoundingClientRect().y-m.getBoundingClientRect().y)*M,se=x(oe,ve,ge,be,N,"close");$+=se,we.push(se),X=ye;var Z=ye.parentElement.classList[2].replace("node_out_",""),p=(F=D.querySelector("#"+Z)).querySelectorAll("."+ye.parentElement.classList[3])[0];oe=(y=F.querySelectorAll("."+ye.parentElement.classList[3])[0]).offsetWidth/2+(y.getBoundingClientRect().x-m.getBoundingClientRect().x)*k,ve=y.offsetHeight/2+(y.getBoundingClientRect().y-m.getBoundingClientRect().y)*M,ge=(X.getBoundingClientRect().x-m.getBoundingClientRect().x)*k+L,be=(X.getBoundingClientRect().y-m.getBoundingClientRect().y)*M+L,se=x(oe,ve,ge,be,N,"open"),$+=se,we.push(se)}else if(0===pe){var y;X=ye,Z=ye.parentElement.classList[2].replace("node_out_",""),p=(F=D.querySelector("#"+Z)).querySelectorAll("."+ye.parentElement.classList[3])[0],oe=(y=F.querySelectorAll("."+ye.parentElement.classList[3])[0]).offsetWidth/2+(y.getBoundingClientRect().x-m.getBoundingClientRect().x)*k,ve=y.offsetHeight/2+(y.getBoundingClientRect().y-m.getBoundingClientRect().y)*M,ge=(X.getBoundingClientRect().x-m.getBoundingClientRect().x)*k+L,be=(X.getBoundingClientRect().y-m.getBoundingClientRect().y)*M+L,se=x(oe,ve,ge,be,N,"open"),$+=se,we.push(se),X=ye,ge=((p=je[pe+1]).getBoundingClientRect().x-m.getBoundingClientRect().x)*k+L,be=(p.getBoundingClientRect().y-m.getBoundingClientRect().y)*M+L,oe=(X.getBoundingClientRect().x-m.getBoundingClientRect().x)*k+L,ve=(X.getBoundingClientRect().y-m.getBoundingClientRect().y)*M+L,se=x(oe,ve,ge,be,H,"other"),$+=se,we.push(se)}else if(pe===je.length-1){var F,q;X=ye,Z=ye.parentElement.classList[1].replace("node_in_",""),p=(F=D.querySelector("#"+Z)).querySelectorAll("."+ye.parentElement.classList[4])[0],ge=(q=F.querySelectorAll("."+ye.parentElement.classList[4])[0]).offsetWidth/2+(q.getBoundingClientRect().x-m.getBoundingClientRect().x)*k,be=q.offsetHeight/2+(q.getBoundingClientRect().y-m.getBoundingClientRect().y)*M,oe=(X.getBoundingClientRect().x-m.getBoundingClientRect().x)*k+L,ve=(X.getBoundingClientRect().y-m.getBoundingClientRect().y)*M+L,se=x(oe,ve,ge,be,N,"close"),$+=se,we.push(se)}else X=ye,ge=((p=je[pe+1]).getBoundingClientRect().x-m.getBoundingClientRect().x)*k+L,be=(p.getBoundingClientRect().y-m.getBoundingClientRect().y)*M+L,oe=(X.getBoundingClientRect().x-m.getBoundingClientRect().x)*k+L,ve=(X.getBoundingClientRect().y-m.getBoundingClientRect().y)*M+L,se=x(oe,ve,ge,be,H,"other"),$+=se,we.push(se)}),v?we.forEach((ye,pe)=>{d[re].children[pe].setAttributeNS(null,"d",ye)}):d[re].children[0].setAttributeNS(null,"d",$)}})}dblclick(l){null!=this.connection_selected&&this.reroute&&this.createReroutePoint(this.connection_selected),"point"===l.target.classList[0]&&this.removeReroutePoint(l.target)}createReroutePoint(l){this.connection_selected.classList.remove("selected");const _=this.connection_selected.parentElement.classList[2].slice(9),C=this.connection_selected.parentElement.classList[1].slice(13),D=this.connection_selected.parentElement.classList[3],m=this.connection_selected.parentElement.classList[4];this.connection_selected=null;const T=document.createElementNS("http://www.w3.org/2000/svg","circle");T.classList.add("point");var x=this.pos_x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom)),H=this.pos_y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom));T.setAttributeNS(null,"cx",x),T.setAttributeNS(null,"cy",H),T.setAttributeNS(null,"r",this.reroute_width);let N=0;if(this.reroute_fix_curvature){const k=l.parentElement.querySelectorAll(".main-path").length;var v=document.createElementNS("http://www.w3.org/2000/svg","path");if(v.classList.add("main-path"),v.setAttributeNS(null,"d",""),l.parentElement.insertBefore(v,l.parentElement.children[k]),1===k)l.parentElement.appendChild(T);else{const M=Array.from(l.parentElement.children).indexOf(l);N=M,l.parentElement.insertBefore(T,l.parentElement.children[M+k+1])}}else l.parentElement.appendChild(T);const L=_.slice(5),A=this.drawflow.drawflow[this.module].data[L].outputs[D].connections.findIndex(function(k,M){return k.node===C&&k.output===m});void 0===this.drawflow.drawflow[this.module].data[L].outputs[D].connections[A].points&&(this.drawflow.drawflow[this.module].data[L].outputs[D].connections[A].points=[]),this.reroute_fix_curvature?(N>0||this.drawflow.drawflow[this.module].data[L].outputs[D].connections[A].points!==[]?this.drawflow.drawflow[this.module].data[L].outputs[D].connections[A].points.splice(N,0,{pos_x:x,pos_y:H}):this.drawflow.drawflow[this.module].data[L].outputs[D].connections[A].points.push({pos_x:x,pos_y:H}),l.parentElement.querySelectorAll(".main-path").forEach((k,M)=>{k.classList.remove("selected")})):this.drawflow.drawflow[this.module].data[L].outputs[D].connections[A].points.push({pos_x:x,pos_y:H}),this.dispatch("addReroute",L),this.updateConnectionNodes(_)}removeReroutePoint(l){const _=l.parentElement.classList[2].slice(9),C=l.parentElement.classList[1].slice(13),D=l.parentElement.classList[3],m=l.parentElement.classList[4];let T=Array.from(l.parentElement.children).indexOf(l);const x=_.slice(5),H=this.drawflow.drawflow[this.module].data[x].outputs[D].connections.findIndex(function(N,v){return N.node===C&&N.output===m});if(this.reroute_fix_curvature){const N=l.parentElement.querySelectorAll(".main-path").length;l.parentElement.children[N-1].remove(),T-=N,T<0&&(T=0)}else T--;this.drawflow.drawflow[this.module].data[x].outputs[D].connections[H].points.splice(T,1),l.remove(),this.dispatch("removeReroute",x),this.updateConnectionNodes(_)}registerNode(l,_,C=null,D=null){this.noderegister[l]={html:_,props:C,options:D}}getNodeFromId(l){var _=this.getModuleFromNodeId(l);return JSON.parse(JSON.stringify(this.drawflow.drawflow[_].data[l]))}getNodesFromName(l){var _=[];const C=this.drawflow.drawflow;return Object.keys(C).map(function(D,m){for(var T in C[D].data)C[D].data[T].name==l&&_.push(C[D].data[T].id)}),_}addNode(l,_,C,D,m,T,x,H,N=!1){if(this.useuuid)var v=this.getUuid();else v=this.nodeId;const L=document.createElement("div");L.classList.add("parent-node");const A=document.createElement("div");A.innerHTML="",A.setAttribute("id","node-"+v),A.classList.add("drawflow-node"),""!=T&&A.classList.add(...T.split(" "));const k=document.createElement("div");k.classList.add("inputs");const M=document.createElement("div");M.classList.add("outputs");const w={};for(var d=0;d<_;d++){const he=document.createElement("div");he.classList.add("input"),he.classList.add("input_"+(d+1)),w["input_"+(d+1)]={connections:[]},k.appendChild(he)}const re={};for(d=0;d<C;d++){const he=document.createElement("div");he.classList.add("output"),he.classList.add("output_"+(d+1)),re["output_"+(d+1)]={connections:[]},M.appendChild(he)}const De=document.createElement("div");if(De.classList.add("drawflow_content_node"),!1===N)De.innerHTML=H;else if(!0===N)De.appendChild(this.noderegister[H].html.cloneNode(!0));else if(3===parseInt(this.render.version)){let he=this.render.h(this.noderegister[H].html,this.noderegister[H].props,this.noderegister[H].options);he.appContext=this.parent,this.render.render(he,De)}else{let he=new this.render({parent:this.parent,render:r=>r(this.noderegister[H].html,{props:this.noderegister[H].props}),...this.noderegister[H].options}).$mount();De.appendChild(he.$el)}Object.entries(x).forEach(function(he,r){if("object"==typeof he[1])!function Ge(Pe,je,$){null!==(Pe=null===Pe?x[je]:Pe[je])&&Object.entries(Pe).forEach(function(we,ye){if("object"==typeof we[1])Ge(Pe,we[0],$+"-"+we[0]);else for(var pe=De.querySelectorAll("[df-"+$+"-"+we[0]+"]"),X=0;X<pe.length;X++)pe[X].value=we[1],pe[X].isContentEditable&&(pe[X].innerText=we[1])})}(null,he[0],he[0]);else for(var ze=De.querySelectorAll("[df-"+he[0]+"]"),le=0;le<ze.length;le++)ze[le].value=he[1],ze[le].isContentEditable&&(ze[le].innerText=he[1])}),A.appendChild(k),A.appendChild(De),A.appendChild(M),A.style.top=m+"px",A.style.left=D+"px",L.appendChild(A),this.precanvas.appendChild(L);var Re={id:v,name:l,data:x,class:T,html:H,typenode:N,inputs:w,outputs:re,pos_x:D,pos_y:m};return this.drawflow.drawflow[this.module].data[v]=Re,this.dispatch("nodeCreated",v),this.useuuid||this.nodeId++,v}addNodeImport(l,_){const C=document.createElement("div");C.classList.add("parent-node");const D=document.createElement("div");D.innerHTML="",D.setAttribute("id","node-"+l.id),D.classList.add("drawflow-node"),""!=l.class&&D.classList.add(...l.class.split(" "));const m=document.createElement("div");m.classList.add("inputs");const T=document.createElement("div");T.classList.add("outputs"),Object.keys(l.inputs).map(function(N,v){const L=document.createElement("div");L.classList.add("input"),L.classList.add(N),m.appendChild(L),Object.keys(l.inputs[N].connections).map(function(A,k){var M=document.createElementNS("http://www.w3.org/2000/svg","svg"),w=document.createElementNS("http://www.w3.org/2000/svg","path");w.classList.add("main-path"),w.setAttributeNS(null,"d",""),M.classList.add("connection"),M.classList.add("node_in_node-"+l.id),M.classList.add("node_out_node-"+l.inputs[N].connections[A].node),M.classList.add(l.inputs[N].connections[A].input),M.classList.add(N),M.appendChild(w),_.appendChild(M)})});for(var x=0;x<Object.keys(l.outputs).length;x++){const N=document.createElement("div");N.classList.add("output"),N.classList.add("output_"+(x+1)),T.appendChild(N)}const H=document.createElement("div");if(H.classList.add("drawflow_content_node"),!1===l.typenode)H.innerHTML=l.html;else if(!0===l.typenode)H.appendChild(this.noderegister[l.html].html.cloneNode(!0));else if(3===parseInt(this.render.version)){let N=this.render.h(this.noderegister[l.html].html,this.noderegister[l.html].props,this.noderegister[l.html].options);N.appContext=this.parent,this.render.render(N,H)}else{let N=new this.render({parent:this.parent,render:v=>v(this.noderegister[l.html].html,{props:this.noderegister[l.html].props}),...this.noderegister[l.html].options}).$mount();H.appendChild(N.$el)}Object.entries(l.data).forEach(function(N,v){if("object"==typeof N[1])!function k(M,w,d){null!==(M=null===M?l.data[w]:M[w])&&Object.entries(M).forEach(function(re,De){if("object"==typeof re[1])k(M,re[0],d+"-"+re[0]);else for(var Re=H.querySelectorAll("[df-"+d+"-"+re[0]+"]"),he=0;he<Re.length;he++)Re[he].value=re[1],Re[he].isContentEditable&&(Re[he].innerText=re[1])})}(null,N[0],N[0]);else for(var L=H.querySelectorAll("[df-"+N[0]+"]"),A=0;A<L.length;A++)L[A].value=N[1],L[A].isContentEditable&&(L[A].innerText=N[1])}),D.appendChild(m),D.appendChild(H),D.appendChild(T),D.style.top=l.pos_y+"px",D.style.left=l.pos_x+"px",C.appendChild(D),this.precanvas.appendChild(C)}addRerouteImport(l){const _=this.reroute_width,C=this.reroute_fix_curvature,D=this.container;Object.keys(l.outputs).map(function(m,T){Object.keys(l.outputs[m].connections).map(function(x,H){const N=l.outputs[m].connections[x].points;void 0!==N&&N.forEach((v,L)=>{const A=l.outputs[m].connections[x].node,k=l.outputs[m].connections[x].output,M=D.querySelector(".connection.node_in_node-"+A+".node_out_node-"+l.id+"."+m+"."+k);if(C&&0===L)for(var w=0;w<N.length;w++){var d=document.createElementNS("http://www.w3.org/2000/svg","path");d.classList.add("main-path"),d.setAttributeNS(null,"d",""),M.appendChild(d)}const re=document.createElementNS("http://www.w3.org/2000/svg","circle");re.classList.add("point");var De=v.pos_x,Re=v.pos_y;re.setAttributeNS(null,"cx",De),re.setAttributeNS(null,"cy",Re),re.setAttributeNS(null,"r",_),M.appendChild(re)})})})}updateNodeValue(l){for(var _=l.target.attributes,C=0;C<_.length;C++)if(_[C].nodeName.startsWith("df-")){for(var D=_[C].nodeName.slice(3).split("-"),m=this.drawflow.drawflow[this.module].data[l.target.closest(".drawflow_content_node").parentElement.id.slice(5)].data,T=0;T<D.length-1;T+=1)null==m[D[T]]&&(m[D[T]]={}),m=m[D[T]];m[D[D.length-1]]=l.target.value,l.target.isContentEditable&&(m[D[D.length-1]]=l.target.innerText),this.dispatch("nodeDataChanged",l.target.closest(".drawflow_content_node").parentElement.id.slice(5))}}updateNodeDataFromId(l,_){var C=this.getModuleFromNodeId(l);if(this.drawflow.drawflow[C].data[l].data=_,this.module===C){const D=this.container.querySelector("#node-"+l);Object.entries(_).forEach(function(m,T){if("object"==typeof m[1])!function N(v,L,A){null!==(v=null===v?_[L]:v[L])&&Object.entries(v).forEach(function(k,M){if("object"==typeof k[1])N(v,k[0],A+"-"+k[0]);else for(var w=D.querySelectorAll("[df-"+A+"-"+k[0]+"]"),d=0;d<w.length;d++)w[d].value=k[1],w[d].isContentEditable&&(w[d].innerText=k[1])})}(null,m[0],m[0]);else for(var x=D.querySelectorAll("[df-"+m[0]+"]"),H=0;H<x.length;H++)x[H].value=m[1],x[H].isContentEditable&&(x[H].innerText=m[1])})}}addNodeInput(l){var _=this.getModuleFromNodeId(l);const C=this.getNodeFromId(l),D=Object.keys(C.inputs).length;if(this.module===_){const m=document.createElement("div");m.classList.add("input"),m.classList.add("input_"+(D+1)),this.container.querySelector("#node-"+l+" .inputs").appendChild(m),this.updateConnectionNodes("node-"+l)}this.drawflow.drawflow[_].data[l].inputs["input_"+(D+1)]={connections:[]}}addNodeOutput(l){var _=this.getModuleFromNodeId(l);const C=this.getNodeFromId(l),D=Object.keys(C.outputs).length;if(this.module===_){const m=document.createElement("div");m.classList.add("output"),m.classList.add("output_"+(D+1)),this.container.querySelector("#node-"+l+" .outputs").appendChild(m),this.updateConnectionNodes("node-"+l)}this.drawflow.drawflow[_].data[l].outputs["output_"+(D+1)]={connections:[]}}removeNodeInput(l,_){var C=this.getModuleFromNodeId(l);const D=this.getNodeFromId(l);this.module===C&&this.container.querySelector("#node-"+l+" .inputs .input."+_).remove();const m=[];Object.keys(D.inputs[_].connections).map(function(v,L){const A=D.inputs[_].connections[L].node,k=D.inputs[_].connections[L].input;m.push({id_output:A,id:l,output_class:k,input_class:_})}),m.forEach((v,L)=>{this.removeSingleConnection(v.id_output,v.id,v.output_class,v.input_class)}),delete this.drawflow.drawflow[C].data[l].inputs[_];const T=[],x=this.drawflow.drawflow[C].data[l].inputs;Object.keys(x).map(function(v,L){T.push(x[v])}),this.drawflow.drawflow[C].data[l].inputs={};const H=_.slice(6);let N=[];T.forEach((v,L)=>{v.connections.forEach((A,k)=>{N.push(A)}),this.drawflow.drawflow[C].data[l].inputs["input_"+(L+1)]=v}),N=new Set(N.map(v=>JSON.stringify(v))),N=Array.from(N).map(v=>JSON.parse(v)),this.module===C&&this.container.querySelectorAll("#node-"+l+" .inputs .input").forEach((v,L)=>{const A=v.classList[1].slice(6);parseInt(H)<parseInt(A)&&(v.classList.remove("input_"+A),v.classList.add("input_"+(A-1)))}),N.forEach((v,L)=>{this.drawflow.drawflow[C].data[v.node].outputs[v.input].connections.forEach((A,k)=>{if(A.node==l){const M=A.output.slice(6);if(parseInt(H)<parseInt(M)){if(this.module===C){const w=this.container.querySelector(".connection.node_in_node-"+l+".node_out_node-"+v.node+"."+v.input+".input_"+M);w.classList.remove("input_"+M),w.classList.add("input_"+(M-1))}A.points?this.drawflow.drawflow[C].data[v.node].outputs[v.input].connections[k]={node:A.node,output:"input_"+(M-1),points:A.points}:this.drawflow.drawflow[C].data[v.node].outputs[v.input].connections[k]={node:A.node,output:"input_"+(M-1)}}}})}),this.updateConnectionNodes("node-"+l)}removeNodeOutput(l,_){var C=this.getModuleFromNodeId(l);const D=this.getNodeFromId(l);this.module===C&&this.container.querySelector("#node-"+l+" .outputs .output."+_).remove();const m=[];Object.keys(D.outputs[_].connections).map(function(v,L){const A=D.outputs[_].connections[L].node,k=D.outputs[_].connections[L].output;m.push({id:l,id_input:A,output_class:_,input_class:k})}),m.forEach((v,L)=>{this.removeSingleConnection(v.id,v.id_input,v.output_class,v.input_class)}),delete this.drawflow.drawflow[C].data[l].outputs[_];const T=[],x=this.drawflow.drawflow[C].data[l].outputs;Object.keys(x).map(function(v,L){T.push(x[v])}),this.drawflow.drawflow[C].data[l].outputs={};const H=_.slice(7);let N=[];T.forEach((v,L)=>{v.connections.forEach((A,k)=>{N.push({node:A.node,output:A.output})}),this.drawflow.drawflow[C].data[l].outputs["output_"+(L+1)]=v}),N=new Set(N.map(v=>JSON.stringify(v))),N=Array.from(N).map(v=>JSON.parse(v)),this.module===C&&this.container.querySelectorAll("#node-"+l+" .outputs .output").forEach((v,L)=>{const A=v.classList[1].slice(7);parseInt(H)<parseInt(A)&&(v.classList.remove("output_"+A),v.classList.add("output_"+(A-1)))}),N.forEach((v,L)=>{this.drawflow.drawflow[C].data[v.node].inputs[v.output].connections.forEach((A,k)=>{if(A.node==l){const M=A.input.slice(7);if(parseInt(H)<parseInt(M)){if(this.module===C){const w=this.container.querySelector(".connection.node_in_node-"+v.node+".node_out_node-"+l+".output_"+M+"."+v.output);w.classList.remove("output_"+M),w.classList.remove(v.output),w.classList.add("output_"+(M-1)),w.classList.add(v.output)}A.points?this.drawflow.drawflow[C].data[v.node].inputs[v.output].connections[k]={node:A.node,input:"output_"+(M-1),points:A.points}:this.drawflow.drawflow[C].data[v.node].inputs[v.output].connections[k]={node:A.node,input:"output_"+(M-1)}}}})}),this.updateConnectionNodes("node-"+l)}removeNodeId(l){this.removeConnectionNodeId(l);var _=this.getModuleFromNodeId(l.slice(5));this.module===_&&this.container.querySelector("#"+l).remove(),delete this.drawflow.drawflow[_].data[l.slice(5)],this.dispatch("nodeRemoved",l.slice(5))}removeConnection(){if(null!=this.connection_selected){var l=this.connection_selected.parentElement.classList;this.connection_selected.parentElement.remove();var _=this.drawflow.drawflow[this.module].data[l[2].slice(14)].outputs[l[3]].connections.findIndex(function(D,m){return D.node===l[1].slice(13)&&D.output===l[4]});this.drawflow.drawflow[this.module].data[l[2].slice(14)].outputs[l[3]].connections.splice(_,1);var C=this.drawflow.drawflow[this.module].data[l[1].slice(13)].inputs[l[4]].connections.findIndex(function(D,m){return D.node===l[2].slice(14)&&D.input===l[3]});this.drawflow.drawflow[this.module].data[l[1].slice(13)].inputs[l[4]].connections.splice(C,1),this.dispatch("connectionRemoved",{output_id:l[2].slice(14),input_id:l[1].slice(13),output_class:l[3],input_class:l[4]}),this.connection_selected=null}}removeSingleConnection(l,_,C,D){var m=this.getModuleFromNodeId(l);if(m===this.getModuleFromNodeId(_)){if(this.drawflow.drawflow[m].data[l].outputs[C].connections.findIndex(function(H,N){return H.node==_&&H.output===D})>-1){this.module===m&&this.container.querySelector(".connection.node_in_node-"+_+".node_out_node-"+l+"."+C+"."+D).remove();var T=this.drawflow.drawflow[m].data[l].outputs[C].connections.findIndex(function(H,N){return H.node==_&&H.output===D});this.drawflow.drawflow[m].data[l].outputs[C].connections.splice(T,1);var x=this.drawflow.drawflow[m].data[_].inputs[D].connections.findIndex(function(H,N){return H.node==l&&H.input===C});return this.drawflow.drawflow[m].data[_].inputs[D].connections.splice(x,1),this.dispatch("connectionRemoved",{output_id:l,input_id:_,output_class:C,input_class:D}),!0}return!1}return!1}removeConnectionNodeId(l){const _="node_in_"+l,C="node_out_"+l,D=this.container.querySelectorAll("."+C);for(var m=D.length-1;m>=0;m--){var T=D[m].classList,x=this.drawflow.drawflow[this.module].data[T[1].slice(13)].inputs[T[4]].connections.findIndex(function(v,L){return v.node===T[2].slice(14)&&v.input===T[3]});this.drawflow.drawflow[this.module].data[T[1].slice(13)].inputs[T[4]].connections.splice(x,1);var H=this.drawflow.drawflow[this.module].data[T[2].slice(14)].outputs[T[3]].connections.findIndex(function(v,L){return v.node===T[1].slice(13)&&v.output===T[4]});this.drawflow.drawflow[this.module].data[T[2].slice(14)].outputs[T[3]].connections.splice(H,1),D[m].remove(),this.dispatch("connectionRemoved",{output_id:T[2].slice(14),input_id:T[1].slice(13),output_class:T[3],input_class:T[4]})}const N=this.container.querySelectorAll("."+_);for(m=N.length-1;m>=0;m--)T=N[m].classList,H=this.drawflow.drawflow[this.module].data[T[2].slice(14)].outputs[T[3]].connections.findIndex(function(v,L){return v.node===T[1].slice(13)&&v.output===T[4]}),this.drawflow.drawflow[this.module].data[T[2].slice(14)].outputs[T[3]].connections.splice(H,1),x=this.drawflow.drawflow[this.module].data[T[1].slice(13)].inputs[T[4]].connections.findIndex(function(v,L){return v.node===T[2].slice(14)&&v.input===T[3]}),this.drawflow.drawflow[this.module].data[T[1].slice(13)].inputs[T[4]].connections.splice(x,1),N[m].remove(),this.dispatch("connectionRemoved",{output_id:T[2].slice(14),input_id:T[1].slice(13),output_class:T[3],input_class:T[4]})}getModuleFromNodeId(l){var _;const C=this.drawflow.drawflow;return Object.keys(C).map(function(D,m){Object.keys(C[D].data).map(function(T,x){T==l&&(_=D)})}),_}addModule(l){this.drawflow.drawflow[l]={data:{}},this.dispatch("moduleCreated",l)}changeModule(l){this.dispatch("moduleChanged",l),this.module=l,this.precanvas.innerHTML="",this.canvas_x=0,this.canvas_y=0,this.pos_x=0,this.pos_y=0,this.mouse_x=0,this.mouse_y=0,this.zoom=1,this.zoom_last_value=1,this.precanvas.style.transform="",this.import(this.drawflow,!1)}removeModule(l){this.module===l&&this.changeModule("Home"),delete this.drawflow.drawflow[l],this.dispatch("moduleRemoved",l)}clearModuleSelected(){this.precanvas.innerHTML="",this.drawflow.drawflow[this.module]={data:{}}}clear(){this.precanvas.innerHTML="",this.drawflow={drawflow:{Home:{data:{}}}}}export(){const l=JSON.parse(JSON.stringify(this.drawflow));return this.dispatch("export",l),l}import(l,_=!0){this.clear(),this.drawflow=JSON.parse(JSON.stringify(l)),this.load(),_&&this.dispatch("import","import")}on(l,_){return"function"!=typeof _?(console.error("The listener callback must be a function, the given type is "+typeof _),!1):"string"!=typeof l?(console.error("The event name must be a string, the given type is "+typeof l),!1):(void 0===this.events[l]&&(this.events[l]={listeners:[]}),void this.events[l].listeners.push(_))}removeListener(l,_){if(!this.events[l])return!1;const C=this.events[l].listeners,D=C.indexOf(_);D>-1&&C.splice(D,1)}dispatch(l,_){if(void 0===this.events[l])return!1;this.events[l].listeners.forEach(C=>{C(_)})}getUuid(){for(var l=[],_=0;_<36;_++)l[_]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return l[14]="4",l[19]="0123456789abcdef".substr(3&l[19]|8,1),l[8]=l[13]=l[18]=l[23]="-",l.join("")}}}]).default},8259:function(xt,rt){var Y,G;!function(B,_e){"use strict";"object"==typeof xt.exports?xt.exports=B.document?_e(B,!0):function(l){if(!l.document)throw new Error("jQuery requires a window with a document");return _e(l)}:_e(B)}(typeof window<"u"?window:this,function(B,_e){"use strict";var l=[],_=Object.getPrototypeOf,C=l.slice,D=l.flat?function(e){return l.flat.call(e)}:function(e){return l.concat.apply([],e)},m=l.push,T=l.indexOf,x={},H=x.toString,N=x.hasOwnProperty,v=N.toString,L=v.call(Object),A={},k=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},M=function(t){return null!=t&&t===t.window},w=B.document,d={type:!0,src:!0,nonce:!0,noModule:!0};function re(e,t,n){var i,s,o=(n=n||w).createElement("script");if(o.text=e,t)for(i in d)(s=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,s);n.head.appendChild(o).parentNode.removeChild(o)}function De(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?x[H.call(e)]||"object":typeof e}var he=/HTML$/i,r=function(e,t){return new r.fn.init(e,t)};function ze(e){var t=!!e&&"length"in e&&e.length,n=De(e);return!k(e)&&!M(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function le(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}r.fn=r.prototype={jquery:"3.7.1",constructor:r,length:0,toArray:function(){return C.call(this)},get:function(e){return null==e?C.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=r.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return r.each(this,e)},map:function(e){return this.pushStack(r.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(C.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(r.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(r.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:m,sort:l.sort,splice:l.splice},r.extend=r.fn.extend=function(){var e,t,n,i,s,o,a=arguments[0]||{},f=1,u=arguments.length,g=!1;for("boolean"==typeof a&&(g=a,a=arguments[f]||{},f++),"object"!=typeof a&&!k(a)&&(a={}),f===u&&(a=this,f--);f<u;f++)if(null!=(e=arguments[f]))for(t in e)i=e[t],"__proto__"!==t&&a!==i&&(g&&i&&(r.isPlainObject(i)||(s=Array.isArray(i)))?(n=a[t],o=s&&!Array.isArray(n)?[]:s||r.isPlainObject(n)?n:{},s=!1,a[t]=r.extend(g,o,i)):void 0!==i&&(a[t]=i));return a},r.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==H.call(e))&&(!(t=_(e))||"function"==typeof(n=N.call(t,"constructor")&&t.constructor)&&v.call(n)===L)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){re(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(ze(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},text:function(e){var t,n="",i=0,s=e.nodeType;if(!s)for(;t=e[i++];)n+=r.text(t);return 1===s||11===s?e.textContent:9===s?e.documentElement.textContent:3===s||4===s?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(ze(Object(e))?r.merge(n,"string"==typeof e?[e]:e):m.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:T.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!he.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,i=0,s=e.length;i<n;i++)e[s++]=t[i];return e.length=s,e},grep:function(e,t,n){for(var s=[],o=0,a=e.length,f=!n;o<a;o++)!t(e[o],o)!==f&&s.push(e[o]);return s},map:function(e,t,n){var i,s,o=0,a=[];if(ze(e))for(i=e.length;o<i;o++)null!=(s=t(e[o],o,n))&&a.push(s);else for(o in e)null!=(s=t(e[o],o,n))&&a.push(s);return D(a)},guid:1,support:A}),"function"==typeof Symbol&&(r.fn[Symbol.iterator]=l[Symbol.iterator]),r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){x["[object "+t+"]"]=t.toLowerCase()});var Ge=l.pop,Pe=l.sort,je=l.splice,$="[\\x20\\t\\r\\n\\f]",we=new RegExp("^"+$+"+|((?:^|[^\\\\])(?:\\\\.)*)"+$+"+$","g");r.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var ye=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function pe(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}r.escapeSelector=function(e){return(e+"").replace(ye,pe)};var X=w,oe=m;!function(){var e,t,n,i,s,a,f,u,g,R,o=oe,I=r.expando,S=0,j=0,te=Xt(),fe=Xt(),ie=Xt(),Be=Xt(),Ie=function(c,h){return c===h&&(s=!0),0},dt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ft="(?:\\\\[\\da-fA-F]{1,6}"+$+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",de="\\["+$+"*("+ft+")(?:"+$+"*([*^$|!~]?=)"+$+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ft+"))|)"+$+"*\\]",Dt=":("+ft+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+de+")*)|.*)\\)|)",me=new RegExp($+"+","g"),ke=new RegExp("^"+$+"*,"+$+"*"),Zt=new RegExp("^"+$+"*([>+~]|"+$+")"+$+"*"),yn=new RegExp($+"|>"),ht=new RegExp(Dt),Jt=new RegExp("^"+ft+"$"),pt={ID:new RegExp("^#("+ft+")"),CLASS:new RegExp("^\\.("+ft+")"),TAG:new RegExp("^("+ft+"|[*])"),ATTR:new RegExp("^"+de),PSEUDO:new RegExp("^"+Dt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+$+"*(even|odd|(([+-]|)(\\d*)n|)"+$+"*(?:([+-]|)"+$+"*(\\d+)|))"+$+"*\\)|)","i"),bool:new RegExp("^(?:"+dt+")$","i"),needsContext:new RegExp("^"+$+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+$+"*((?:-\\d)?\\d*)"+$+"*\\)|)(?=[^-]|$)","i")},_t=/^(?:input|select|textarea|button)$/i,bt=/^h\d$/i,nt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wn=/[+~]/,mt=new RegExp("\\\\[\\da-fA-F]{1,6}"+$+"?|\\\\([^\\r\\n\\f])","g"),vt=function(c,h){var b="0x"+c.slice(1)-65536;return h||(b<0?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,1023&b|56320))},Hi=function(){St()},Fi=en(function(c){return!0===c.disabled&&le(c,"fieldset")},{dir:"parentNode",next:"legend"});try{o.apply(l=C.call(X.childNodes),X.childNodes),l[X.childNodes.length].nodeType}catch{o={apply:function(h,b){oe.apply(h,C.call(b))},call:function(h){oe.apply(h,C.call(arguments,1))}}}function xe(c,h,b,E){var O,P,W,K,z,ce,V,ne=h&&h.ownerDocument,ue=h?h.nodeType:9;if(b=b||[],"string"!=typeof c||!c||1!==ue&&9!==ue&&11!==ue)return b;if(!E&&(St(h),h=h||a,u)){if(11!==ue&&(z=nt.exec(c)))if(O=z[1]){if(9===ue){if(!(W=h.getElementById(O)))return b;if(W.id===O)return o.call(b,W),b}else if(ne&&(W=ne.getElementById(O))&&xe.contains(h,W)&&W.id===O)return o.call(b,W),b}else{if(z[2])return o.apply(b,h.getElementsByTagName(c)),b;if((O=z[3])&&h.getElementsByClassName)return o.apply(b,h.getElementsByClassName(O)),b}if(!(Be[c+" "]||g&&g.test(c))){if(V=c,ne=h,1===ue&&(yn.test(c)||Zt.test(c))){for(((ne=wn.test(c)&&_n(h.parentNode)||h)!=h||!A.scope)&&((K=h.getAttribute("id"))?K=r.escapeSelector(K):h.setAttribute("id",K=I)),P=(ce=Kt(c)).length;P--;)ce[P]=(K?"#"+K:":scope")+" "+Gt(ce[P]);V=ce.join(",")}try{return o.apply(b,ne.querySelectorAll(V)),b}catch{Be(c,!0)}finally{K===I&&h.removeAttribute("id")}}}return ei(c.replace(we,"$1"),h,b,E)}function Xt(){var c=[];return function h(b,E){return c.push(b+" ")>t.cacheLength&&delete h[c.shift()],h[b+" "]=E}}function at(c){return c[I]=!0,c}function Bt(c){var h=a.createElement("fieldset");try{return!!c(h)}catch{return!1}finally{h.parentNode&&h.parentNode.removeChild(h),h=null}}function Bi(c){return function(h){return le(h,"input")&&h.type===c}}function ji(c){return function(h){return(le(h,"input")||le(h,"button"))&&h.type===c}}function Xn(c){return function(h){return"form"in h?h.parentNode&&!1===h.disabled?"label"in h?"label"in h.parentNode?h.parentNode.disabled===c:h.disabled===c:h.isDisabled===c||h.isDisabled!==!c&&Fi(h)===c:h.disabled===c:"label"in h&&h.disabled===c}}function kt(c){return at(function(h){return h=+h,at(function(b,E){for(var O,P=c([],b.length,h),W=P.length;W--;)b[O=P[W]]&&(b[O]=!(E[O]=b[O]))})})}function _n(c){return c&&typeof c.getElementsByTagName<"u"&&c}function St(c){var h,b=c?c.ownerDocument||c:X;return b==a||9!==b.nodeType||!b.documentElement||(f=(a=b).documentElement,u=!r.isXMLDoc(a),R=f.matches||f.webkitMatchesSelector||f.msMatchesSelector,f.msMatchesSelector&&X!=a&&(h=a.defaultView)&&h.top!==h&&h.addEventListener("unload",Hi),A.getById=Bt(function(E){return f.appendChild(E).id=r.expando,!a.getElementsByName||!a.getElementsByName(r.expando).length}),A.disconnectedMatch=Bt(function(E){return R.call(E,"*")}),A.scope=Bt(function(){return a.querySelectorAll(":scope")}),A.cssHas=Bt(function(){try{return a.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),A.getById?(t.filter.ID=function(E){var O=E.replace(mt,vt);return function(P){return P.getAttribute("id")===O}},t.find.ID=function(E,O){if(typeof O.getElementById<"u"&&u){var P=O.getElementById(E);return P?[P]:[]}}):(t.filter.ID=function(E){var O=E.replace(mt,vt);return function(P){var W=typeof P.getAttributeNode<"u"&&P.getAttributeNode("id");return W&&W.value===O}},t.find.ID=function(E,O){if(typeof O.getElementById<"u"&&u){var P,W,K,z=O.getElementById(E);if(z){if((P=z.getAttributeNode("id"))&&P.value===E)return[z];for(K=O.getElementsByName(E),W=0;z=K[W++];)if((P=z.getAttributeNode("id"))&&P.value===E)return[z]}return[]}}),t.find.TAG=function(E,O){return typeof O.getElementsByTagName<"u"?O.getElementsByTagName(E):O.querySelectorAll(E)},t.find.CLASS=function(E,O){if(typeof O.getElementsByClassName<"u"&&u)return O.getElementsByClassName(E)},g=[],Bt(function(E){var O;f.appendChild(E).innerHTML="<a id='"+I+"' href='' disabled='disabled'></a><select id='"+I+"-\r\\' disabled='disabled'><option selected=''></option></select>",E.querySelectorAll("[selected]").length||g.push("\\["+$+"*(?:value|"+dt+")"),E.querySelectorAll("[id~="+I+"-]").length||g.push("~="),E.querySelectorAll("a#"+I+"+*").length||g.push(".#.+[+~]"),E.querySelectorAll(":checked").length||g.push(":checked"),(O=a.createElement("input")).setAttribute("type","hidden"),E.appendChild(O).setAttribute("name","D"),f.appendChild(E).disabled=!0,2!==E.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),(O=a.createElement("input")).setAttribute("name",""),E.appendChild(O),E.querySelectorAll("[name='']").length||g.push("\\["+$+"*name"+$+"*="+$+"*(?:''|\"\")")}),A.cssHas||g.push(":has"),g=g.length&&new RegExp(g.join("|")),Ie=function(E,O){if(E===O)return s=!0,0;var P=!E.compareDocumentPosition-!O.compareDocumentPosition;return P||(1&(P=(E.ownerDocument||E)==(O.ownerDocument||O)?E.compareDocumentPosition(O):1)||!A.sortDetached&&O.compareDocumentPosition(E)===P?E===a||E.ownerDocument==X&&xe.contains(X,E)?-1:O===a||O.ownerDocument==X&&xe.contains(X,O)?1:i?T.call(i,E)-T.call(i,O):0:4&P?-1:1)}),a}for(e in xe.matches=function(c,h){return xe(c,null,null,h)},xe.matchesSelector=function(c,h){if(St(c),u&&!Be[h+" "]&&(!g||!g.test(h)))try{var b=R.call(c,h);if(b||A.disconnectedMatch||c.document&&11!==c.document.nodeType)return b}catch{Be(h,!0)}return xe(h,a,null,[c]).length>0},xe.contains=function(c,h){return(c.ownerDocument||c)!=a&&St(c),r.contains(c,h)},xe.attr=function(c,h){(c.ownerDocument||c)!=a&&St(c);var b=t.attrHandle[h.toLowerCase()],E=b&&N.call(t.attrHandle,h.toLowerCase())?b(c,h,!u):void 0;return void 0!==E?E:c.getAttribute(h)},xe.error=function(c){throw new Error("Syntax error, unrecognized expression: "+c)},r.uniqueSort=function(c){var h,b=[],E=0,O=0;if(s=!A.sortStable,i=!A.sortStable&&C.call(c,0),Pe.call(c,Ie),s){for(;h=c[O++];)h===c[O]&&(E=b.push(O));for(;E--;)je.call(c,b[E],1)}return i=null,c},r.fn.uniqueSort=function(){return this.pushStack(r.uniqueSort(C.apply(this)))},(t=r.expr={cacheLength:50,createPseudo:at,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(c){return c[1]=c[1].replace(mt,vt),c[3]=(c[3]||c[4]||c[5]||"").replace(mt,vt),"~="===c[2]&&(c[3]=" "+c[3]+" "),c.slice(0,4)},CHILD:function(c){return c[1]=c[1].toLowerCase(),"nth"===c[1].slice(0,3)?(c[3]||xe.error(c[0]),c[4]=+(c[4]?c[5]+(c[6]||1):2*("even"===c[3]||"odd"===c[3])),c[5]=+(c[7]+c[8]||"odd"===c[3])):c[3]&&xe.error(c[0]),c},PSEUDO:function(c){var h,b=!c[6]&&c[2];return pt.CHILD.test(c[0])?null:(c[3]?c[2]=c[4]||c[5]||"":b&&ht.test(b)&&(h=Kt(b,!0))&&(h=b.indexOf(")",b.length-h)-b.length)&&(c[0]=c[0].slice(0,h),c[2]=b.slice(0,h)),c.slice(0,3))}},filter:{TAG:function(c){var h=c.replace(mt,vt).toLowerCase();return"*"===c?function(){return!0}:function(b){return le(b,h)}},CLASS:function(c){var h=te[c+" "];return h||(h=new RegExp("(^|"+$+")"+c+"("+$+"|$)"))&&te(c,function(b){return h.test("string"==typeof b.className&&b.className||typeof b.getAttribute<"u"&&b.getAttribute("class")||"")})},ATTR:function(c,h,b){return function(E){var O=xe.attr(E,c);return null==O?"!="===h:!h||(O+="","="===h?O===b:"!="===h?O!==b:"^="===h?b&&0===O.indexOf(b):"*="===h?b&&O.indexOf(b)>-1:"$="===h?b&&O.slice(-b.length)===b:"~="===h?(" "+O.replace(me," ")+" ").indexOf(b)>-1:"|="===h&&(O===b||O.slice(0,b.length+1)===b+"-"))}},CHILD:function(c,h,b,E,O){var P="nth"!==c.slice(0,3),W="last"!==c.slice(-4),K="of-type"===h;return 1===E&&0===O?function(z){return!!z.parentNode}:function(z,ce,V){var ne,ue,Q,Ee,Ve,Me=P!==W?"nextSibling":"previousSibling",it=z.parentNode,gt=K&&z.nodeName.toLowerCase(),jt=!V&&!K,We=!1;if(it){if(P){for(;Me;){for(Q=z;Q=Q[Me];)if(K?le(Q,gt):1===Q.nodeType)return!1;Ve=Me="only"===c&&!Ve&&"nextSibling"}return!0}if(Ve=[W?it.firstChild:it.lastChild],W&&jt){for(We=(Ee=(ne=(ue=it[I]||(it[I]={}))[c]||[])[0]===S&&ne[1])&&ne[2],Q=Ee&&it.childNodes[Ee];Q=++Ee&&Q&&Q[Me]||(We=Ee=0)||Ve.pop();)if(1===Q.nodeType&&++We&&Q===z){ue[c]=[S,Ee,We];break}}else if(jt&&(We=Ee=(ne=(ue=z[I]||(z[I]={}))[c]||[])[0]===S&&ne[1]),!1===We)for(;(Q=++Ee&&Q&&Q[Me]||(We=Ee=0)||Ve.pop())&&(!(K?le(Q,gt):1===Q.nodeType)||!++We||(jt&&((ue=Q[I]||(Q[I]={}))[c]=[S,We]),Q!==z)););return(We-=O)===E||We%E==0&&We/E>=0}}},PSEUDO:function(c,h){var b,E=t.pseudos[c]||t.setFilters[c.toLowerCase()]||xe.error("unsupported pseudo: "+c);return E[I]?E(h):E.length>1?(b=[c,c,"",h],t.setFilters.hasOwnProperty(c.toLowerCase())?at(function(O,P){for(var W,K=E(O,h),z=K.length;z--;)O[W=T.call(O,K[z])]=!(P[W]=K[z])}):function(O){return E(O,0,b)}):E}},pseudos:{not:at(function(c){var h=[],b=[],E=Cn(c.replace(we,"$1"));return E[I]?at(function(O,P,W,K){for(var z,ce=E(O,null,K,[]),V=O.length;V--;)(z=ce[V])&&(O[V]=!(P[V]=z))}):function(O,P,W){return h[0]=O,E(h,null,W,b),h[0]=null,!b.pop()}}),has:at(function(c){return function(h){return xe(c,h).length>0}}),contains:at(function(c){return c=c.replace(mt,vt),function(h){return(h.textContent||r.text(h)).indexOf(c)>-1}}),lang:at(function(c){return Jt.test(c||"")||xe.error("unsupported lang: "+c),c=c.replace(mt,vt).toLowerCase(),function(h){var b;do{if(b=u?h.lang:h.getAttribute("xml:lang")||h.getAttribute("lang"))return(b=b.toLowerCase())===c||0===b.indexOf(c+"-")}while((h=h.parentNode)&&1===h.nodeType);return!1}}),target:function(c){var h=B.location&&B.location.hash;return h&&h.slice(1)===c.id},root:function(c){return c===f},focus:function(c){return c===function qi(){try{return a.activeElement}catch{}}()&&a.hasFocus()&&!!(c.type||c.href||~c.tabIndex)},enabled:Xn(!1),disabled:Xn(!0),checked:function(c){return le(c,"input")&&!!c.checked||le(c,"option")&&!!c.selected},selected:function(c){return c.parentNode&&c.parentNode.selectedIndex,!0===c.selected},empty:function(c){for(c=c.firstChild;c;c=c.nextSibling)if(c.nodeType<6)return!1;return!0},parent:function(c){return!t.pseudos.empty(c)},header:function(c){return bt.test(c.nodeName)},input:function(c){return _t.test(c.nodeName)},button:function(c){return le(c,"input")&&"button"===c.type||le(c,"button")},text:function(c){var h;return le(c,"input")&&"text"===c.type&&(null==(h=c.getAttribute("type"))||"text"===h.toLowerCase())},first:kt(function(){return[0]}),last:kt(function(c,h){return[h-1]}),eq:kt(function(c,h,b){return[b<0?b+h:b]}),even:kt(function(c,h){for(var b=0;b<h;b+=2)c.push(b);return c}),odd:kt(function(c,h){for(var b=1;b<h;b+=2)c.push(b);return c}),lt:kt(function(c,h,b){var E;for(E=b<0?b+h:b>h?h:b;--E>=0;)c.push(E);return c}),gt:kt(function(c,h,b){for(var E=b<0?b+h:b;++E<h;)c.push(E);return c})}}).pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=Bi(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=ji(e);function Gn(){}function Kt(c,h){var b,E,O,P,W,K,z,ce=fe[c+" "];if(ce)return h?0:ce.slice(0);for(W=c,K=[],z=t.preFilter;W;){for(P in(!b||(E=ke.exec(W)))&&(E&&(W=W.slice(E[0].length)||W),K.push(O=[])),b=!1,(E=Zt.exec(W))&&(b=E.shift(),O.push({value:b,type:E[0].replace(we," ")}),W=W.slice(b.length)),t.filter)(E=pt[P].exec(W))&&(!z[P]||(E=z[P](E)))&&(b=E.shift(),O.push({value:b,type:P,matches:E}),W=W.slice(b.length));if(!b)break}return h?W.length:W?xe.error(c):fe(c,K).slice(0)}function Gt(c){for(var h=0,b=c.length,E="";h<b;h++)E+=c[h].value;return E}function en(c,h,b){var E=h.dir,O=h.next,P=O||E,W=b&&"parentNode"===P,K=j++;return h.first?function(z,ce,V){for(;z=z[E];)if(1===z.nodeType||W)return c(z,ce,V);return!1}:function(z,ce,V){var ne,ue,Q=[S,K];if(V){for(;z=z[E];)if((1===z.nodeType||W)&&c(z,ce,V))return!0}else for(;z=z[E];)if(1===z.nodeType||W)if(ue=z[I]||(z[I]={}),O&&le(z,O))z=z[E]||z;else{if((ne=ue[P])&&ne[0]===S&&ne[1]===K)return Q[2]=ne[2];if(ue[P]=Q,Q[2]=c(z,ce,V))return!0}return!1}}function bn(c){return c.length>1?function(h,b,E){for(var O=c.length;O--;)if(!c[O](h,b,E))return!1;return!0}:c[0]}function tn(c,h,b,E,O){for(var P,W=[],K=0,z=c.length,ce=null!=h;K<z;K++)(P=c[K])&&(!b||b(P,E,O))&&(W.push(P),ce&&h.push(K));return W}function Sn(c,h,b,E,O,P){return E&&!E[I]&&(E=Sn(E)),O&&!O[I]&&(O=Sn(O,P)),at(function(W,K,z,ce){var V,ne,ue,Q,Ee=[],Ve=[],Me=K.length,it=W||function Mi(c,h,b){for(var E=0,O=h.length;E<O;E++)xe(c,h[E],b);return b}(h||"*",z.nodeType?[z]:z,[]),gt=!c||!W&&h?it:tn(it,Ee,c,z,ce);if(b?b(gt,Q=O||(W?c:Me||E)?[]:K,z,ce):Q=gt,E)for(V=tn(Q,Ve),E(V,[],z,ce),ne=V.length;ne--;)(ue=V[ne])&&(Q[Ve[ne]]=!(gt[Ve[ne]]=ue));if(W){if(O||c){if(O){for(V=[],ne=Q.length;ne--;)(ue=Q[ne])&&V.push(gt[ne]=ue);O(null,Q=[],V,ce)}for(ne=Q.length;ne--;)(ue=Q[ne])&&(V=O?T.call(W,ue):Ee[ne])>-1&&(W[V]=!(K[V]=ue))}}else Q=tn(Q===K?Q.splice(Me,Q.length):Q),O?O(null,K,Q,ce):o.apply(K,Q)})}function xn(c){for(var h,b,E,O=c.length,P=t.relative[c[0].type],W=P||t.relative[" "],K=P?1:0,z=en(function(ne){return ne===h},W,!0),ce=en(function(ne){return T.call(h,ne)>-1},W,!0),V=[function(ne,ue,Q){var Ee=!P&&(Q||ue!=n)||((h=ue).nodeType?z(ne,ue,Q):ce(ne,ue,Q));return h=null,Ee}];K<O;K++)if(b=t.relative[c[K].type])V=[en(bn(V),b)];else{if((b=t.filter[c[K].type].apply(null,c[K].matches))[I]){for(E=++K;E<O&&!t.relative[c[E].type];E++);return Sn(K>1&&bn(V),K>1&&Gt(c.slice(0,K-1).concat({value:" "===c[K-2].type?"*":""})).replace(we,"$1"),b,K<E&&xn(c.slice(K,E)),E<O&&xn(c=c.slice(E)),E<O&&Gt(c))}V.push(b)}return bn(V)}function Cn(c,h){var b,E=[],O=[],P=ie[c+" "];if(!P){for(h||(h=Kt(c)),b=h.length;b--;)(P=xn(h[b]))[I]?E.push(P):O.push(P);P=ie(c,function Pi(c,h){var b=h.length>0,E=c.length>0,O=function(P,W,K,z,ce){var V,ne,ue,Q=0,Ee="0",Ve=P&&[],Me=[],it=n,gt=P||E&&t.find.TAG("*",ce),jt=S+=null==it?1:Math.random()||.1,We=gt.length;for(ce&&(n=W==a||W||ce);Ee!==We&&null!=(V=gt[Ee]);Ee++){if(E&&V){for(ne=0,!W&&V.ownerDocument!=a&&(St(V),K=!u);ue=c[ne++];)if(ue(V,W||a,K)){o.call(z,V);break}ce&&(S=jt)}b&&((V=!ue&&V)&&Q--,P&&Ve.push(V))}if(Q+=Ee,b&&Ee!==Q){for(ne=0;ue=h[ne++];)ue(Ve,Me,W,K);if(P){if(Q>0)for(;Ee--;)Ve[Ee]||Me[Ee]||(Me[Ee]=Ge.call(z));Me=tn(Me)}o.apply(z,Me),ce&&!P&&Me.length>0&&Q+h.length>1&&r.uniqueSort(z)}return ce&&(S=jt,n=it),Ve};return b?at(O):O}(O,E)),P.selector=c}return P}function ei(c,h,b,E){var O,P,W,K,z,ce="function"==typeof c&&c,V=!E&&Kt(c=ce.selector||c);if(b=b||[],1===V.length){if((P=V[0]=V[0].slice(0)).length>2&&"ID"===(W=P[0]).type&&9===h.nodeType&&u&&t.relative[P[1].type]){if(!(h=(t.find.ID(W.matches[0].replace(mt,vt),h)||[])[0]))return b;ce&&(h=h.parentNode),c=c.slice(P.shift().value.length)}for(O=pt.needsContext.test(c)?0:P.length;O--&&(W=P[O],!t.relative[K=W.type]);)if((z=t.find[K])&&(E=z(W.matches[0].replace(mt,vt),wn.test(P[0].type)&&_n(h.parentNode)||h))){if(P.splice(O,1),!(c=E.length&&Gt(P)))return o.apply(b,E),b;break}}return(ce||Cn(c,V))(E,h,!u,b,!h||wn.test(c)&&_n(h.parentNode)||h),b}Gn.prototype=t.filters=t.pseudos,t.setFilters=new Gn,A.sortStable=I.split("").sort(Ie).join("")===I,St(),A.sortDetached=Bt(function(c){return 1&c.compareDocumentPosition(a.createElement("fieldset"))}),r.find=xe,r.expr[":"]=r.expr.pseudos,r.unique=r.uniqueSort,xe.compile=Cn,xe.select=ei,xe.setDocument=St,xe.tokenize=Kt,xe.escape=r.escapeSelector,xe.getText=r.text,xe.isXML=r.isXMLDoc,xe.selectors=r.expr,xe.support=r.support,xe.uniqueSort=r.uniqueSort}();var ve=function(e,t,n){for(var i=[],s=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(s&&r(e).is(n))break;i.push(e)}return i},ge=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},be=r.expr.match.needsContext,se=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Z(e,t,n){return k(t)?r.grep(e,function(i,s){return!!t.call(i,s,i)!==n}):t.nodeType?r.grep(e,function(i){return i===t!==n}):"string"!=typeof t?r.grep(e,function(i){return T.call(t,i)>-1!==n}):r.filter(t,e,n)}r.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?r.find.matchesSelector(i,e)?[i]:[]:r.find.matches(e,r.grep(t,function(s){return 1===s.nodeType}))},r.fn.extend({find:function(e){var t,n,i=this.length,s=this;if("string"!=typeof e)return this.pushStack(r(e).filter(function(){for(t=0;t<i;t++)if(r.contains(s[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)r.find(e,s[t],n);return i>1?r.uniqueSort(n):n},filter:function(e){return this.pushStack(Z(this,e||[],!1))},not:function(e){return this.pushStack(Z(this,e||[],!0))},is:function(e){return!!Z(this,"string"==typeof e&&be.test(e)?r(e):e||[],!1).length}});var p,y=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,F=r.fn.init=function(e,t,n){var i,s;if(!e)return this;if(n=n||p,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:y.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof r?t[0]:t,r.merge(this,r.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:w,!0)),se.test(i[1])&&r.isPlainObject(t))for(i in t)k(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(s=w.getElementById(i[2]))&&(this[0]=s,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):k(e)?void 0!==n.ready?n.ready(e):e(r):r.makeArray(e,this)};F.prototype=r.fn,p=r(w);var q=/^(?:parents|prev(?:Until|All))/,U={children:!0,contents:!0,next:!0,prev:!0};function ee(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}r.fn.extend({has:function(e){var t=r(e,this),n=t.length;return this.filter(function(){for(var i=0;i<n;i++)if(r.contains(this,t[i]))return!0})},closest:function(e,t){var n,i=0,s=this.length,o=[],a="string"!=typeof e&&r(e);if(!be.test(e))for(;i<s;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&r.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?r.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?T.call(r(e),this[0]):T.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(r.uniqueSort(r.merge(this.get(),r(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),r.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ve(e,"parentNode")},parentsUntil:function(e,t,n){return ve(e,"parentNode",n)},next:function(e){return ee(e,"nextSibling")},prev:function(e){return ee(e,"previousSibling")},nextAll:function(e){return ve(e,"nextSibling")},prevAll:function(e){return ve(e,"previousSibling")},nextUntil:function(e,t,n){return ve(e,"nextSibling",n)},prevUntil:function(e,t,n){return ve(e,"previousSibling",n)},siblings:function(e){return ge((e.parentNode||{}).firstChild,e)},children:function(e){return ge(e.firstChild)},contents:function(e){return null!=e.contentDocument&&_(e.contentDocument)?e.contentDocument:(le(e,"template")&&(e=e.content||e),r.merge([],e.childNodes))}},function(e,t){r.fn[e]=function(n,i){var s=r.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(s=r.filter(i,s)),this.length>1&&(U[e]||r.uniqueSort(s),q.test(e)&&s.reverse()),this.pushStack(s)}});var Ne=/[^\x20\t\r\n\f]+/g;function Ce(e){return e}function Ae(e){throw e}function st(e,t,n,i){var s;try{e&&k(s=e.promise)?s.call(e).done(t).fail(n):e&&k(s=e.then)?s.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(o){n.apply(void 0,[o])}}r.Callbacks=function(e){e="string"==typeof e?function qe(e){var t={};return r.each(e.match(Ne)||[],function(n,i){t[i]=!0}),t}(e):r.extend({},e);var t,n,i,s,o=[],a=[],f=-1,u=function(){for(s=s||e.once,i=t=!0;a.length;f=-1)for(n=a.shift();++f<o.length;)!1===o[f].apply(n[0],n[1])&&e.stopOnFalse&&(f=o.length,n=!1);e.memory||(n=!1),t=!1,s&&(o=n?[]:"")},g={add:function(){return o&&(n&&!t&&(f=o.length-1,a.push(n)),function R(I){r.each(I,function(S,j){k(j)?(!e.unique||!g.has(j))&&o.push(j):j&&j.length&&"string"!==De(j)&&R(j)})}(arguments),n&&!t&&u()),this},remove:function(){return r.each(arguments,function(R,I){for(var S;(S=r.inArray(I,o,S))>-1;)o.splice(S,1),S<=f&&f--}),this},has:function(R){return R?r.inArray(R,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return s=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return s=a=[],!n&&!t&&(o=n=""),this},locked:function(){return!!s},fireWith:function(R,I){return s||(I=[R,(I=I||[]).slice?I.slice():I],a.push(I),t||u()),this},fire:function(){return g.fireWith(this,arguments),this},fired:function(){return!!i}};return g},r.extend({Deferred:function(e){var t=[["notify","progress",r.Callbacks("memory"),r.Callbacks("memory"),2],["resolve","done",r.Callbacks("once memory"),r.Callbacks("once memory"),0,"resolved"],["reject","fail",r.Callbacks("once memory"),r.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(o){return i.then(null,o)},pipe:function(){var o=arguments;return r.Deferred(function(a){r.each(t,function(f,u){var g=k(o[u[4]])&&o[u[4]];s[u[1]](function(){var R=g&&g.apply(this,arguments);R&&k(R.promise)?R.promise().progress(a.notify).done(a.resolve).fail(a.reject):a[u[0]+"With"](this,g?[R]:arguments)})}),o=null}).promise()},then:function(o,a,f){var u=0;function g(R,I,S,j){return function(){var te=this,fe=arguments,ie=function(){var Ie,dt;if(!(R<u)){if((Ie=S.apply(te,fe))===I.promise())throw new TypeError("Thenable self-resolution");dt=Ie&&("object"==typeof Ie||"function"==typeof Ie)&&Ie.then,k(dt)?j?dt.call(Ie,g(u,I,Ce,j),g(u,I,Ae,j)):(u++,dt.call(Ie,g(u,I,Ce,j),g(u,I,Ae,j),g(u,I,Ce,I.notifyWith))):(S!==Ce&&(te=void 0,fe=[Ie]),(j||I.resolveWith)(te,fe))}},Be=j?ie:function(){try{ie()}catch(Ie){r.Deferred.exceptionHook&&r.Deferred.exceptionHook(Ie,Be.error),R+1>=u&&(S!==Ae&&(te=void 0,fe=[Ie]),I.rejectWith(te,fe))}};R?Be():(r.Deferred.getErrorHook?Be.error=r.Deferred.getErrorHook():r.Deferred.getStackHook&&(Be.error=r.Deferred.getStackHook()),B.setTimeout(Be))}}return r.Deferred(function(R){t[0][3].add(g(0,R,k(f)?f:Ce,R.notifyWith)),t[1][3].add(g(0,R,k(o)?o:Ce)),t[2][3].add(g(0,R,k(a)?a:Ae))}).promise()},promise:function(o){return null!=o?r.extend(o,i):i}},s={};return r.each(t,function(o,a){var f=a[2],u=a[5];i[a[1]]=f.add,u&&f.add(function(){n=u},t[3-o][2].disable,t[3-o][3].disable,t[0][2].lock,t[0][3].lock),f.add(a[3].fire),s[a[0]]=function(){return s[a[0]+"With"](this===s?void 0:this,arguments),this},s[a[0]+"With"]=f.fireWith}),i.promise(s),e&&e.call(s,s),s},when:function(e){var t=arguments.length,n=t,i=Array(n),s=C.call(arguments),o=r.Deferred(),a=function(f){return function(u){i[f]=this,s[f]=arguments.length>1?C.call(arguments):u,--t||o.resolveWith(i,s)}};if(t<=1&&(st(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||k(s[n]&&s[n].then)))return o.then();for(;n--;)st(s[n],a(n),o.reject);return o.promise()}});var Te=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;r.Deferred.exceptionHook=function(e,t){B.console&&B.console.warn&&e&&Te.test(e.name)&&B.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},r.readyException=function(e){B.setTimeout(function(){throw e})};var He=r.Deferred();function Se(){w.removeEventListener("DOMContentLoaded",Se),B.removeEventListener("load",Se),r.ready()}r.fn.ready=function(e){return He.then(e).catch(function(t){r.readyException(t)}),this},r.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--r.readyWait:r.isReady)||(r.isReady=!0,!(!0!==e&&--r.readyWait>0)&&He.resolveWith(w,[r]))}}),r.ready.then=He.then,"complete"===w.readyState||"loading"!==w.readyState&&!w.documentElement.doScroll?B.setTimeout(r.ready):(w.addEventListener("DOMContentLoaded",Se),B.addEventListener("load",Se));var Oe=function(e,t,n,i,s,o,a){var f=0,u=e.length,g=null==n;if("object"===De(n))for(f in s=!0,n)Oe(e,t,f,n[f],!0,o,a);else if(void 0!==i&&(s=!0,k(i)||(a=!0),g&&(a?(t.call(e,i),t=null):(g=t,t=function(R,I,S){return g.call(r(R),S)})),t))for(;f<u;f++)t(e[f],n,a?i:i.call(e[f],f,t(e[f],n)));return s?e:g?t.call(e):u?t(e[0],n):o},Ze=/^-ms-/,et=/-([a-z])/g;function lt(e,t){return t.toUpperCase()}function ae(e){return e.replace(Ze,"ms-").replace(et,lt)}var Fe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Ye(){this.expando=r.expando+Ye.uid++}Ye.uid=1,Ye.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Fe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,s=this.cache(e);if("string"==typeof t)s[ae(t)]=n;else for(i in t)s[ae(i)]=t[i];return s},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ae(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t)for((Array.isArray(t)?t=t.map(ae):t=(t=ae(t))in i?[t]:t.match(Ne)||[],n=t.length);n--;)delete i[t[n]];(void 0===t||r.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!r.isEmptyObject(t)}};var J=new Ye,Le=new Ye,yt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Rt=/[A-Z]/g;function Lt(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Rt,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function Ct(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:yt.test(e)?JSON.parse(e):e)}(n)}catch{}Le.set(e,t,n)}else n=void 0;return n}r.extend({hasData:function(e){return Le.hasData(e)||J.hasData(e)},data:function(e,t,n){return Le.access(e,t,n)},removeData:function(e,t){Le.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),r.fn.extend({data:function(e,t){var n,i,s,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(s=Le.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(0===(i=a[n].name).indexOf("data-")&&(i=ae(i.slice(5)),Lt(o,i,s[i])));J.set(o,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each(function(){Le.set(this,e)}):Oe(this,function(f){var u;if(o&&void 0===f)return void 0!==(u=Le.get(o,e))||void 0!==(u=Lt(o,e))?u:void 0;this.each(function(){Le.set(this,e,f)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Le.remove(this,e)})}}),r.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=J.get(e,t),n&&(!i||Array.isArray(n)?i=J.access(e,t,r.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=r.queue(e,t),i=n.length,s=n.shift(),o=r._queueHooks(e,t);"inprogress"===s&&(s=n.shift(),i--),s&&("fx"===t&&n.unshift("inprogress"),delete o.stop,s.call(e,function(){r.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:r.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",n])})})}}),r.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?r.queue(this[0],e):void 0===t?this:this.each(function(){var i=r.queue(this,e,t);r._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&r.dequeue(this,e)})},dequeue:function(e){return this.each(function(){r.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,s=r.Deferred(),o=this,a=this.length,f=function(){--i||s.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=J.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(f));return f(),s.promise(t)}});var Tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ct=new RegExp("^(?:([+-])=|)("+Tt+")([a-z%]*)$","i"),Ue=["Top","Right","Bottom","Left"],Je=w.documentElement,Ke=function(e){return r.contains(e.ownerDocument,e)},Xe={composed:!0};Je.getRootNode&&(Ke=function(e){return r.contains(e.ownerDocument,e)||e.getRootNode(Xe)===e.ownerDocument});var ut=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&Ke(e)&&"none"===r.css(e,"display")};function Ot(e,t,n,i){var s,o,a=20,f=i?function(){return i.cur()}:function(){return r.css(e,t,"")},u=f(),g=n&&n[3]||(r.cssNumber[t]?"":"px"),R=e.nodeType&&(r.cssNumber[t]||"px"!==g&&+u)&&ct.exec(r.css(e,t));if(R&&R[3]!==g){for(u/=2,g=g||R[3],R=+u||1;a--;)r.style(e,t,R+g),(1-o)*(1-(o=f()/u||.5))<=0&&(a=0),R/=o;R*=2,r.style(e,t,R+g),n=n||[]}return n&&(R=+R||+u||0,s=n[1]?R+(n[1]+1)*n[2]:+n[2],i&&(i.unit=g,i.start=R,i.end=s)),s}var nn={};function Mt(e){var t,n=e.ownerDocument,i=e.nodeName,s=nn[i];return s||(t=n.body.appendChild(n.createElement(i)),s=r.css(t,"display"),t.parentNode.removeChild(t),"none"===s&&(s="block"),nn[i]=s,s)}function wt(e,t){for(var n,i,s=[],o=0,a=e.length;o<a;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(s[o]=J.get(i,"display")||null,s[o]||(i.style.display="")),""===i.style.display&&ut(i)&&(s[o]=Mt(i))):"none"!==n&&(s[o]="none",J.set(i,"display",n)));for(o=0;o<a;o++)null!=s[o]&&(e[o].style.display=s[o]);return e}r.fn.extend({show:function(){return wt(this,!0)},hide:function(){return wt(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ut(this)?r(this).show():r(this).hide()})}});var t,n,Et=/^(?:checkbox|radio)$/i,Tn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,En=/^$|^module$|\/(?:java|ecma)script/i;t=w.createDocumentFragment().appendChild(w.createElement("div")),(n=w.createElement("input")).setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),A.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",A.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",A.option=!!t.lastChild;var tt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Qe(e,t){var n;return n=typeof e.getElementsByTagName<"u"?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll<"u"?e.querySelectorAll(t||"*"):[],void 0===t||t&&le(e,t)?r.merge([e],n):n}function rn(e,t){for(var n=0,i=e.length;n<i;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}tt.tbody=tt.tfoot=tt.colgroup=tt.caption=tt.thead,tt.th=tt.td,A.option||(tt.optgroup=tt.option=[1,"<select multiple='multiple'>","</select>"]);var ti=/<|&#?\w+;/;function Nn(e,t,n,i,s){for(var o,a,f,u,g,R,I=t.createDocumentFragment(),S=[],j=0,te=e.length;j<te;j++)if((o=e[j])||0===o)if("object"===De(o))r.merge(S,o.nodeType?[o]:o);else if(ti.test(o)){for(a=a||I.appendChild(t.createElement("div")),f=(Tn.exec(o)||["",""])[1].toLowerCase(),u=tt[f]||tt._default,a.innerHTML=u[1]+r.htmlPrefilter(o)+u[2],R=u[0];R--;)a=a.lastChild;r.merge(S,a.childNodes),(a=I.firstChild).textContent=""}else S.push(t.createTextNode(o));for(I.textContent="",j=0;o=S[j++];)if(i&&r.inArray(o,i)>-1)s&&s.push(o);else if(g=Ke(o),a=Qe(I.appendChild(o),"script"),g&&rn(a),n)for(R=0;o=a[R++];)En.test(o.type||"")&&n.push(o);return I}var An=/^([^.]*)(?:\.(.+)|)/;function It(){return!0}function Ht(){return!1}function sn(e,t,n,i,s,o){var a,f;if("object"==typeof t){for(f in"string"!=typeof n&&(i=i||n,n=void 0),t)sn(e,f,n,i,t[f],o);return e}if(null==i&&null==s?(s=n,i=n=void 0):null==s&&("string"==typeof n?(s=i,i=void 0):(s=i,i=n,n=void 0)),!1===s)s=Ht;else if(!s)return e;return 1===o&&(a=s,s=function(u){return r().off(u),a.apply(this,arguments)},s.guid=a.guid||(a.guid=r.guid++)),e.each(function(){r.event.add(this,t,s,i,n)})}function Qt(e,t,n){n?(J.set(e,t,!1),r.event.add(e,t,{namespace:!1,handler:function(i){var s,o=J.get(this,t);if(1&i.isTrigger&&this[t]){if(o)(r.event.special[t]||{}).delegateType&&i.stopPropagation();else if(o=C.call(arguments),J.set(this,t,o),this[t](),s=J.get(this,t),J.set(this,t,!1),o!==s)return i.stopImmediatePropagation(),i.preventDefault(),s}else o&&(J.set(this,t,r.event.trigger(o[0],o.slice(1),this)),i.stopPropagation(),i.isImmediatePropagationStopped=It)}})):void 0===J.get(e,t)&&r.event.add(e,t,It)}r.event={global:{},add:function(e,t,n,i,s){var o,a,f,u,g,R,I,S,j,te,fe,ie=J.get(e);if(Fe(e))for(n.handler&&(n=(o=n).handler,s=o.selector),s&&r.find.matchesSelector(Je,s),n.guid||(n.guid=r.guid++),(u=ie.events)||(u=ie.events=Object.create(null)),(a=ie.handle)||(a=ie.handle=function(Be){return typeof r<"u"&&r.event.triggered!==Be.type?r.event.dispatch.apply(e,arguments):void 0}),g=(t=(t||"").match(Ne)||[""]).length;g--;)j=fe=(f=An.exec(t[g])||[])[1],te=(f[2]||"").split(".").sort(),j&&(I=r.event.special[j]||{},j=(s?I.delegateType:I.bindType)||j,I=r.event.special[j]||{},R=r.extend({type:j,origType:fe,data:i,handler:n,guid:n.guid,selector:s,needsContext:s&&r.expr.match.needsContext.test(s),namespace:te.join(".")},o),(S=u[j])||((S=u[j]=[]).delegateCount=0,(!I.setup||!1===I.setup.call(e,i,te,a))&&e.addEventListener&&e.addEventListener(j,a)),I.add&&(I.add.call(e,R),R.handler.guid||(R.handler.guid=n.guid)),s?S.splice(S.delegateCount++,0,R):S.push(R),r.event.global[j]=!0)},remove:function(e,t,n,i,s){var o,a,f,u,g,R,I,S,j,te,fe,ie=J.hasData(e)&&J.get(e);if(ie&&(u=ie.events)){for(g=(t=(t||"").match(Ne)||[""]).length;g--;)if(j=fe=(f=An.exec(t[g])||[])[1],te=(f[2]||"").split(".").sort(),j){for(I=r.event.special[j]||{},S=u[j=(i?I.delegateType:I.bindType)||j]||[],f=f[2]&&new RegExp("(^|\\.)"+te.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=S.length;o--;)R=S[o],(s||fe===R.origType)&&(!n||n.guid===R.guid)&&(!f||f.test(R.namespace))&&(!i||i===R.selector||"**"===i&&R.selector)&&(S.splice(o,1),R.selector&&S.delegateCount--,I.remove&&I.remove.call(e,R));a&&!S.length&&((!I.teardown||!1===I.teardown.call(e,te,ie.handle))&&r.removeEvent(e,j,ie.handle),delete u[j])}else for(j in u)r.event.remove(e,j+t[g],n,i,!0);r.isEmptyObject(u)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,i,s,o,a,f=new Array(arguments.length),u=r.event.fix(e),g=(J.get(this,"events")||Object.create(null))[u.type]||[],R=r.event.special[u.type]||{};for(f[0]=u,t=1;t<arguments.length;t++)f[t]=arguments[t];if(u.delegateTarget=this,!R.preDispatch||!1!==R.preDispatch.call(this,u)){for(a=r.event.handlers.call(this,u,g),t=0;(s=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=s.elem,n=0;(o=s.handlers[n++])&&!u.isImmediatePropagationStopped();)(!u.rnamespace||!1===o.namespace||u.rnamespace.test(o.namespace))&&(u.handleObj=o,u.data=o.data,void 0!==(i=((r.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,f))&&!1===(u.result=i)&&(u.preventDefault(),u.stopPropagation()));return R.postDispatch&&R.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,i,s,o,a,f=[],u=t.delegateCount,g=e.target;if(u&&g.nodeType&&!("click"===e.type&&e.button>=1))for(;g!==this;g=g.parentNode||this)if(1===g.nodeType&&("click"!==e.type||!0!==g.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[s=(i=t[n]).selector+" "]&&(a[s]=i.needsContext?r(s,this).index(g)>-1:r.find(s,this,null,[g]).length),a[s]&&o.push(i);o.length&&f.push({elem:g,handlers:o})}return g=this,u<t.length&&f.push({elem:g,handlers:t.slice(u)}),f},addProp:function(e,t){Object.defineProperty(r.Event.prototype,e,{enumerable:!0,configurable:!0,get:k(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(n){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:n})}})},fix:function(e){return e[r.expando]?e:new r.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Et.test(t.type)&&t.click&&le(t,"input")&&Qt(t,"click",!0),!1},trigger:function(e){var t=this||e;return Et.test(t.type)&&t.click&&le(t,"input")&&Qt(t,"click"),!0},_default:function(e){var t=e.target;return Et.test(t.type)&&t.click&&le(t,"input")&&J.get(t,"click")||le(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},r.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},r.Event=function(e,t){if(!(this instanceof r.Event))return new r.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?It:Ht,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&r.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[r.expando]=!0},r.Event.prototype={constructor:r.Event,isDefaultPrevented:Ht,isPropagationStopped:Ht,isImmediatePropagationStopped:Ht,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=It,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=It,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=It,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},r.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},r.event.addProp),r.each({focus:"focusin",blur:"focusout"},function(e,t){function n(i){if(w.documentMode){var s=J.get(this,"handle"),o=r.event.fix(i);o.type="focusin"===i.type?"focus":"blur",o.isSimulated=!0,s(i),o.target===o.currentTarget&&s(o)}else r.event.simulate(t,i.target,r.event.fix(i))}r.event.special[e]={setup:function(){var i;if(Qt(this,e,!0),!w.documentMode)return!1;(i=J.get(this,t))||this.addEventListener(t,n),J.set(this,t,(i||0)+1)},trigger:function(){return Qt(this,e),!0},teardown:function(){var i;if(!w.documentMode)return!1;(i=J.get(this,t)-1)?J.set(this,t,i):(this.removeEventListener(t,n),J.remove(this,t))},_default:function(i){return J.get(i.target,e)},delegateType:t},r.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,s=w.documentMode?this:i,o=J.get(s,t);o||(w.documentMode?this.addEventListener(t,n):i.addEventListener(e,n,!0)),J.set(s,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,s=w.documentMode?this:i,o=J.get(s,t)-1;o?J.set(s,t,o):(w.documentMode?this.removeEventListener(t,n):i.removeEventListener(e,n,!0),J.remove(s,t))}}}),r.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){r.event.special[e]={delegateType:t,bindType:t,handle:function(n){var i,s=this,o=n.relatedTarget,a=n.handleObj;return(!o||o!==s&&!r.contains(s,o))&&(n.type=a.origType,i=a.handler.apply(this,arguments),n.type=t),i}}}),r.fn.extend({on:function(e,t,n,i){return sn(this,e,t,n,i)},one:function(e,t,n,i){return sn(this,e,t,n,i,1)},off:function(e,t,n){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,r(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return(!1===t||"function"==typeof t)&&(n=t,t=void 0),!1===n&&(n=Ht),this.each(function(){r.event.remove(this,e,n,t)})}});var ni=/<script|<style|<link/i,ii=/checked\s*(?:[^=]|=\s*.checked.)/i,ri=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Dn(e,t){return le(e,"table")&&le(11!==t.nodeType?t:t.firstChild,"tr")&&r(e).children("tbody")[0]||e}function si(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function oi(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function kn(e,t){var n,i,s,a,f,u;if(1===t.nodeType){if(J.hasData(e)&&(u=J.get(e).events))for(s in J.remove(t,"handle events"),u)for(n=0,i=u[s].length;n<i;n++)r.event.add(t,s,u[s][n]);Le.hasData(e)&&(a=Le.access(e),f=r.extend({},a),Le.set(t,f))}}function ai(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Et.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function Ft(e,t,n,i){t=D(t);var s,o,a,f,u,g,R=0,I=e.length,S=I-1,j=t[0],te=k(j);if(te||I>1&&"string"==typeof j&&!A.checkClone&&ii.test(j))return e.each(function(fe){var ie=e.eq(fe);te&&(t[0]=j.call(this,fe,ie.html())),Ft(ie,t,n,i)});if(I&&(o=(s=Nn(t,e[0].ownerDocument,!1,e,i)).firstChild,1===s.childNodes.length&&(s=o),o||i)){for(f=(a=r.map(Qe(s,"script"),si)).length;R<I;R++)u=s,R!==S&&(u=r.clone(u,!0,!0),f&&r.merge(a,Qe(u,"script"))),n.call(e[R],u,R);if(f)for(g=a[a.length-1].ownerDocument,r.map(a,oi),R=0;R<f;R++)u=a[R],En.test(u.type||"")&&!J.access(u,"globalEval")&&r.contains(g,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?r._evalUrl&&!u.noModule&&r._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},g):re(u.textContent.replace(ri,""),u,g))}return e}function Rn(e,t,n){for(var i,s=t?r.filter(t,e):e,o=0;null!=(i=s[o]);o++)!n&&1===i.nodeType&&r.cleanData(Qe(i)),i.parentNode&&(n&&Ke(i)&&rn(Qe(i,"script")),i.parentNode.removeChild(i));return e}r.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,s,o,a,f=e.cloneNode(!0),u=Ke(e);if(!(A.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||r.isXMLDoc(e)))for(a=Qe(f),i=0,s=(o=Qe(e)).length;i<s;i++)ai(o[i],a[i]);if(t)if(n)for(o=o||Qe(e),a=a||Qe(f),i=0,s=o.length;i<s;i++)kn(o[i],a[i]);else kn(e,f);return(a=Qe(f,"script")).length>0&&rn(a,!u&&Qe(e,"script")),f},cleanData:function(e){for(var t,n,i,s=r.event.special,o=0;void 0!==(n=e[o]);o++)if(Fe(n)){if(t=n[J.expando]){if(t.events)for(i in t.events)s[i]?r.event.remove(n,i):r.removeEvent(n,i,t.handle);n[J.expando]=void 0}n[Le.expando]&&(n[Le.expando]=void 0)}}}),r.fn.extend({detach:function(e){return Rn(this,e,!0)},remove:function(e){return Rn(this,e)},text:function(e){return Oe(this,function(t){return void 0===t?r.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,e,arguments.length)},append:function(){return Ft(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Dn(this,e).appendChild(e)})},prepend:function(){return Ft(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Dn(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ft(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ft(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(r.cleanData(Qe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e??!1,t=t??e,this.map(function(){return r.clone(this,e,t)})},html:function(e){return Oe(this,function(t){var n=this[0]||{},i=0,s=this.length;if(void 0===t&&1===n.nodeType)return n.innerHTML;if("string"==typeof t&&!ni.test(t)&&!tt[(Tn.exec(t)||["",""])[1].toLowerCase()]){t=r.htmlPrefilter(t);try{for(;i<s;i++)1===(n=this[i]||{}).nodeType&&(r.cleanData(Qe(n,!1)),n.innerHTML=t);n=0}catch{}}n&&this.empty().append(t)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ft(this,arguments,function(t){var n=this.parentNode;r.inArray(this,e)<0&&(r.cleanData(Qe(this)),n&&n.replaceChild(t,this))},e)}}),r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){r.fn[e]=function(n){for(var i,s=[],o=r(n),a=o.length-1,f=0;f<=a;f++)i=f===a?this:this.clone(!0),r(o[f])[t](i),m.apply(s,i.get());return this.pushStack(s)}});var on=new RegExp("^("+Tt+")(?!px)[a-z%]+$","i"),an=/^--/,$t=function(e){var t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=B),t.getComputedStyle(e)},Ln=function(e,t,n){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];for(s in i=n.call(e),t)e.style[s]=o[s];return i},li=new RegExp(Ue.join("|"),"i");function Pt(e,t,n){var i,s,o,a,f=an.test(t),u=e.style;return(n=n||$t(e))&&(a=n.getPropertyValue(t)||n[t],f&&a&&(a=a.replace(we,"$1")||void 0),""===a&&!Ke(e)&&(a=r.style(e,t)),!A.pixelBoxStyles()&&on.test(a)&&li.test(t)&&(i=u.width,s=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=i,u.minWidth=s,u.maxWidth=o)),void 0!==a?a+"":a}function On(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(g){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",g.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Je.appendChild(u).appendChild(g);var R=B.getComputedStyle(g);n="1%"!==R.top,f=12===t(R.marginLeft),g.style.right="60%",o=36===t(R.right),i=36===t(R.width),g.style.position="absolute",s=12===t(g.offsetWidth/3),Je.removeChild(u),g=null}}function t(R){return Math.round(parseFloat(R))}var n,i,s,o,a,f,u=w.createElement("div"),g=w.createElement("div");!g.style||(g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",A.clearCloneStyle="content-box"===g.style.backgroundClip,r.extend(A,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),f},scrollboxSize:function(){return e(),s},reliableTrDimensions:function(){var R,I,S,j;return null==a&&(R=w.createElement("table"),I=w.createElement("tr"),S=w.createElement("div"),R.style.cssText="position:absolute;left:-11111px;border-collapse:separate",I.style.cssText="box-sizing:content-box;border:1px solid",I.style.height="1px",S.style.height="9px",S.style.display="block",Je.appendChild(R).appendChild(I).appendChild(S),j=B.getComputedStyle(I),a=parseInt(j.height,10)+parseInt(j.borderTopWidth,10)+parseInt(j.borderBottomWidth,10)===I.offsetHeight,Je.removeChild(R)),a}}))}();var In=["Webkit","Moz","ms"],Hn=w.createElement("div").style,Fn={};function ln(e){return r.cssProps[e]||Fn[e]||(e in Hn?e:Fn[e]=function ci(e){for(var t=e[0].toUpperCase()+e.slice(1),n=In.length;n--;)if((e=In[n]+t)in Hn)return e}(e)||e)}var ui=/^(none|table(?!-c[ea]).+)/,di={position:"absolute",visibility:"hidden",display:"block"},qn={letterSpacing:"0",fontWeight:"400"};function Bn(e,t,n){var i=ct.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function cn(e,t,n,i,s,o){var a="width"===t?1:0,f=0,u=0,g=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(g+=r.css(e,n+Ue[a],!0,s)),i?("content"===n&&(u-=r.css(e,"padding"+Ue[a],!0,s)),"margin"!==n&&(u-=r.css(e,"border"+Ue[a]+"Width",!0,s))):(u+=r.css(e,"padding"+Ue[a],!0,s),"padding"!==n?u+=r.css(e,"border"+Ue[a]+"Width",!0,s):f+=r.css(e,"border"+Ue[a]+"Width",!0,s));return!i&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-f-.5))||0),u+g}function jn(e,t,n){var i=$t(e),o=(!A.boxSizingReliable()||n)&&"border-box"===r.css(e,"boxSizing",!1,i),a=o,f=Pt(e,t,i),u="offset"+t[0].toUpperCase()+t.slice(1);if(on.test(f)){if(!n)return f;f="auto"}return(!A.boxSizingReliable()&&o||!A.reliableTrDimensions()&&le(e,"tr")||"auto"===f||!parseFloat(f)&&"inline"===r.css(e,"display",!1,i))&&e.getClientRects().length&&(o="border-box"===r.css(e,"boxSizing",!1,i),(a=u in e)&&(f=e[u])),(f=parseFloat(f)||0)+cn(e,t,n||(o?"border":"content"),a,i,f)+"px"}function $e(e,t,n,i,s){return new $e.prototype.init(e,t,n,i,s)}r.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Pt(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,a,f=ae(t),u=an.test(t),g=e.style;if(u||(t=ln(f)),a=r.cssHooks[t]||r.cssHooks[f],void 0===n)return a&&"get"in a&&void 0!==(s=a.get(e,!1,i))?s:g[t];if("string"===(o=typeof n)&&(s=ct.exec(n))&&s[1]&&(n=Ot(e,t,s),o="number"),null==n||n!=n)return;"number"===o&&!u&&(n+=s&&s[3]||(r.cssNumber[f]?"":"px")),!A.clearCloneStyle&&""===n&&0===t.indexOf("background")&&(g[t]="inherit"),(!a||!("set"in a)||void 0!==(n=a.set(e,n,i)))&&(u?g.setProperty(t,n):g[t]=n)}},css:function(e,t,n,i){var s,o,a,f=ae(t);return an.test(t)||(t=ln(f)),(a=r.cssHooks[t]||r.cssHooks[f])&&"get"in a&&(s=a.get(e,!0,n)),void 0===s&&(s=Pt(e,t,i)),"normal"===s&&t in qn&&(s=qn[t]),""===n||n?(o=parseFloat(s),!0===n||isFinite(o)?o||0:s):s}}),r.each(["height","width"],function(e,t){r.cssHooks[t]={get:function(n,i,s){if(i)return!ui.test(r.css(n,"display"))||n.getClientRects().length&&n.getBoundingClientRect().width?jn(n,t,s):Ln(n,di,function(){return jn(n,t,s)})},set:function(n,i,s){var o,a=$t(n),f=!A.scrollboxSize()&&"absolute"===a.position,g=(f||s)&&"border-box"===r.css(n,"boxSizing",!1,a),R=s?cn(n,t,s,g,a):0;return g&&f&&(R-=Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-cn(n,t,"border",!1,a)-.5)),R&&(o=ct.exec(i))&&"px"!==(o[3]||"px")&&(n.style[t]=i,i=r.css(n,t)),Bn(0,i,R)}}}),r.cssHooks.marginLeft=On(A.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Pt(e,"marginLeft"))||e.getBoundingClientRect().left-Ln(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),r.each({margin:"",padding:"",border:"Width"},function(e,t){r.cssHooks[e+t]={expand:function(n){for(var i=0,s={},o="string"==typeof n?n.split(" "):[n];i<4;i++)s[e+Ue[i]+t]=o[i]||o[i-2]||o[0];return s}},"margin"!==e&&(r.cssHooks[e+t].set=Bn)}),r.fn.extend({css:function(e,t){return Oe(this,function(n,i,s){var o,a,f={},u=0;if(Array.isArray(i)){for(o=$t(n),a=i.length;u<a;u++)f[i[u]]=r.css(n,i[u],!1,o);return f}return void 0!==s?r.style(n,i,s):r.css(n,i)},e,t,arguments.length>1)}}),r.Tween=$e,$e.prototype={constructor:$e,init:function(e,t,n,i,s,o){this.elem=e,this.prop=n,this.easing=s||r.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(r.cssNumber[n]?"":"px")},cur:function(){var e=$e.propHooks[this.prop];return e&&e.get?e.get(this):$e.propHooks._default.get(this)},run:function(e){var t,n=$e.propHooks[this.prop];return this.options.duration?this.pos=t=r.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):$e.propHooks._default.set(this),this}},$e.prototype.init.prototype=$e.prototype,$e.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=r.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){r.fx.step[e.prop]?r.fx.step[e.prop](e):1!==e.elem.nodeType||!r.cssHooks[e.prop]&&null==e.elem.style[ln(e.prop)]?e.elem[e.prop]=e.now:r.style(e.elem,e.prop,e.now+e.unit)}}},$e.propHooks.scrollTop=$e.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},r.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},r.fx=$e.prototype.init,r.fx.step={};var qt,Vt,fi=/^(?:toggle|show|hide)$/,hi=/queueHooks$/;function un(){Vt&&(!1===w.hidden&&B.requestAnimationFrame?B.requestAnimationFrame(un):B.setTimeout(un,r.fx.interval),r.fx.tick())}function Mn(){return B.setTimeout(function(){qt=void 0}),qt=Date.now()}function Yt(e,t){var n,i=0,s={height:e};for(t=t?1:0;i<4;i+=2-t)s["margin"+(n=Ue[i])]=s["padding"+n]=e;return t&&(s.opacity=s.width=e),s}function Pn(e,t,n){for(var i,s=(ot.tweeners[t]||[]).concat(ot.tweeners["*"]),o=0,a=s.length;o<a;o++)if(i=s[o].call(n,t,e))return i}function ot(e,t,n){var i,s,o=0,a=ot.prefilters.length,f=r.Deferred().always(function(){delete u.elem}),u=function(){if(s)return!1;for(var I=qt||Mn(),S=Math.max(0,g.startTime+g.duration-I),te=1-(S/g.duration||0),fe=0,ie=g.tweens.length;fe<ie;fe++)g.tweens[fe].run(te);return f.notifyWith(e,[g,te,S]),te<1&&ie?S:(ie||f.notifyWith(e,[g,1,0]),f.resolveWith(e,[g]),!1)},g=f.promise({elem:e,props:r.extend({},t),opts:r.extend(!0,{specialEasing:{},easing:r.easing._default},n),originalProperties:t,originalOptions:n,startTime:qt||Mn(),duration:n.duration,tweens:[],createTween:function(I,S){var j=r.Tween(e,g.opts,I,S,g.opts.specialEasing[I]||g.opts.easing);return g.tweens.push(j),j},stop:function(I){var S=0,j=I?g.tweens.length:0;if(s)return this;for(s=!0;S<j;S++)g.tweens[S].run(1);return I?(f.notifyWith(e,[g,1,0]),f.resolveWith(e,[g,I])):f.rejectWith(e,[g,I]),this}}),R=g.props;for(function gi(e,t){var n,i,s,o,a;for(n in e)if(s=t[i=ae(n)],o=e[n],Array.isArray(o)&&(s=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=r.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=s);else t[i]=s}(R,g.opts.specialEasing);o<a;o++)if(i=ot.prefilters[o].call(g,e,R,g.opts))return k(i.stop)&&(r._queueHooks(g.elem,g.opts.queue).stop=i.stop.bind(i)),i;return r.map(R,Pn,g),k(g.opts.start)&&g.opts.start.call(e,g),g.progress(g.opts.progress).done(g.opts.done,g.opts.complete).fail(g.opts.fail).always(g.opts.always),r.fx.timer(r.extend(u,{elem:e,anim:g,queue:g.opts.queue})),g}r.Animation=r.extend(ot,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return Ot(n.elem,e,ct.exec(t),n),n}]},tweener:function(e,t){k(e)?(t=e,e=["*"]):e=e.match(Ne);for(var n,i=0,s=e.length;i<s;i++)n=e[i],ot.tweeners[n]=ot.tweeners[n]||[],ot.tweeners[n].unshift(t)},prefilters:[function pi(e,t,n){var i,s,o,a,f,u,g,R,I="width"in t||"height"in t,S=this,j={},te=e.style,fe=e.nodeType&&ut(e),ie=J.get(e,"fxshow");for(i in n.queue||(null==(a=r._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,f=a.empty.fire,a.empty.fire=function(){a.unqueued||f()}),a.unqueued++,S.always(function(){S.always(function(){a.unqueued--,r.queue(e,"fx").length||a.empty.fire()})})),t)if(s=t[i],fi.test(s)){if(delete t[i],o=o||"toggle"===s,s===(fe?"hide":"show")){if("show"!==s||!ie||void 0===ie[i])continue;fe=!0}j[i]=ie&&ie[i]||r.style(e,i)}if((u=!r.isEmptyObject(t))||!r.isEmptyObject(j))for(i in I&&1===e.nodeType&&(n.overflow=[te.overflow,te.overflowX,te.overflowY],null==(g=ie&&ie.display)&&(g=J.get(e,"display")),"none"===(R=r.css(e,"display"))&&(g?R=g:(wt([e],!0),g=e.style.display||g,R=r.css(e,"display"),wt([e]))),("inline"===R||"inline-block"===R&&null!=g)&&"none"===r.css(e,"float")&&(u||(S.done(function(){te.display=g}),null==g&&(R=te.display,g="none"===R?"":R)),te.display="inline-block")),n.overflow&&(te.overflow="hidden",S.always(function(){te.overflow=n.overflow[0],te.overflowX=n.overflow[1],te.overflowY=n.overflow[2]})),u=!1,j)u||(ie?"hidden"in ie&&(fe=ie.hidden):ie=J.access(e,"fxshow",{display:g}),o&&(ie.hidden=!fe),fe&&wt([e],!0),S.done(function(){for(i in fe||wt([e]),J.remove(e,"fxshow"),j)r.style(e,i,j[i])})),u=Pn(fe?ie[i]:0,i,S),i in ie||(ie[i]=u.start,fe&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ot.prefilters.unshift(e):ot.prefilters.push(e)}}),r.speed=function(e,t,n){var i=e&&"object"==typeof e?r.extend({},e):{complete:n||!n&&t||k(e)&&e,duration:e,easing:n&&t||t&&!k(t)&&t};return r.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in r.fx.speeds?i.duration=r.fx.speeds[i.duration]:i.duration=r.fx.speeds._default),(null==i.queue||!0===i.queue)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){k(i.old)&&i.old.call(this),i.queue&&r.dequeue(this,i.queue)},i},r.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ut).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var s=r.isEmptyObject(e),o=r.speed(t,n,i),a=function(){var f=ot(this,r.extend({},e),o);(s||J.get(this,"finish"))&&f.stop(!0)};return a.finish=a,s||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(s){var o=s.stop;delete s.stop,o(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var s=!0,o=null!=e&&e+"queueHooks",a=r.timers,f=J.get(this);if(o)f[o]&&f[o].stop&&i(f[o]);else for(o in f)f[o]&&f[o].stop&&hi.test(o)&&i(f[o]);for(o=a.length;o--;)a[o].elem===this&&(null==e||a[o].queue===e)&&(a[o].anim.stop(n),s=!1,a.splice(o,1));(s||!n)&&r.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=J.get(this),i=n[e+"queue"],s=n[e+"queueHooks"],o=r.timers,a=i?i.length:0;for(n.finish=!0,r.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),r.each(["toggle","show","hide"],function(e,t){var n=r.fn[t];r.fn[t]=function(i,s,o){return null==i||"boolean"==typeof i?n.apply(this,arguments):this.animate(Yt(t,!0),i,s,o)}}),r.each({slideDown:Yt("show"),slideUp:Yt("hide"),slideToggle:Yt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){r.fn[e]=function(n,i,s){return this.animate(t,n,i,s)}}),r.timers=[],r.fx.tick=function(){var e,t=0,n=r.timers;for(qt=Date.now();t<n.length;t++)!(e=n[t])()&&n[t]===e&&n.splice(t--,1);n.length||r.fx.stop(),qt=void 0},r.fx.timer=function(e){r.timers.push(e),r.fx.start()},r.fx.interval=13,r.fx.start=function(){Vt||(Vt=!0,un())},r.fx.stop=function(){Vt=null},r.fx.speeds={slow:600,fast:200,_default:400},r.fn.delay=function(e,t){return e=r.fx&&r.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(n,i){var s=B.setTimeout(n,e);i.stop=function(){B.clearTimeout(s)}})},function(){var e=w.createElement("input"),n=w.createElement("select").appendChild(w.createElement("option"));e.type="checkbox",A.checkOn=""!==e.value,A.optSelected=n.selected,(e=w.createElement("input")).value="t",e.type="radio",A.radioValue="t"===e.value}();var Un,Ut=r.expr.attrHandle;r.fn.extend({attr:function(e,t){return Oe(this,r.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){r.removeAttr(this,e)})}}),r.extend({attr:function(e,t,n){var i,s,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return typeof e.getAttribute>"u"?r.prop(e,t,n):((1!==o||!r.isXMLDoc(e))&&(s=r.attrHooks[t.toLowerCase()]||(r.expr.match.bool.test(t)?Un:void 0)),void 0!==n?null===n?void r.removeAttr(e,t):s&&"set"in s&&void 0!==(i=s.set(e,n,t))?i:(e.setAttribute(t,n+""),n):s&&"get"in s&&null!==(i=s.get(e,t))?i:(i=r.find.attr(e,t))??void 0)},attrHooks:{type:{set:function(e,t){if(!A.radioValue&&"radio"===t&&le(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,s=t&&t.match(Ne);if(s&&1===e.nodeType)for(;n=s[i++];)e.removeAttribute(n)}}),Un={set:function(e,t,n){return!1===t?r.removeAttr(e,n):e.setAttribute(n,n),n}},r.each(r.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ut[t]||r.find.attr;Ut[t]=function(i,s,o){var a,f,u=s.toLowerCase();return o||(f=Ut[u],Ut[u]=a,a=null!=n(i,s,o)?u:null,Ut[u]=f),a}});var mi=/^(?:input|select|textarea|button)$/i,vi=/^(?:a|area)$/i;function Nt(e){return(e.match(Ne)||[]).join(" ")}function At(e){return e.getAttribute&&e.getAttribute("class")||""}function dn(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(Ne)||[]}r.fn.extend({prop:function(e,t){return Oe(this,r.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[r.propFix[e]||e]})}}),r.extend({prop:function(e,t,n){var i,s,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return(1!==o||!r.isXMLDoc(e))&&(t=r.propFix[t]||t,s=r.propHooks[t]),void 0!==n?s&&"set"in s&&void 0!==(i=s.set(e,n,t))?i:e[t]=n:s&&"get"in s&&null!==(i=s.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=r.find.attr(e,"tabindex");return t?parseInt(t,10):mi.test(e.nodeName)||vi.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),A.optSelected||(r.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),r.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){r.propFix[this.toLowerCase()]=this}),r.fn.extend({addClass:function(e){var t,n,i,s,o,a;return k(e)?this.each(function(f){r(this).addClass(e.call(this,f,At(this)))}):(t=dn(e)).length?this.each(function(){if(i=At(this),n=1===this.nodeType&&" "+Nt(i)+" "){for(o=0;o<t.length;o++)s=t[o],n.indexOf(" "+s+" ")<0&&(n+=s+" ");a=Nt(n),i!==a&&this.setAttribute("class",a)}}):this},removeClass:function(e){var t,n,i,s,o,a;return k(e)?this.each(function(f){r(this).removeClass(e.call(this,f,At(this)))}):arguments.length?(t=dn(e)).length?this.each(function(){if(i=At(this),n=1===this.nodeType&&" "+Nt(i)+" "){for(o=0;o<t.length;o++)for(s=t[o];n.indexOf(" "+s+" ")>-1;)n=n.replace(" "+s+" "," ");a=Nt(n),i!==a&&this.setAttribute("class",a)}}):this:this.attr("class","")},toggleClass:function(e,t){var n,i,s,o,a=typeof e,f="string"===a||Array.isArray(e);return k(e)?this.each(function(u){r(this).toggleClass(e.call(this,u,At(this),t),t)}):"boolean"==typeof t&&f?t?this.addClass(e):this.removeClass(e):(n=dn(e),this.each(function(){if(f)for(o=r(this),s=0;s<n.length;s++)i=n[s],o.hasClass(i)?o.removeClass(i):o.addClass(i);else(void 0===e||"boolean"===a)&&((i=At(this))&&J.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===e?"":J.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+Nt(At(n))+" ").indexOf(t)>-1)return!0;return!1}});var yi=/\r/g;r.fn.extend({val:function(e){var t,n,i,s=this[0];return arguments.length?(i=k(e),this.each(function(o){var a;1===this.nodeType&&(null==(a=i?e.call(this,o,r(this).val()):e)?a="":"number"==typeof a?a+="":Array.isArray(a)&&(a=r.map(a,function(f){return null==f?"":f+""})),(!(t=r.valHooks[this.type]||r.valHooks[this.nodeName.toLowerCase()])||!("set"in t)||void 0===t.set(this,a,"value"))&&(this.value=a))})):s?(t=r.valHooks[s.type]||r.valHooks[s.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(s,"value"))?n:"string"==typeof(n=s.value)?n.replace(yi,""):n??"":void 0}}),r.extend({valHooks:{option:{get:function(e){return r.find.attr(e,"value")??Nt(r.text(e))}},select:{get:function(e){var t,n,i,s=e.options,o=e.selectedIndex,a="select-one"===e.type,f=a?null:[],u=a?o+1:s.length;for(i=o<0?u:a?o:0;i<u;i++)if(((n=s[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!le(n.parentNode,"optgroup"))){if(t=r(n).val(),a)return t;f.push(t)}return f},set:function(e,t){for(var n,i,s=e.options,o=r.makeArray(t),a=s.length;a--;)((i=s[a]).selected=r.inArray(r.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),r.each(["radio","checkbox"],function(){r.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=r.inArray(r(e).val(),t)>-1}},A.checkOn||(r.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Wt=B.location,Wn={guid:Date.now()},fn=/\?/;r.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new B.DOMParser).parseFromString(e,"text/xml")}catch{}return n=t&&t.getElementsByTagName("parsererror")[0],(!t||n)&&r.error("Invalid XML: "+(n?r.map(n.childNodes,function(i){return i.textContent}).join("\n"):e)),t};var zn=/^(?:focusinfocus|focusoutblur)$/,Zn=function(e){e.stopPropagation()};r.extend(r.event,{trigger:function(e,t,n,i){var s,o,a,f,u,g,R,I,S=[n||w],j=N.call(e,"type")?e.type:e,te=N.call(e,"namespace")?e.namespace.split("."):[];if(o=I=a=n=n||w,3!==n.nodeType&&8!==n.nodeType&&!zn.test(j+r.event.triggered)&&(j.indexOf(".")>-1&&(te=j.split("."),j=te.shift(),te.sort()),u=j.indexOf(":")<0&&"on"+j,(e=e[r.expando]?e:new r.Event(j,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=te.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+te.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:r.makeArray(t,[e]),R=r.event.special[j]||{},i||!R.trigger||!1!==R.trigger.apply(n,t))){if(!i&&!R.noBubble&&!M(n)){for(f=R.delegateType||j,zn.test(f+j)||(o=o.parentNode);o;o=o.parentNode)S.push(o),a=o;a===(n.ownerDocument||w)&&S.push(a.defaultView||a.parentWindow||B)}for(s=0;(o=S[s++])&&!e.isPropagationStopped();)I=o,e.type=s>1?f:R.bindType||j,(g=(J.get(o,"events")||Object.create(null))[e.type]&&J.get(o,"handle"))&&g.apply(o,t),(g=u&&o[u])&&g.apply&&Fe(o)&&(e.result=g.apply(o,t),!1===e.result&&e.preventDefault());return e.type=j,!i&&!e.isDefaultPrevented()&&(!R._default||!1===R._default.apply(S.pop(),t))&&Fe(n)&&u&&k(n[j])&&!M(n)&&((a=n[u])&&(n[u]=null),r.event.triggered=j,e.isPropagationStopped()&&I.addEventListener(j,Zn),n[j](),e.isPropagationStopped()&&I.removeEventListener(j,Zn),r.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var i=r.extend(new r.Event,n,{type:e,isSimulated:!0});r.event.trigger(i,null,t)}}),r.fn.extend({trigger:function(e,t){return this.each(function(){r.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return r.event.trigger(e,t,n,!0)}});var wi=/\[\]$/,Jn=/\r?\n/g,_i=/^(?:submit|button|image|reset|file)$/i,bi=/^(?:input|select|textarea|keygen)/i;function hn(e,t,n,i){var s;if(Array.isArray(t))r.each(t,function(o,a){n||wi.test(e)?i(e,a):hn(e+"["+("object"==typeof a&&null!=a?o:"")+"]",a,n,i)});else if(n||"object"!==De(t))i(e,t);else for(s in t)hn(e+"["+s+"]",t[s],n,i)}r.param=function(e,t){var n,i=[],s=function(o,a){var f=k(a)?a():a;i[i.length]=encodeURIComponent(o)+"="+encodeURIComponent(f??"")};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!r.isPlainObject(e))r.each(e,function(){s(this.name,this.value)});else for(n in e)hn(n,e[n],t,s);return i.join("&")},r.fn.extend({serialize:function(){return r.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=r.prop(this,"elements");return e?r.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!r(this).is(":disabled")&&bi.test(this.nodeName)&&!_i.test(e)&&(this.checked||!Et.test(e))}).map(function(e,t){var n=r(this).val();return null==n?null:Array.isArray(n)?r.map(n,function(i){return{name:t.name,value:i.replace(Jn,"\r\n")}}):{name:t.name,value:n.replace(Jn,"\r\n")}}).get()}});var Si=/%20/g,xi=/#.*$/,Ci=/([?&])_=[^&]*/,Ti=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ni=/^(?:GET|HEAD)$/,Ai=/^\/\//,Kn={},pn={},Qn="*/".concat("*"),gn=w.createElement("a");function $n(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,s=0,o=t.toLowerCase().match(Ne)||[];if(k(n))for(;i=o[s++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Vn(e,t,n,i){var s={},o=e===pn;function a(f){var u;return s[f]=!0,r.each(e[f]||[],function(g,R){var I=R(t,n,i);return"string"!=typeof I||o||s[I]?o?!(u=I):void 0:(t.dataTypes.unshift(I),a(I),!1)}),u}return a(t.dataTypes[0])||!s["*"]&&a("*")}function mn(e,t){var n,i,s=r.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((s[n]?e:i||(i={}))[n]=t[n]);return i&&r.extend(!0,e,i),e}gn.href=Wt.href,r.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Wt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":r.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?mn(mn(e,r.ajaxSettings),t):mn(r.ajaxSettings,e)},ajaxPrefilter:$n(Kn),ajaxTransport:$n(pn),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,s,o,a,f,u,g,R,I,S=r.ajaxSetup({},t),j=S.context||S,te=S.context&&(j.nodeType||j.jquery)?r(j):r.event,fe=r.Deferred(),ie=r.Callbacks("once memory"),Be=S.statusCode||{},Ie={},dt={},ft="canceled",de={readyState:0,getResponseHeader:function(me){var ke;if(u){if(!o)for(o={};ke=Ti.exec(s);)o[ke[1].toLowerCase()+" "]=(o[ke[1].toLowerCase()+" "]||[]).concat(ke[2]);ke=o[me.toLowerCase()+" "]}return null==ke?null:ke.join(", ")},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(me,ke){return null==u&&(me=dt[me.toLowerCase()]=dt[me.toLowerCase()]||me,Ie[me]=ke),this},overrideMimeType:function(me){return null==u&&(S.mimeType=me),this},statusCode:function(me){var ke;if(me)if(u)de.always(me[de.status]);else for(ke in me)Be[ke]=[Be[ke],me[ke]];return this},abort:function(me){var ke=me||ft;return n&&n.abort(ke),Dt(0,ke),this}};if(fe.promise(de),S.url=((e||S.url||Wt.href)+"").replace(Ai,Wt.protocol+"//"),S.type=t.method||t.type||S.method||S.type,S.dataTypes=(S.dataType||"*").toLowerCase().match(Ne)||[""],null==S.crossDomain){f=w.createElement("a");try{f.href=S.url,f.href=f.href,S.crossDomain=gn.protocol+"//"+gn.host!=f.protocol+"//"+f.host}catch{S.crossDomain=!0}}if(S.data&&S.processData&&"string"!=typeof S.data&&(S.data=r.param(S.data,S.traditional)),Vn(Kn,S,t,de),u)return de;for(R in(g=r.event&&S.global)&&0==r.active++&&r.event.trigger("ajaxStart"),S.type=S.type.toUpperCase(),S.hasContent=!Ni.test(S.type),i=S.url.replace(xi,""),S.hasContent?S.data&&S.processData&&0===(S.contentType||"").indexOf("application/x-www-form-urlencoded")&&(S.data=S.data.replace(Si,"+")):(I=S.url.slice(i.length),S.data&&(S.processData||"string"==typeof S.data)&&(i+=(fn.test(i)?"&":"?")+S.data,delete S.data),!1===S.cache&&(i=i.replace(Ci,"$1"),I=(fn.test(i)?"&":"?")+"_="+Wn.guid+++I),S.url=i+I),S.ifModified&&(r.lastModified[i]&&de.setRequestHeader("If-Modified-Since",r.lastModified[i]),r.etag[i]&&de.setRequestHeader("If-None-Match",r.etag[i])),(S.data&&S.hasContent&&!1!==S.contentType||t.contentType)&&de.setRequestHeader("Content-Type",S.contentType),de.setRequestHeader("Accept",S.dataTypes[0]&&S.accepts[S.dataTypes[0]]?S.accepts[S.dataTypes[0]]+("*"!==S.dataTypes[0]?", "+Qn+"; q=0.01":""):S.accepts["*"]),S.headers)de.setRequestHeader(R,S.headers[R]);if(S.beforeSend&&(!1===S.beforeSend.call(j,de,S)||u))return de.abort();if(ft="abort",ie.add(S.complete),de.done(S.success),de.fail(S.error),n=Vn(pn,S,t,de)){if(de.readyState=1,g&&te.trigger("ajaxSend",[de,S]),u)return de;S.async&&S.timeout>0&&(a=B.setTimeout(function(){de.abort("timeout")},S.timeout));try{u=!1,n.send(Ie,Dt)}catch(me){if(u)throw me;Dt(-1,me)}}else Dt(-1,"No Transport");function Dt(me,ke,Zt,yn){var ht,Jt,pt,_t,bt,nt=ke;u||(u=!0,a&&B.clearTimeout(a),n=void 0,s=yn||"",de.readyState=me>0?4:0,ht=me>=200&&me<300||304===me,Zt&&(_t=function Di(e,t,n){for(var i,s,o,a,f=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(s in f)if(f[s]&&f[s].test(i)){u.unshift(s);break}if(u[0]in n)o=u[0];else{for(s in n){if(!u[0]||e.converters[s+" "+u[0]]){o=s;break}a||(a=s)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(S,de,Zt)),!ht&&r.inArray("script",S.dataTypes)>-1&&r.inArray("json",S.dataTypes)<0&&(S.converters["text script"]=function(){}),_t=function ki(e,t,n,i){var s,o,a,f,u,g={},R=e.dataTypes.slice();if(R[1])for(a in e.converters)g[a.toLowerCase()]=e.converters[a];for(o=R.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=R.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=g[u+" "+o]||g["* "+o]))for(s in g)if((f=s.split(" "))[1]===o&&(a=g[u+" "+f[0]]||g["* "+f[0]])){!0===a?a=g[s]:!0!==g[s]&&(o=f[0],R.unshift(f[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(I){return{state:"parsererror",error:a?I:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(S,_t,de,ht),ht?(S.ifModified&&((bt=de.getResponseHeader("Last-Modified"))&&(r.lastModified[i]=bt),(bt=de.getResponseHeader("etag"))&&(r.etag[i]=bt)),204===me||"HEAD"===S.type?nt="nocontent":304===me?nt="notmodified":(nt=_t.state,Jt=_t.data,ht=!(pt=_t.error))):(pt=nt,(me||!nt)&&(nt="error",me<0&&(me=0))),de.status=me,de.statusText=(ke||nt)+"",ht?fe.resolveWith(j,[Jt,nt,de]):fe.rejectWith(j,[de,nt,pt]),de.statusCode(Be),Be=void 0,g&&te.trigger(ht?"ajaxSuccess":"ajaxError",[de,S,ht?Jt:pt]),ie.fireWith(j,[de,nt]),g&&(te.trigger("ajaxComplete",[de,S]),--r.active||r.event.trigger("ajaxStop")))}return de},getJSON:function(e,t,n){return r.get(e,t,n,"json")},getScript:function(e,t){return r.get(e,void 0,t,"script")}}),r.each(["get","post"],function(e,t){r[t]=function(n,i,s,o){return k(i)&&(o=o||s,s=i,i=void 0),r.ajax(r.extend({url:n,type:t,dataType:o,data:i,success:s},r.isPlainObject(n)&&n))}}),r.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),r._evalUrl=function(e,t,n){return r.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(i){r.globalEval(i,t,n)}})},r.fn.extend({wrapAll:function(e){var t;return this[0]&&(k(e)&&(e=e.call(this[0])),t=r(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(e){return k(e)?this.each(function(t){r(this).wrapInner(e.call(this,t))}):this.each(function(){var t=r(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=k(e);return this.each(function(n){r(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){r(this).replaceWith(this.childNodes)}),this}}),r.expr.pseudos.hidden=function(e){return!r.expr.pseudos.visible(e)},r.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},r.ajaxSettings.xhr=function(){try{return new B.XMLHttpRequest}catch{}};var Ri={0:200,1223:204},zt=r.ajaxSettings.xhr();A.cors=!!zt&&"withCredentials"in zt,A.ajax=zt=!!zt,r.ajaxTransport(function(e){var t,n;if(A.cors||zt&&!e.crossDomain)return{send:function(i,s){var o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];for(o in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),!e.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(o,i[o]);t=function(f){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===f?a.abort():"error"===f?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Ri[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&B.setTimeout(function(){t&&n()})},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(f){if(t)throw f}},abort:function(){t&&t()}}}),r.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return r.globalEval(e),e}}}),r.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),r.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,s){t=r("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(o){t.remove(),n=null,o&&s("error"===o.type?404:200,o.type)}),w.head.appendChild(t[0])},abort:function(){n&&n()}}});var e,Yn=[],vn=/(=)\?(?=&|$)|\?\?/;r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yn.pop()||r.expando+"_"+Wn.guid++;return this[e]=!0,e}}),r.ajaxPrefilter("json jsonp",function(e,t,n){var i,s,o,a=!1!==e.jsonp&&(vn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&vn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=k(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(vn,"$1"+i):!1!==e.jsonp&&(e.url+=(fn.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||r.error(i+" was not called"),o[0]},e.dataTypes[0]="json",s=B[i],B[i]=function(){o=arguments},n.always(function(){void 0===s?r(B).removeProp(i):B[i]=s,e[i]&&(e.jsonpCallback=t.jsonpCallback,Yn.push(i)),o&&k(s)&&s(o[0]),o=s=void 0}),"script"}),A.createHTMLDocument=((e=w.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===e.childNodes.length),r.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(A.createHTMLDocument?((i=(t=w.implementation.createHTMLDocument("")).createElement("base")).href=w.location.href,t.head.appendChild(i)):t=w),o=!n&&[],(s=se.exec(e))?[t.createElement(s[1])]:(s=Nn([e],t,o),o&&o.length&&r(o).remove(),r.merge([],s.childNodes)));var i,s,o},r.fn.load=function(e,t,n){var i,s,o,a=this,f=e.indexOf(" ");return f>-1&&(i=Nt(e.slice(f)),e=e.slice(0,f)),k(t)?(n=t,t=void 0):t&&"object"==typeof t&&(s="POST"),a.length>0&&r.ajax({url:e,type:s||"GET",dataType:"html",data:t}).done(function(u){o=arguments,a.html(i?r("<div>").append(r.parseHTML(u)).find(i):u)}).always(n&&function(u,g){a.each(function(){n.apply(this,o||[u.responseText,g,u])})}),this},r.expr.pseudos.animated=function(e){return r.grep(r.timers,function(t){return e===t.elem}).length},r.offset={setOffset:function(e,t,n){var i,s,o,a,f,u,R=r.css(e,"position"),I=r(e),S={};"static"===R&&(e.style.position="relative"),f=I.offset(),o=r.css(e,"top"),u=r.css(e,"left"),("absolute"===R||"fixed"===R)&&(o+u).indexOf("auto")>-1?(a=(i=I.position()).top,s=i.left):(a=parseFloat(o)||0,s=parseFloat(u)||0),k(t)&&(t=t.call(e,n,r.extend({},f))),null!=t.top&&(S.top=t.top-f.top+a),null!=t.left&&(S.left=t.left-f.left+s),"using"in t?t.using.call(e,S):I.css(S)}},r.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(s){r.offset.setOffset(this,e,s)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],s={top:0,left:0};if("fixed"===r.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===r.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((s=r(e).offset()).top+=r.css(e,"borderTopWidth",!0),s.left+=r.css(e,"borderLeftWidth",!0))}return{top:t.top-s.top-r.css(i,"marginTop",!0),left:t.left-s.left-r.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===r.css(e,"position");)e=e.offsetParent;return e||Je})}}),r.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;r.fn[e]=function(i){return Oe(this,function(s,o,a){var f;if(M(s)?f=s:9===s.nodeType&&(f=s.defaultView),void 0===a)return f?f[t]:s[o];f?f.scrollTo(n?f.pageXOffset:a,n?a:f.pageYOffset):s[o]=a},e,i,arguments.length)}}),r.each(["top","left"],function(e,t){r.cssHooks[t]=On(A.pixelPosition,function(n,i){if(i)return i=Pt(n,t),on.test(i)?r(n).position()[t]+"px":i})}),r.each({Height:"height",Width:"width"},function(e,t){r.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){r.fn[i]=function(s,o){var a=arguments.length&&(n||"boolean"!=typeof s),f=n||(!0===s||!0===o?"margin":"border");return Oe(this,function(u,g,R){var I;return M(u)?0===i.indexOf("outer")?u["inner"+e]:u.document.documentElement["client"+e]:9===u.nodeType?(I=u.documentElement,Math.max(u.body["scroll"+e],I["scroll"+e],u.body["offset"+e],I["offset"+e],I["client"+e])):void 0===R?r.css(u,g,f):r.style(u,g,R,f)},t,a?s:void 0,a)}})}),r.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){r.fn[t]=function(n){return this.on(t,n)}}),r.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),r.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){r.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}});var Li=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;r.proxy=function(e,t){var n,i,s;if("string"==typeof t&&(n=e[t],t=e,e=n),k(e))return i=C.call(arguments,2),s=function(){return e.apply(t||this,i.concat(C.call(arguments)))},s.guid=e.guid=e.guid||r.guid++,s},r.holdReady=function(e){e?r.readyWait++:r.ready(!0)},r.isArray=Array.isArray,r.parseJSON=JSON.parse,r.nodeName=le,r.isFunction=k,r.isWindow=M,r.camelCase=ae,r.type=De,r.now=Date.now,r.isNumeric=function(e){var t=r.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},r.trim=function(e){return null==e?"":(e+"").replace(Li,"$1")},Y=[],void 0!==(G=function(){return r}.apply(rt,Y))&&(xt.exports=G);var Oi=B.jQuery,Ii=B.$;return r.noConflict=function(e){return B.$===r&&(B.$=Ii),e&&B.jQuery===r&&(B.jQuery=Oi),r},typeof _e>"u"&&(B.jQuery=B.$=r),r})}}]);