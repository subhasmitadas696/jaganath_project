"use strict";(self.webpackChunksjrtproj=self.webpackChunksjrtproj||[]).push([[884],{6884:(U,m,o)=>{o.r(m),o.d(m,{ApplicationHistoryReportModule:()=>s});var g=o(6895),u=o(1595),_=o(5226),h=o.n(_),t=o(4650),f=o(1469),v=o(41),b=o(6852),d=o(4333),A=o(6136);function Z(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"span",27),t._uU(2),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"span",29),t._uU(6),t.qZA(),t.TgZ(7,"div")(8,"span",29),t._uU(9," Khata : "),t.qZA(),t.TgZ(10,"span"),t._uU(11),t.qZA(),t.TgZ(12,"span",29),t._uU(13," Plot No. : "),t.qZA(),t.TgZ(14,"span"),t._uU(15),t.qZA(),t.TgZ(16,"span",29),t._uU(17," Kissam : "),t.qZA(),t.TgZ(18,"span"),t._uU(19),t.qZA()(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.hij("",e.mouzaName,",\xa0"),t.xp6(2),t.hij("",e.tehsilName,", "),t.xp6(2),t.Oqu(e.districtName),t.xp6(5),t.hij(" ",e.khataNo,", "),t.xp6(4),t.hij(" ",e.plotNo,", "),t.xp6(4),t.hij(" ",e.kissam?e.kissam:"N/A"," ")}}function x(i,n){1&i&&t._uU(0," -- ")}function T(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"span",27),t._uU(5),t.qZA(),t.TgZ(6,"span",28),t._uU(7),t.qZA(),t.TgZ(8,"span",29),t._uU(9),t.ALo(10,"masking"),t.qZA(),t.TgZ(11,"span",30),t._uU(12),t.qZA()(),t.TgZ(13,"td"),t.YNc(14,Z,20,6,"ng-container",23),t.YNc(15,x,1,0,"ng-template",null,31,t.W1O),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.TgZ(21,"td",32)(22,"div",33)(23,"button",34),t.NdJ("click",function(){const r=t.CHM(e).$implicit,P=t.oxw(2);return t.KtG(P.viewMore(r.landApplicantId))}),t._UZ(24,"i",35),t.qZA()()()()}if(2&i){const e=n.$implicit,a=n.index,p=t.MAs(16),r=t.oxw(2);t.xp6(2),t.Oqu(a+1+r.indexNumber),t.xp6(3),t.Oqu(e.applicantNo),t.xp6(2),t.Oqu(e.applicantName),t.xp6(2),t.Oqu(t.lcZ(10,11,e.mobileNo)),t.xp6(2),t.Tol(4==e.applicationStatusId?"status--complete":5==e.applicationStatusId||6==e.applicationStatusId||7==e.applicationStatusId?"status--reject":8==e.applicationStatusId||9==e.applicationStatusId||10==e.applicationStatusId?"status--inprogress":"status--pending"),t.xp6(1),t.hij(" ",null!=e.applicationStatus?e.applicationStatus:"Draft",""),t.xp6(2),t.Q6J("ngIf",null!=e.districtName)("ngIfElse",p),t.xp6(4),t.hij(" ",null!=e.applicationFlow?e.applicationFlow:"N/A"," "),t.xp6(2),t.hij(" ",null!=e.remark?e.remark:"N/A"," ")}}const y=function(i,n,e){return{itemsPerPage:i,currentPage:n,totalItems:e}};function C(i,n){if(1&i&&(t.ynx(0),t.YNc(1,T,25,13,"tr",26),t.ALo(2,"paginate"),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.applicationDetails,t.kEZ(4,y,e.tableSize,e.page,e.count)))}}function O(i,n){1&i&&(t.TgZ(0,"tr")(1,"td",36),t._uU(2,"No Record Found"),t.qZA()())}function M(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",37)(1,"pagination-controls",38),t.NdJ("pageChange",function(p){t.CHM(e);const r=t.oxw();return t.KtG(r.onTableDataChange(p))}),t.qZA()()}}class l{constructor(n,e,a,p,r){this.citizenService=n,this.router=e,this.activatedRoute=a,this.encdec=p,this.commonService=r,this.page=1,this.count=0,this.tableSize=10,this.indexNumber=0,this.pageSizes=[10,20,50,100,500,1e3],this.applicationDetails=[]=[]}ngOnInit(){setTimeout(()=>{this.getAppHistoryReport()},5)}getAppHistoryReport(){let n={pageNumber:this.page,pageSize:this.tableSize};this.commonService.setLoader(!0),this.commonService.viewAllWithoutEncode(n,"api/landservices/getactivityhistoryreport").subscribe(e=>{this.commonService.setLoader(!1),200==(e=JSON.parse(e)).status?(this.applicationDetails=e.result.dtodata,this.count=e.count):h().fire({icon:"error",text:"Something Went Wrong!"})},e=>{this.commonService.setLoader(!1),h().fire({icon:"error",text:e})})}gotToDashboard(){this.commonService.goToOwnDashboard()}onTableDataChange(n){this.page=n,this.indexNumber=(this.page-1)*this.tableSize,this.getAppHistoryReport()}onTableSizeChange(n){this.tableSize=n.target.value,this.page=1,this.indexNumber=0}viewMore(n){let e=this.encdec.encText(n.toString());this.router.navigateByUrl("/officer/app-history/"+e)}changeTab(n){this.router.navigateByUrl(n)}}l.\u0275fac=function(n){return new(n||l)(t.Y36(f.m),t.Y36(u.F0),t.Y36(u.gz),t.Y36(v.q),t.Y36(b.R))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-app-history"]],decls:44,vars:3,consts:[[1,"inner-section"],[1,"card","card--custom"],[1,"card-heading","mb-2"],[1,"mb-3"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["aria-hidden","true",1,"bi","bi-house",3,"click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"controls-section-header","p-0"],[1,"nav","nav-tabs","mb-3","p-0"],[1,"nav-item"],["href","javascript:void(0);",1,"nav-link",3,"click"],["href","javascript:void(0);","aria-current","page",1,"nav-link","active",3,"click"],["id","ex1-content",1,"tab-content"],["id","ex1-tabs-1","role","tabpanel","aria-labelledby","ex1-tab-1",1,"tab-pane","fade","show","active"],[1,"table-responsive"],["aria-describedby","appliedland-description","aria-hidden","true",1,"table","table-bordered"],[1,"table-info"],["scope","col","width","5"],["width","","scope","col"],["scope","col"],["scope","col",1,"text-center"],[4,"ngIf","ngIfElse"],["elseTr",""],["class","d-flex justify-content-end",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"fw-bold"],[1,"d-block","text-grey"],[1,"text-grey"],[1,"d-block","fs-small","text-grey","status"],["elseTd",""],[1,"text-center"],[1,""],["title","View More",1,"btn","outline-btn","outline-btn--view","me-2",3,"click"],[1,"icon-view"],["colspan","6",1,"text-center"],[1,"d-flex","justify-content-end"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"]],template:function(n,e){if(1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4,"Land Purchase Application "),t.qZA(),t.TgZ(5,"nav",4)(6,"ol",5)(7,"li",6)(8,"a")(9,"i",7),t.NdJ("click",function(){return e.gotToDashboard()}),t.qZA()()(),t.TgZ(10,"li",8),t._uU(11,"Land Purchase Application "),t.qZA()()()(),t.TgZ(12,"div",9)(13,"ul",10)(14,"li",11)(15,"a",12),t.NdJ("click",function(){return e.changeTab("/officer/report/land-application/land-report")}),t._uU(16,"District Wise"),t.qZA()(),t.TgZ(17,"li",11)(18,"a",13),t.NdJ("click",function(){return e.changeTab("/officer/report/application-history/app-history")}),t._uU(19,"History"),t.qZA()()()(),t.TgZ(20,"div",14)(21,"div",15)(22,"div")(23,"div",16)(24,"table",17)(25,"thead",18)(26,"tr")(27,"th",19),t._uU(28,"Sl#"),t.qZA(),t.TgZ(29,"th",20),t._uU(30,"Applicant Details"),t.qZA(),t.TgZ(31,"th",21),t._uU(32,"Land Schedule"),t.qZA(),t.TgZ(33,"th",21),t._uU(34," Application Flow"),t.qZA(),t.TgZ(35,"th",21),t._uU(36,"Remark "),t.qZA(),t.TgZ(37,"th",22),t._uU(38,"Action"),t.qZA()()(),t.TgZ(39,"tbody"),t.YNc(40,C,3,8,"ng-container",23),t.YNc(41,O,3,0,"ng-template",null,24,t.W1O),t.qZA()()()(),t.YNc(43,M,2,0,"div",25),t.qZA()()()()),2&n){const a=t.MAs(42);t.xp6(40),t.Q6J("ngIf",e.applicationDetails.length>0)("ngIfElse",a),t.xp6(3),t.Q6J("ngIf",e.applicationDetails.length>0)}},dependencies:[g.sg,g.O5,d.LS,d._s,A.F],styles:['.util-set[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.util-set[_ngcontent-%COMP%]   .util-icon[_ngcontent-%COMP%]{margin-left:.5rem;margin-bottom:1.5rem}.util-set[_ngcontent-%COMP%]   .util-icon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:1px solid var(--dark-green);border-radius:var(--radius-6);padding:.2rem .5rem}.util-set[_ngcontent-%COMP%]   .util-icon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--dark-green)}.util-set[_ngcontent-%COMP%]   .util-icon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{box-shadow:#3c40434d 0 1px 2px,#3c404326 0 2px 6px 2px}.outline-btn[_ngcontent-%COMP%]{border-color:var(--dark-green);color:var(--dark-green);transition:all ease .3s}.outline-btn[_ngcontent-%COMP%]:hover{background-color:var(--dark-green);color:var(--white)}.pagination[_ngcontent-%COMP%]{margin-top:1rem}.text-grey[_ngcontent-%COMP%]{color:#817979}.status[_ngcontent-%COMP%]{position:relative;margin-left:.5rem;padding-left:.5rem;color:var(--black-white)}.status[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-8px;top:6px;height:10px;width:10px;border-radius:50%}.status.status--reject[_ngcontent-%COMP%]:before{background-color:#ff6060}.status.status--complete[_ngcontent-%COMP%]:before{background-color:#2ba531}.status.status--pending[_ngcontent-%COMP%]:before{background-color:#e2af00}.status.status--inprogress[_ngcontent-%COMP%]:before{background-color:#03a9f4}']});const N=[{path:"app-history",component:l}];class c{}c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[u.Bz.forChild(N),u.Bz]});var S=o(3493);class s{}s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[g.ez,c,d.JX,S.d]})}}]);