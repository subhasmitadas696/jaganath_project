"use strict";(self.webpackChunksjrtproj=self.webpackChunksjrtproj||[]).push([[685],{8734:(D,A,s)=>{s.d(A,{l:()=>u});var p=s(2340),T=s(4650),f=s(529),x=s(2489);class u{constructor(r,d){this.httpclient=r,this.modalService=d,this.url=p.N.serviceURL,this.apiUrl="api/officer",this.urlLand="land"}open(r,d){throw new Error("Method not implemented.")}fillDropDown(r,d){return this.httpclient.post(this.url+d,r,{responseType:"text"})}getAllDept(){return this.httpclient.post(this.url+"api/officer/getalldept",{responseType:"text"})}getPaginationAllData(r,d){const _={pageNumber:r,pageSize:d};return this.httpclient.post(p.N.serviceURL+`${this.apiUrl}/viewallofficer`,_,{responseType:"text"})}deleteRecord(r,d){return this.httpclient.post(p.N.serviceURL+d,JSON.parse(r),{responseType:"text"})}saveOfficerData(r,d){return this.httpclient.post(p.N.serviceURL+this.apiUrl+"/"+d,r,{responseType:"text"})}getOfficerData(r){return this.httpclient.post(p.N.serviceURL+`${this.apiUrl}/getonerecord`,JSON.parse(r),{responseType:"text"})}getitigendetails(r){const d={userrole:r};return this.httpclient.post(p.N.serviceURL+"showcitizenInfo/getcitizeninfo",d,{responseType:"text"})}getCitizenInfo(r){const d={searchKeyword:r};return this.httpclient.post(p.N.serviceURL+"showcitizenInfo/search",d,{responseType:"text"})}getPaginationData(r,d){const _={pageNumber:r,pageSize:d};return this.httpclient.post(p.N.serviceURL+"showcitizenInfo/pagination",_,{responseType:"text"})}getQueryPaginationData(r,d){const _={pageNumber:r,pageSize:d};return this.httpclient.post(p.N.serviceURL+"viewquery",_,{responseType:"text"})}getSearchData(r,d,_){const g={searchKeyword:r,pageNumber:d,pageSize:_};return this.httpclient.post(p.N.serviceURL+"showcitizenInfo/pagination",g,{responseType:"text"})}querySearchData(r,d,_){const g={searchKeyword:r,pageNumber:d,pageSize:_};return this.httpclient.post(p.N.serviceURL+"viewquery",g,{responseType:"text"})}viewAll(r,d){return this.httpclient.post(this.url+d,r,{responseType:"text"})}getMenuData(r){return this.httpclient.post(this.url+"menumainurl/databinding",JSON.parse(r),{responseType:"text"})}searchQuery(r){return this.httpclient.post(p.N.serviceURL+"viewquery",r)}}u.\u0275fac=function(r){return new(r||u)(T.LFG(f.eN),T.LFG(x.FF))},u.\u0275prov=T.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})},694:(D,A,s)=>{s.d(A,{L:()=>b});var p=s(7206),f=s(3172),x=s(3835),u=s(2811),v=s(2449),r=s(4848),d=s(1274),_=s(7738),g=s(2340),O=s(5226),C=s.n(O),t=s(4650),N=s(2111),L=s(1595),P=s(41),S=s(6852),E=s(529),m=s(433),M=s(1481),U=s(856),y=s(6895),Z=s(4333);const k=["container"];function I(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",65)(1,"h3",66),t._uU(2,"Evaluation of Land Application"),t.qZA(),t.TgZ(3,"nav",67)(4,"ol",68)(5,"li",69)(6,"a",70),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.goToDashboard())}),t._UZ(7,"i",71),t.qZA()(),t.TgZ(8,"li",72),t._uU(9,"Evaluation of Land Application"),t.qZA()()()()}}function R(o,n){if(1&o&&(t.TgZ(0,"option",73),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.district_code),t.xp6(1),t.hij(" ",e.district_name," ")}}function V(o,n){if(1&o&&(t.TgZ(0,"option",73),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.tahasil_code),t.xp6(1),t.hij(" ",e.tahasil_name," ")}}function q(o,n){if(1&o&&(t.TgZ(0,"option",73),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.village_code),t.xp6(1),t.hij(" ",e.village_name," ")}}function B(o,n){if(1&o&&(t.TgZ(0,"option",73),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.khatian_code),t.xp6(1),t.hij(" ",e.khata_no," ")}}function J(o,n){1&o&&(t.TgZ(0,"th",42),t._uU(1,"Remark"),t.qZA())}function K(o,n){1&o&&(t.TgZ(0,"th",42),t._uU(1,"Status"),t.qZA())}function W(o,n){1&o&&(t.TgZ(0,"span",93),t._uU(1,"Pending At Land Officer"),t.qZA())}function j(o,n){1&o&&(t.TgZ(0,"span",93),t._uU(1,"Pending At Deputy Administrator"),t.qZA())}function H(o,n){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.remark)}}function Y(o,n){1&o&&(t.TgZ(0,"span",95),t._uU(1,"Rejected by Dealing officer"),t.qZA())}function z(o,n){1&o&&(t.TgZ(0,"span",95),t._uU(1,"Rejected by Land officer"),t.qZA())}function F(o,n){1&o&&(t.TgZ(0,"span",95),t._uU(1,"Rejected by Deputy Administrator"),t.qZA())}function Q(o,n){1&o&&(t.TgZ(0,"span"),t._uU(1,"N/A"),t.qZA())}function G(o,n){if(1&o&&(t.TgZ(0,"td"),t.YNc(1,Y,2,0,"span",94),t.YNc(2,z,2,0,"span",94),t.YNc(3,F,2,0,"span",94),t.YNc(4,Q,2,0,"span",83),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf","1"==e.approvalLevleId),t.xp6(1),t.Q6J("ngIf","2"==e.approvalLevleId),t.xp6(1),t.Q6J("ngIf","3"==e.approvalLevleId),t.xp6(1),t.Q6J("ngIf",null==e.approvalLevleId)}}function X(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"span",75),t._uU(5),t.qZA(),t.TgZ(6,"div"),t.YNc(7,W,2,0,"span",76),t.YNc(8,j,2,0,"span",76),t.qZA(),t.TgZ(9,"a",77),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.viewScannedCopy(l.districtCode,l.tahasilCode,l.villageCode,l.khataNo,l.plotNo))}),t._uU(10," View Scanned Copy "),t.qZA()(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"date"),t.qZA(),t.TgZ(16,"td")(17,"span",78),t._uU(18),t.qZA(),t.TgZ(19,"span",78),t._uU(20),t.qZA(),t.TgZ(21,"span",79)(22,"span",80),t._uU(23," District : "),t.TgZ(24,"span",81),t._uU(25),t.qZA()(),t.TgZ(26,"span",82),t._uU(27),t.qZA()()(),t.YNc(28,H,2,1,"td",83),t.YNc(29,G,5,4,"td",83),t.TgZ(30,"td",84)(31,"div",85)(32,"button",86),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.viewMore(l.landApplicantId))}),t._UZ(33,"i",87),t.qZA(),t.TgZ(34,"button",88),t.NdJ("click",function(){const l=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.goToKhata(l))}),t._UZ(35,"i",89),t.qZA(),t.TgZ(36,"button",90),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.appHistory(l.landApplicantId))}),t._UZ(37,"i",91),t.qZA(),t.TgZ(38,"button",92),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.pdfClick("Bh",l.districtCode,l.tahasilCode,l.villageCode,l.khataNo))})("click",function(){const l=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.viewScannedCopy(l.districtCode,l.tahasilCode,l.villageCode,l.khataNo,l.plotNo))}),t._uU(39,"Compare"),t.qZA()()()()}if(2&o){const e=n.$implicit,a=n.index,i=t.oxw(2);t.xp6(2),t.Oqu(a+1+i.indexNumber),t.xp6(3),t.Oqu(e.applicantNo),t.xp6(2),t.Q6J("ngIf",4==e.roleId),t.xp6(1),t.Q6J("ngIf",5==e.roleId),t.xp6(4),t.Oqu(e.applicantName),t.xp6(2),t.Oqu(t.xi3(15,12,e.createdOn,"dd/MM/yyyy")),t.xp6(4),t.hij(" ",e.tehsilName,", "),t.xp6(2),t.hij(" ",e.mouzaName,", "),t.xp6(5),t.hij("",e.districtName,","),t.xp6(2),t.hij("Khata No.: ",e.khataNo,""),t.xp6(1),t.Q6J("ngIf","Reject"==i.pageType),t.xp6(1),t.Q6J("ngIf","Reject"==i.pageType)}}const tt=function(o,n,e){return{itemsPerPage:o,currentPage:n,totalItems:e}};function et(o,n){if(1&o&&(t.ynx(0),t.YNc(1,X,40,15,"tr",74),t.ALo(2,"paginate"),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.landApplicantDetailsList,t.kEZ(4,tt,e.tableSize,e.page,e.count)))}}function it(o,n){1&o&&(t.TgZ(0,"tr")(1,"td",96),t._uU(2,"No Records Found."),t.qZA()())}function nt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",97)(1,"pagination-controls",98),t.NdJ("pageChange",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.onTableDataChange(i))}),t.qZA()()}}function at(o,n){if(1&o&&(t.TgZ(0,"div",15)(1,"div",99),t._UZ(2,"span",100),t.TgZ(3,"a",101),t._uU(4),t._UZ(5,"i",102)(6,"span",103),t.qZA()()()),2&o){const e=n.$implicit;t.xp6(3),t.s9C("href",e.link,t.LSH),t.xp6(1),t.hij(" ",e.doc_name," ")}}function ot(o,n){if(1&o&&(t.TgZ(0,"div",15)(1,"div",104)(2,"div",105),t._UZ(3,"iframe",106),t.qZA()(),t.TgZ(4,"div",104),t._UZ(5,"div",107,108),t.qZA()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("src",e.iframeSrc,t.uOi)}}class b{constructor(n,e,a,i,l,c,h,w,lt){this.officerService=n,this.router=e,this.activatedRoute=a,this.encdec=i,this.commonService=l,this.http=c,this.fb=h,this.sanitizer=w,this.activityTracker=lt,this.pageType="New",this.roleId=sessionStorage.getItem("userRoleId")||0,this.userType=sessionStorage.getItem("userType"),this.searchMobileNo="",this.searchapplicantName="",this.serarchUniqueId="",this.serachPlotNo="",this.landApplicants=[],this.indexNumber=0,this.page=1,this.count=0,this.tableSize=10,this.pageSizes=[10,20,50,100,500,1e3],this.baseMap="SatelliteMap",this.plotNumberArray=[],this.scannedCopyList=[],this.linkId="New",this.showHide=!1,this.landApplicantDetailsList=[],this.viewlandform=this.fb.group({selDistrictCode:[0],selTahasilCode:[0],selVillageCode:[0],selKhatianCode:[0]})}ngOnInit(){this.toggleLoader(1,!0),this.commonService.fillDropDown({method:"PlotInformationServiceImpl/fillselDistrictCodeList"},"fillDropDown").subscribe(a=>{this.toggleLoader(1,!1);let i=(a=JSON.parse(a)).RESPONSE_DATA;a.RESPONSE_TOKEN==p.HmacSHA256(i,g.N.apiHashingKey).toString()?(a=f.lW.from(i,"base64"),(a=JSON.parse(a.toString())).result.length>0&&(this.selDistrictCodeList=a.result)):C().fire({icon:"error",text:"Invalid Response"})}),this.osmSource=new _.Z({url:"http://mt0.google.com/vt/lyrs=r&hl=en&x={x}&y={y}&z={z}"}),this.satteliteSource=new _.Z({url:"http://mt0.google.com/vt/lyrs=s&hl=en&x={x}&y={y}&z={z}"}),this.baseLayer=new r.Z({source:this.satteliteSource}),this.villageBoundarySource=new v.Z({url:g.N.geoServerUrl+"geoserver/wms",params:{LAYERS:"SJTA:village_boundary_view"},serverType:"geoserver",crossOrigin:"anonymous"}),this.villageBoundaryLayer=new r.Z({source:this.villageBoundarySource}),this.cadastralPlotBoundarySource=new v.Z({url:g.N.geoServerUrl+"geoserver/wms",params:{LAYERS:"SJTA:cadastral_plot_boundary_view"},serverType:"geoserver",crossOrigin:"anonymous"}),this.cadastralPlotBoundaryLayer=new r.Z({source:this.cadastralPlotBoundarySource}),this.plotBoundarySource=new v.Z({url:g.N.geoServerUrl+"geoserver/wms",params:{LAYERS:"SJTA:sjta_plot_boundary_view"},serverType:"geoserver",crossOrigin:"anonymous"}),this.plotBoundaryLayer=new r.Z({source:this.plotBoundarySource}),this.plotBoundaryHighlightSource=new v.Z({url:g.N.geoServerUrl+"geoserver/wms",params:{LAYERS:"SJTA:sjta_plot_boundary_highlight_view"},serverType:"geoserver",crossOrigin:"anonymous"}),this.plotBoundaryHighlightLayer=new r.Z({source:this.plotBoundaryHighlightSource}),this.map=new x.Z({layers:[this.baseLayer,this.villageBoundaryLayer,this.cadastralPlotBoundaryLayer,this.plotBoundaryLayer,this.plotBoundaryHighlightLayer],target:"map",view:new u.ZP({center:(0,d.mi)([84.27,20.2376]),zoom:6.5})}),this.plotBoundaryHighlightLayer.setVisible(!1);let e=this.activatedRoute.snapshot.paramMap.get("id");if(null!=e){let i=this.encdec.decText(e).split(":");this.linkId=i[0],this.districtCode=i[1],this.tahasilCode=i[2],this.villageCode=i[3]}this.districtCode&&this.viewlandform.patchValue({selDistrictCode:this.districtCode}),this.districtCode&&this.tahasilCode&&this.viewlandform.patchValue({selDistrictCode:this.districtCode,selTahasilCode:this.tahasilCode}),this.districtCode&&this.tahasilCode&&this.villageCode&&this.viewlandform.patchValue({selDistrictCode:this.districtCode,selTahasilCode:this.tahasilCode,selVillageCode:this.villageCode}),setTimeout(()=>{("New"!=this.linkId||""==this.districtCode||""==this.tahasilCode||""==this.villageCode)&&this.changeTab(this.linkId),"New"!=this.linkId||this.districtCode>0||this.tahasilCode>0||this.villageCode>0?this.fetchLandApplicantDetails():this.fetchDataWithoutSearch()},5),this.commonService.setBreadcumData("Application")}loadselTahasilName(n){this.selTahasilCodeList=[];let a={method:"PlotInformationServiceImpl/fillselTahasilCodeList",district_code:n.target.value};this.toggleLoader(4,!0),this.commonService.fillDropDown(a,"fillDropDown").subscribe(i=>{this.toggleLoader(4,!1);let l=(i=JSON.parse(i)).RESPONSE_DATA;i.RESPONSE_TOKEN==p.HmacSHA256(l,g.N.apiHashingKey).toString()?(i=f.lW.from(l,"base64"),(i=JSON.parse(i.toString())).result.length>0&&(this.selTahasilCodeList=i.result)):C().fire({icon:"error",text:"Invalid Response"})})}loadselVillageName(n){this.selVillageCodeList=[];let a={method:"PlotInformationServiceImpl/fillselVillageCodeList",tahasil_code:n.target.value};this.toggleLoader(5,!0),this.commonService.fillDropDown(a,"fillDropDown").subscribe(i=>{this.toggleLoader(5,!1);let l=(i=JSON.parse(i)).RESPONSE_DATA;i.RESPONSE_TOKEN==p.HmacSHA256(l,g.N.apiHashingKey).toString()?(i=f.lW.from(l,"base64"),(i=JSON.parse(i.toString())).result.length>0&&(this.selVillageCodeList=i.result)):C().fire({icon:"error",text:"Invalid Response"})})}loadselKhataName(n){this.selKhatianCode2List=[];let a={method:"PlotInformationServiceImpl/fillselKhatianCodeList",village_code:n.target.value};this.toggleLoader(6,!0),this.commonService.fillDropDown(a,"fillDropDown").subscribe(i=>{this.toggleLoader(6,!1);let l=(i=JSON.parse(i)).RESPONSE_DATA;i.RESPONSE_TOKEN==p.HmacSHA256(l,g.N.apiHashingKey).toString()?(i=f.lW.from(l,"base64"),(i=JSON.parse(i.toString())).result.length>0&&(this.selKhatianCode2List=i.result)):C().fire({icon:"error",text:"Invalid Response"})})}pdfClick(n,e,a,i,l){this.Tehid=a.toString().trim().slice(2),this.Villid=i.toString().trim().slice(4),this.Distid=e,this.khatano=l;let c=this;"Bh"==n?(this.showHide=!0,setTimeout(function(){c.fetchDataFromApi()},100)):this.showHide=!1}fetchDataFromApi(){const n="http://bhulekh.ori.nic.in/ViewRoR.aspx?DistCode="+this.Distid+"&TehCode="+this.Tehid+"&VillCode="+this.Villid+"&KhataNo="+this.khatano+"&type=front";this.http.get(n,{responseType:"text"}).subscribe(e=>{if(null!=e&&""!=e){var a=e.toString(),i=this.extractFormWithContent(a);if(this.containerRef){let h='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n              <html xmlns="http://www.w3.org/1999/xhtml">\n              <head id="Head1"><title>\n                .:BHULEKH || ODISHA:.\n              </title><meta name="description" content="website description" /><meta name="keywords" content="website keywords, website keywords" /><meta http-equiv="content-type" content="text/html; charset=UTF-8" />\n                  \x3c!-- modernizr enables HTML5 elements and feature detects --\x3e\n                  <script type="text/javascript" src="https://bhulekh.ori.nic.in/js/modernizr-1.5.min.js"><\/script>\n                  <script type="text/javascript">\n                      function PrintPanel() {\n                          var panel = document.getElementById("ContentArea");\n                          var printWindow = window.open(\'\', \'\', \'height=900px,width=900px\');\n                          printWindow.document.write(\'<html>\');\n                          printWindow.document.write(\'</head><body style="text-align:center;">\');\n                          printWindow.document.write(panel.innerHTML);\n                          printWindow.document.write(\'</body></html>\');\n                          printWindow.document.close();\n                          setTimeout(function () {\n                              printWindow.print();\n                          }, 500);\n                          return false;\n                      }\n                  <\/script>\n                  <style type="text/css">\n                      .style1 {\n                          width: 175px;\n                      }\n                     .rightbtn {\n                          background-color:#2e9af7; border :none; font-family :Verdana,sans-serif; font-size :12px; color :#fff; padding:11px; font-weight :bold;\n                          cursor :grab;\n                      }\n                     .rightbtn:hover \n                     {\n                         color :#fff; \n                     }\n                  </style>\n              </head>\n              <body style="width: 100%">\n                  <div id="main">\n                      <header>\n                    <div id="logo">\n                    <center><img id="Image2" src="https://bhulekh.ori.nic.in/images/BhulekhBackpage.png" style="width:100%;border-width:0px;" />\n                   </center>\n                    </div>\n                  </header>\n              \n                  </div>\n            '+i+"\n              </body>\n              </html>\n              ";this.containerRef.nativeElement.innerHTML=h}}},e=>{console.error("API Error:",e)})}extractFormWithContent(n){const a=n.match(/<form\b[^>]*>[\s\S]*?<\/form>/);return a?a[0]:null}fetchLandApplicantDetails(){if(this.viewlandform.value.selDistrictCode||this.viewlandform.value.selTahasilCode||this.viewlandform.value.selVillageCode||this.viewlandform.value.selKhatianCode){const n={roleId:this.roleId,mobileNo:this.searchMobileNo,pageNumber:this.page,pageSize:this.tableSize,pageType:this.pageType,districtCode:this.viewlandform.value.selDistrictCode,tahasilCode:this.viewlandform.value.selTahasilCode,villageCode:this.viewlandform.value.selVillageCode,khatianCode:this.viewlandform.value.selKhatianCode};this.commonService.setLoader(!0),this.officerService.getPaginationSearchData(n).subscribe(e=>{this.commonService.setLoader(!1),e=JSON.parse(e),this.landApplicantDetailsList=e.dtodata,this.count=e.count},e=>{this.commonService.setLoader(!1),console.error("Error fetching user details:",e)})}}fetchDataWithoutSearch(){setTimeout(()=>{this.activityTracker.updateTracker("VIEW","Evaluation of Land Application "+this.pageType)},1e3);const n={roleId:this.roleId,pageNumber:this.page,pageSize:this.tableSize,pageType:this.pageType};this.commonService.setLoader(!0),this.officerService.getPaginationAllData(n).subscribe(e=>{this.commonService.setLoader(!1),e=JSON.parse(e),this.landApplicantDetailsList=e.dtodata,this.count=e.count,null!=this.linkId&&null!=this.districtCode&&(this.viewlandform.patchValue({selDistrictCode:this.districtCode}),setTimeout(()=>{const a=document.querySelectorAll("#selDistrictCode");for(let i=0;i<a.length;i++)a[i].dispatchEvent(new Event("change"))},1010),setTimeout(()=>{const a=document.querySelectorAll("#selTahasilCode");for(let i=0;i<a.length;i++)a[i].dispatchEvent(new Event("change"))},2010),setTimeout(()=>{const a=document.querySelectorAll("#selVillageCode");for(let i=0;i<a.length;i++)a[i].dispatchEvent(new Event("change"))},3010),setTimeout(()=>{const a=document.querySelectorAll("#selKhatianCode");for(let i=0;i<a.length;i++)a[i].dispatchEvent(new Event("change"))},4010))},e=>{this.commonService.setLoader(!1),console.error("Error fetching user details:",e)})}appHistory(n){let e=this.encdec.encText(n.toString());this.router.navigateByUrl("/officer/application-history/"+e)}viewScannedCopy(n,e,a,i,l){let c={dist_code:n,tahasil_code:e,vil_code:a,khata_no:a+"-"+i,plot_no:""};this.commonService.setLoader(!0),this.commonService.viewAllWithoutEncode(c,"api/plotsDoc").subscribe(h=>{this.commonService.setLoader(!1),200==(h=JSON.parse(h)).status?(this.scannedCopyList=h.result,this.iframeSrc=this.sanitizer.bypassSecurityTrustResourceUrl(this.scannedCopyList[0]?.link)):C().fire({icon:"error",text:"Something Went Wrong!"})},h=>{this.commonService.setLoader(!1),C().fire({icon:"error",text:h})})}bhulekh(n,e,a,i){let w="http://bhulekh.ori.nic.in/ViewRoR.aspx?DistCode="+n.replace(/^0+/,"")+"&TehCode="+e.toString().trim().slice(2)+"&VillCode="+a.toString().trim().slice(4)+"&KhataNo="+i+"&type=front";window.open(w,"_blank")}viewMore(n){let e=this.encdec.encText(n.toString());"A"==this.userType?this.router.navigateByUrl("/admin/view-more-land-application/"+e):this.router.navigateByUrl("/officer/view-more-land-application/"+e)}onTableDataChange(n){this.page=n,this.indexNumber=(this.page-1)*this.tableSize,this.fetchDataWithoutSearch()}onTableSizeChange(n){this.tableSize=n.target.value,this.page=1,this.indexNumber=0}changeTab(n){this.pageType=n,this.searchapplicantName="",this.serachPlotNo="",this.serarchUniqueId="",this.page=1,this.indexNumber=0,this.fetchDataWithoutSearch()}goToKhata(n){this.plotId=this.landApplicantDetailsList[n].plotNo;for(let e=0;e<this.landApplicantDetailsList.length;e++)this.landApplicantDetailsList[e].plotNo==this.plotId&&(this.plotNumberArray.push(this.landApplicantDetailsList[e].plotNo),this.plotBoundaryHighlightLayer.getSource().updateParams({LAYERS:"SJTA:sjta_plot_boundary_highlight_view",CQL_FILTER:"plot_no in("+this.plotNumberArray.join(",")+")"}),this.plotNumberArray.length>0&&this.plotNumberArray.shift(),this.gotoExtent(this.landApplicantDetailsList[e].extent));this.plotBoundaryHighlightLayer.setVisible(!0),setTimeout(()=>{this.map.updateSize()},1e3)}gotoExtent(n){var e=n.split("BOX(")[1].split(")")[0].split(","),a=e[0].split(" "),i=e[1].split(" "),l=[parseFloat(a[0]),parseFloat(a[1]),parseFloat(i[0]),parseFloat(i[1])];this.map.getView().fit(l,{duration:3e3})}goToBase(){this.map.getView().animate({center:(0,d.mi)([84.27,20.2376]),zoom:6.5})}fetchLandApplicantDetailsPage(){this.fetchDataWithoutSearch(),this.viewlandform.reset(),this.viewlandform.patchValue({selDistrictCode:0,selTahasilCode:0,selVillageCode:0,selKhatianCode:0})}toggleLoader(n,e){let a=$("#loader"+n).closest("div").find("select").attr("id");$(".loader1").addClass("d-none"),$("#"+a).prop("disabled",!1),e&&($("#loader"+n).removeClass("d-none"),$("#"+a).prop("disabled",!0))}goToDashboard(){this.commonService.goToOwnDashboard()}}b.\u0275fac=function(n){return new(n||b)(t.Y36(N.J),t.Y36(L.F0),t.Y36(L.gz),t.Y36(P.q),t.Y36(S.R),t.Y36(E.eN),t.Y36(m.qu),t.Y36(M.H7),t.Y36(U.h))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-view-land-application"]],viewQuery:function(n,e){if(1&n&&t.Gf(k,5),2&n){let a;t.iGM(a=t.CRH())&&(e.containerRef=a.first)}},decls:132,vars:27,consts:[[1,"inner-section"],[1,"card","card--custom"],["class","card-heading mb-3",4,"ngIf"],[1,"controls-section-header","p-0","pt-3"],["id","ex1","role","tablist",1,"nav","nav-tabs","mb-4"],["role","presentation",1,"nav-item"],["id","ex1-tab-1","data-bs-toggle","tab","href","#ext-type","role","tab","aria-controls","ext-type","aria-selected","true",1,"nav-link",3,"click"],["id","ex1-tab-2","data-bs-toggle","tab","href","#ext-type","role","tab","aria-controls","ext-type","aria-selected","false",1,"nav-link",3,"click"],["id","ex1-tab-3","data-bs-toggle","tab","href","#ext-type","role","tab","aria-controls","ext-type","aria-selected","false",1,"nav-link",3,"click"],["id","ex1-tab-4","data-bs-toggle","tab","href","#ext-type","role","tab","aria-controls","ext-type","aria-selected","false",1,"nav-link",3,"click"],["id","ex1-tab-5","data-bs-toggle","tab","href","#ext-type","role","tab","aria-controls","ext-type","aria-selected","false",1,"nav-link",3,"click"],["id","ex1-content",1,"tab-content"],["id","ext-type","role","tabpanel","aria-labelledby","ex1-tab-1",1,"tab-pane","fade","show","active"],[1,"search-field"],[3,"formGroup"],[1,"row"],[1,"col-xxl-4","col-xl-4","col-lg-4","col-md-12","col-sm-12"],[1,"floating-label-content","w-100"],["Class","floating-label "],[1,"control-item"],["formControlName","selDistrictCode","id","selDistrictCode",1,"form-select","floating-input",3,"change"],["selDistrictCode",""],["value","0","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","loader3",1,"loader1","d-none"],["aria-hidden","true",1,"spinner-border","text-secondary","spinner-border-sm","me-2"],["formControlName","selTahasilCode","id","selTahasilCode",1,"form-select","floating-input",3,"change"],["selTahasilCode",""],["id","loader4",1,"loader1","d-none"],["formControlName","selVillageCode","id","selVillageCode",1,"form-select","floating-input",3,"change"],["selVillageCode",""],["id","loader5",1,"loader1","d-none"],["formControlName","selKhatianCode","id","selKhatianCode",1,"form-select","floating-input"],["selKhatianCode",""],["id","loader6",1,"loader1","d-none"],[1,"btn","btn-warning","btn-sm","mb-3","search-btn","fw-bold","me-2",3,"click"],["aria-hidden","true",1,"bi","bi-search"],[1,"btn","mb-3","fw-bold","btn-refresh",3,"click"],["aria-hidden","true",1,"bi","bi-arrow-clockwise"],[1,"table-responsive"],["aria-describedby","viewlandapplication-description",1,"table","table-bordered"],[1,"table-info"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseTr",""],["class","d-flex justify-content-end",4,"ngIf"],["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header","p-0"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["id","staticBackdropLabel",1,"modal-title","mb-3"],["id","map",1,"map"],["id","staticBackdrop2","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-md","modal-dialog-centered"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-title","mb-4","h4"],["class","row",4,"ngFor","ngForOf"],["id","exampleModalOne","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl","modal-dialog-centered"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["class","row",4,"ngIf"],[1,"card-heading","mb-3"],[1,"mb-3"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"click"],["aria-hidden","true",1,"bi","bi-house"],["aria-current","page",1,"breadcrumb-item","active"],[3,"value"],[4,"ngFor","ngForOf"],[1,"d-block","fw-bold"],["class","d-block fs-small text-grey status status--pending",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#staticBackdrop2",1,"badge","link-success","p-0",3,"click"],[1,"text-grey"],[1,"d-block"],[1,"text-grey","fw-bold"],[1,"text-success"],[1,"text-grey","d-block"],[4,"ngIf"],[1,"text-center"],[1,"d-flex"],["title","View Details",1,"btn","outline-btn","outline-btn--view","me-2",3,"click"],["aria-hidden","true",1,"icon-view"],["title","View in Map ","data-bs-toggle","modal","data-bs-target","#staticBackdrop",1,"btn","outline-btn","outline-btn--map","me-2",3,"click"],[1,"icon-map-icon"],["title","Application history",1,"btn","outline-btn","outline-btn--edit",3,"click"],["aria-hidden","true",1,"icon-pending-2"],["title","Compare Scan Pdf with Bhulekh","data-bs-toggle","modal","data-bs-target","#exampleModalOne",1,"btn","btn-outline-secondary","btn-sm","d-block","ms-2",3,"click"],[1,"d-block","fs-small","text-grey","status","status--pending"],["class","d-block fs-small text-grey status status--reject",4,"ngIf"],[1,"d-block","fs-small","text-grey","status","status--reject"],["colspan","9",1,"text-center"],[1,"d-flex","justify-content-end"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"col-xxl-12","col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],[1,"me-2","number"],["target","_blank","rel","noopener",1,"",3,"href"],["aria-hidden","true",1,"bi","bi-download","ms-2","me-2"],[1,"text-grey","fs-small"],[1,"col-xxl-6","col-xl-6","col-lg-6","col-md-12","col-sm-12"],[1,"iframe_area","mt-3"],["title","view-port",1,"w-100",3,"src"],[1,"bhulekh","mt-3"],["container",""]],template:function(n,e){if(1&n&&(t.TgZ(0,"section",0)(1,"div",1),t.YNc(2,I,10,0,"div",2),t.TgZ(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),t.NdJ("click",function(){return e.changeTab("New")}),t._uU(7,"New"),t.qZA()(),t.TgZ(8,"li",5)(9,"a",7),t.NdJ("click",function(){return e.changeTab("Under Process")}),t._uU(10," Forwarded"),t.qZA()(),t.TgZ(11,"li",5)(12,"a",8),t.NdJ("click",function(){return e.changeTab("Revert to Citizen")}),t._uU(13,"Reverted to Citizen"),t.qZA()(),t.TgZ(14,"li",5)(15,"a",9),t.NdJ("click",function(){return e.changeTab("Approved")}),t._uU(16,"Approved"),t.qZA()(),t.TgZ(17,"li",5)(18,"a",10),t.NdJ("click",function(){return e.changeTab("Reject")}),t._uU(19,"Rejected"),t.qZA()()()(),t.TgZ(20,"div",11)(21,"div",12)(22,"div")(23,"div",13)(24,"form",14)(25,"div",15)(26,"div",16)(27,"div",17)(28,"label",18),t._uU(29),t.qZA(),t.TgZ(30,"div",19)(31,"select",20,21),t.NdJ("change",function(i){return e.loadselTahasilName(i)}),t.TgZ(33,"option",22),t._uU(34,"--Select--"),t.qZA(),t.YNc(35,R,2,2,"option",23),t.qZA()(),t.TgZ(36,"div",24),t._UZ(37,"span",25),t.qZA()()(),t.TgZ(38,"div",16)(39,"div",17)(40,"label",18),t._uU(41),t.qZA(),t.TgZ(42,"div",19)(43,"select",26,27),t.NdJ("change",function(i){return e.loadselVillageName(i)}),t.TgZ(45,"option",22),t._uU(46,"--Select--"),t.qZA(),t.YNc(47,V,2,2,"option",23),t.qZA()(),t.TgZ(48,"div",28),t._UZ(49,"span",25),t.qZA()()(),t.TgZ(50,"div",16)(51,"div",17)(52,"label",18),t._uU(53),t.qZA(),t.TgZ(54,"div",19)(55,"select",29,30),t.NdJ("change",function(i){return e.loadselKhataName(i)}),t.TgZ(57,"option",22),t._uU(58,"--Select--"),t.qZA(),t.YNc(59,q,2,2,"option",23),t.qZA()(),t.TgZ(60,"div",31),t._UZ(61,"span",25),t.qZA()()(),t.TgZ(62,"div",16)(63,"div",17)(64,"label",18),t._uU(65),t.qZA(),t.TgZ(66,"div",19)(67,"select",32,33)(69,"option",22),t._uU(70,"--Select--"),t.qZA(),t.YNc(71,B,2,2,"option",23),t.qZA()(),t.TgZ(72,"div",34),t._UZ(73,"span",25),t.qZA()()(),t.TgZ(74,"div",16)(75,"button",35),t.NdJ("click",function(){return e.fetchLandApplicantDetails()}),t._UZ(76,"i",36),t.qZA(),t.TgZ(77,"button",37),t.NdJ("click",function(){return e.fetchLandApplicantDetailsPage()}),t._UZ(78,"i",38),t.qZA()()()()(),t.TgZ(79,"div",39)(80,"table",40)(81,"thead",41)(82,"tr")(83,"th",42),t._uU(84,"Sl#"),t.qZA(),t.TgZ(85,"th",42),t._uU(86,"Application No."),t.qZA(),t.TgZ(87,"th",42),t._uU(88,"Applicant Name"),t.qZA(),t.TgZ(89,"th",42),t._uU(90,"Applied Date"),t.qZA(),t.TgZ(91,"th",42),t._uU(92,"Land Details"),t.qZA(),t.YNc(93,J,2,0,"th",43),t.YNc(94,K,2,0,"th",43),t.TgZ(95,"th",42),t._uU(96,"Action"),t.qZA()()(),t.TgZ(97,"tbody"),t.YNc(98,et,3,8,"ng-container",44),t.YNc(99,it,3,0,"ng-template",null,45,t.W1O),t.qZA()()(),t.YNc(101,nt,2,0,"div",46),t.qZA()()()()(),t.TgZ(102,"div",47)(103,"div",48)(104,"div",49)(105,"div",50)(106,"button",51),t.NdJ("click",function(){return e.goToBase()}),t.qZA()(),t.TgZ(107,"div",52)(108,"h4",53),t._uU(109,"Choose from Map "),t.qZA(),t._UZ(110,"div",54),t.qZA()()()(),t.TgZ(111,"div",55)(112,"div",56)(113,"div",49)(114,"div",50),t._UZ(115,"button",57),t.qZA(),t.TgZ(116,"div",52)(117,"h5",58),t._uU(118," Khatian Digital Files"),t.qZA(),t.TgZ(119,"div")(120,"p"),t._uU(121,"You can view all scanned copy from the below links: "),t.qZA()(),t.YNc(122,at,7,2,"div",59),t.qZA()()()(),t.TgZ(123,"div",60)(124,"div",61)(125,"div",49)(126,"div",62)(127,"h5",63),t._uU(128,"Comparsion between Scan Pdf and Bhulekh"),t.qZA(),t._UZ(129,"button",57),t.qZA(),t.TgZ(130,"div",52),t.YNc(131,ot,7,1,"div",64),t.qZA()()()()),2&n){const a=t.MAs(100);t.xp6(2),t.Q6J("ngIf","A"!=e.userType),t.xp6(4),t.Tol("New"==e.linkId?"active":""),t.xp6(3),t.Tol("Under Process"==e.linkId?"active":""),t.xp6(3),t.Tol("Revert to Citizen"==e.linkId?"active":""),t.xp6(3),t.Tol("Approved"==e.linkId?"active":""),t.xp6(3),t.Tol("Reject"==e.linkId?"active":""),t.xp6(6),t.Q6J("formGroup",e.viewlandform),t.xp6(5),t.hij("","District Name"," "),t.xp6(6),t.Q6J("ngForOf",e.selDistrictCodeList),t.xp6(6),t.hij("","Tahasil Name"," "),t.xp6(6),t.Q6J("ngForOf",e.selTahasilCodeList),t.xp6(6),t.hij("","Village Name"," "),t.xp6(6),t.Q6J("ngForOf",e.selVillageCodeList),t.xp6(6),t.hij("","Khata No."," "),t.xp6(6),t.Q6J("ngForOf",e.selKhatianCode2List),t.xp6(22),t.Q6J("ngIf","Reject"==e.pageType),t.xp6(1),t.Q6J("ngIf","Reject"==e.pageType),t.xp6(4),t.Q6J("ngIf",e.landApplicantDetailsList.length>0)("ngIfElse",a),t.xp6(3),t.Q6J("ngIf",e.landApplicantDetailsList.length>0),t.xp6(21),t.Q6J("ngForOf",e.scannedCopyList),t.xp6(9),t.Q6J("ngIf",e.showHide)}},dependencies:[y.sg,y.O5,m._Y,m.YN,m.Kr,m.EJ,m.JJ,m.JL,m.sg,m.u,Z.LS,y.uU,Z._s],styles:['.section[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{margin-top:20px;font-size:14px;font-size:medium;font-family:sans-serif}.section[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:15px}.section[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{margin-right:0}.section[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]{margin-top:10px}.card-heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;margin-bottom:2rem;border-bottom:1px solid #f1f1f1}.search-field[_ngcontent-%COMP%]{border-bottom:.06rem solid #f1f1f1;margin-bottom:.5rem}.util-set[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.util-set[_ngcontent-%COMP%]   .util-icon[_ngcontent-%COMP%]{margin-left:.5rem;margin-bottom:1.5rem;margin-top:1rem}.util-set[_ngcontent-%COMP%]   .util-icon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:1px solid var(--dark-green);border-radius:var(--radius-6);padding:.2rem .5rem}.util-set[_ngcontent-%COMP%]   .util-icon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--dark-green)}.util-set[_ngcontent-%COMP%]   .util-icon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{box-shadow:#3c40434d 0 1px 2px,#3c404326 0 2px 6px 2px}.pagination[_ngcontent-%COMP%]{margin-top:1rem}.modal-content[_ngcontent-%COMP%]{background-color:var(--white)}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .view-map[_ngcontent-%COMP%]{height:400px;width:100%}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .view-map[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}#map[_ngcontent-%COMP%]{height:71vh;width:100%}.status[_ngcontent-%COMP%]{position:relative;margin-left:.5rem;padding-left:.5rem;color:#000}.status[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-8px;top:6px;height:10px;width:10px;border-radius:50%}.status.status--reject[_ngcontent-%COMP%]:before{background-color:#ff6060}.status.status--complete[_ngcontent-%COMP%]:before{background-color:#2ba531}.status.status--pending[_ngcontent-%COMP%]:before{background-color:#e2af00}.status.status--inprogress[_ngcontent-%COMP%]:before{background-color:#03a9f4}.badge[_ngcontent-%COMP%]{font-size:.8rem}.bhulekh[_ngcontent-%COMP%]{overflow-x:hidden;height:400px;padding-right:.5rem}@media (max-width: 1366px){.bhulekh[_ngcontent-%COMP%]{height:300px}}.iframe_area[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:400px;overflow-x:hidden}@media (max-width: 1366px){.iframe_area[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:300px}}tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#f0f5f1!important}.error-message[_ngcontent-%COMP%]{color:red;text-align:left;font-size:small}']})}}]);